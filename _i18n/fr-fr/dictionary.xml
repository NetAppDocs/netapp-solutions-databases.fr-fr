<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="d1029167179320d8b6d70b11c3d01bd3" category="list-text">Exigences pour le nœud de contrôle Ansible :</block>
  <block id="5c263f30899f93ff7ccd457ad3eb956f" category="list-text">Une machine RHEL/CentOS avec les packages suivants installés :</block>
  <block id="ca60b3698dd3d27a5f91e4dc0a1a2546" category="list-text">Python3</block>
  <block id="4ce3ea126bb844d4f8c4ce1a65cbe3ae" category="list-text">Pip3</block>
  <block id="881cbd1ce3fdb52f73a82f8674a2a364" category="list-text">Ansible (version supérieure à 2.10.0)</block>
  <block id="0bcc70105ad279503e31fe7b3f47b665" category="list-text">Git</block>
  <block id="7b643b0eef9cf1199195fa05b77fc3c8" category="paragraph">Si vous disposez d'une nouvelle machine RHEL/CentOS sans les exigences ci-dessus installées, suivez les étapes ci-dessous pour configurer cette machine comme nœud de contrôle Ansible :</block>
  <block id="d2052f202108defaf6afc7831ba59362" category="list-text">Activer le référentiel Ansible pour RHEL-8/RHEL-7</block>
  <block id="61fbc2f21db84f17551fda6893429d16" category="list-text">Pour RHEL-8 (exécutez la commande ci-dessous en tant que root)</block>
  <block id="77cd42f765e6b40764459a64a979f90c" category="list-text">Pour RHEL-7 (exécutez la commande ci-dessous en tant que root)</block>
  <block id="675f82a779038c3f679b04bc0aadca1a" category="list-text">Collez le contenu ci-dessous dans le terminal</block>
  <block id="9ced761647f5d80fe615526ffff63937" category="list-text">Une machine Ubuntu/Debian avec les packages suivants installés :</block>
  <block id="6e3d8a0ff7934b777031953fe936bac8" category="paragraph">Si vous disposez d'une nouvelle machine Ubuntu/Debian sans les exigences ci-dessus installées, suivez les étapes ci-dessous pour configurer cette machine comme nœud de contrôle Ansible :</block>
  <block id="56ee829a33ac57c3b6d427e35b3b2e86" category="list-text">Collez le contenu ci-dessous dans le terminal</block>
  <block id="c4053f20c3fe50fe899484a64367439e" category="list-text">Configurer les informations d'identification.</block>
  <block id="61efb6ce79debd57f1e5eb28b08f94ba" category="list-text">Créer des types d’informations d’identification. Pour les solutions impliquant ONTAP, vous devez configurer le type d'informations d'identification pour qu'il corresponde aux entrées de nom d'utilisateur et de mot de passe. Nous ajouterons également des entrées pour Cloud Central et AWS.</block>
  <block id="c87e3da0a9f8d5eeacea4eac9bef80ea" category="list-text">Accédez à Administration → Types d’informations d’identification, puis cliquez sur Ajouter.</block>
  <block id="e6bf632438290fdf98265b2b18943118" category="list-text">Fournissez le nom et la description.</block>
  <block id="5f5a0974b600f86bd4e77595282fcf70" category="list-text">Collez le contenu suivant dans la configuration d'entrée :</block>
  <block id="b95cd128bfca5d5c9181a46d0392c360" category="list-text">Collez le contenu suivant dans la configuration de l'injecteur et cliquez sur Enregistrer :</block>
  <block id="75f3f97810b5eef177a5355b86dabfd0" category="list-text">Créer des informations d'identification pour ONTAP/ CVO / AWS</block>
  <block id="41dcc8a8aaaa79a511ba0ab4e6bde225" category="list-text">Accédez à Ressources → Informations d’identification, puis cliquez sur Ajouter.</block>
  <block id="0a0aab79fb5a20fa5f830947226ef87c" category="list-text">Saisissez le nom et les détails de l'organisation pour les informations d'identification ONTAP</block>
  <block id="81999e930ad44af27e84682c3ea1e750" category="list-text">Sélectionnez le type d’informations d’identification créé à l’étape précédente.</block>
  <block id="68085bee9e04417d4d9e74101a357a22" category="list-text">Sous Détails du type, saisissez le nom d'utilisateur et le mot de passe de vos clusters source et CVO, Cloud Central/Manager, AWS Access/Secret Key et Cloud Central Refresh Token.</block>
  <block id="c4be718383c8ca0aa17633d911fc38fd" category="list-text">Cliquez sur Enregistrer</block>
  <block id="922922f515b0ac072e20128999512b50" category="list-text">Créer des informations d'identification pour Oracle (source)</block>
  <block id="7ebca140d5dcaa006aeda44b19cfc52e" category="list-text">Saisissez le nom et les détails de l'organisation pour l'hôte Oracle</block>
  <block id="9ef3fcc446a5f500717f9b5e9291bce4" category="list-text">Sélectionnez le type d’informations d’identification de la machine.</block>
  <block id="9fadc5c4eed350a8a1423628227dad59" category="list-text">Sous Détails du type, entrez le nom d’utilisateur et le mot de passe des hôtes Oracle.</block>
  <block id="b4ca3125325138b1dbfc309e6bd67b80" category="list-text">Sélectionnez la méthode d’escalade des privilèges appropriée et entrez le nom d’utilisateur et le mot de passe.</block>
  <block id="ca530facf78f2112c60ee838d85b9b5b" category="list-text">Créer des informations d'identification pour la destination Oracle</block>
  <block id="063e8368b0de123266b00f2c88e317fb" category="list-text">Saisissez le nom et les détails de l'organisation de l'hôte Oracle DR</block>
  <block id="0d28c8cc8415971cf2cd02507176bf94" category="list-text">Sous Détails du type, entrez le nom d'utilisateur (ec2-user ou si vous l'avez modifié par défaut, entrez-le) et la clé privée SSH.</block>
  <block id="cb8f433dfb62a17f7a02f4d7a8839b1c" category="list-text">Sélectionnez la méthode d’escalade des privilèges appropriée (sudo) et entrez le nom d’utilisateur et le mot de passe si nécessaire.</block>
  <block id="761c6650d41a55d48a8779f30441d410" category="paragraph">[.underline]*Planification du manuel de réplication binaire et de base de données*</block>
  <block id="0676783b7d49061bfb23deb83b2d2f82" category="paragraph">*Configurer et lancer le modèle de tâche.*</block>
  <block id="2c777d857235f251004d6d8d70c9751d" category="list-text">Copiez le modèle de travail précédemment créé.</block>
  <block id="3624b34cb634949984bcb28c79fd327f" category="list-text">Accédez à Ressources → Modèles.</block>
  <block id="1eb977b1f69b531db931e9c62c1a0de9" category="list-text">Recherchez le modèle de configuration ONTAP/ CVO et, à l'extrême droite, cliquez sur Copier le modèle</block>
  <block id="3c96e57d33780bedfb652def025f39de" category="list-text">Cliquez sur Modifier le modèle sur le modèle copié et remplacez le nom par Playbook de réplication binaire et de base de données.</block>
  <block id="b07fb736e8c17cea7e9e3753e7a67fd1" category="list-text">Conservez le même inventaire, le même projet et les mêmes informations d'identification pour le modèle.</block>
  <block id="f42c6e71dcb07b403b8393d5ab7f7fe4" category="list-text">Sélectionnez ora_replication_cg.yml comme playbook à exécuter.</block>
  <block id="69fa06239fd734936aac1af5250c7f57" category="list-text">Les variables resteront les mêmes, mais l'adresse IP du cluster CVO devra être définie dans la variable dst_cluster_ip.</block>
  <block id="7557bd62e953fb4d48f07977151ea94f" category="list-text">Cliquez sur Enregistrer.</block>
  <block id="ec7445bbcbadd1f11fe1bc3e5e56eef9" category="list-text">Planifiez le modèle de travail.</block>
  <block id="ce0d20e65f0354847807516cbcc696f6" category="list-text">Cliquez sur le modèle Playbook de réplication binaire et de base de données, puis cliquez sur Planifications dans l’ensemble d’options supérieur.</block>
  <block id="d9a6405dc4a6cd71f6d77c749070a5e6" category="list-text">Cliquez sur Ajouter, ajoutez le nom de la planification pour la réplication binaire et de base de données, choisissez la date/heure de début au début de l'heure, choisissez votre fuseau horaire local et la fréquence d'exécution.  La fréquence d'exécution sera souvent celle à laquelle la réplication SnapMirror sera mise à jour.</block>
  <block id="2dc4dec75c83aeb010419dc2a02da40b" category="admonition">Un calendrier distinct sera créé pour la réplication du volume de journaux, afin qu'il puisse être répliqué à une cadence plus fréquente.</block>
  <block id="cc36ca6e0e804cbe384af97fa6777784" category="paragraph">[.underline]*Planification du manuel de réplication des journaux*</block>
  <block id="2e5aaa84bafa09b7962d4388f8ea75f5" category="paragraph">*Configurer et lancer le modèle de tâche*</block>
  <block id="048f2ee27b8617cb0e13b6a0b7da956f" category="list-text">Cliquez sur Modifier le modèle sur le modèle copié et remplacez le nom par Playbook de réplication de journaux.</block>
  <block id="d4a86123c8e623e35eaa51ab9583e03b" category="list-text">Sélectionnez ora_replication_logs.yml comme playbook à exécuter.</block>
  <block id="d6e504930da1d0732ea4162514a38e8e" category="list-text">Cliquez sur le modèle Playbook de réplication des journaux, puis sur Planifications dans l’ensemble d’options supérieur.</block>
  <block id="1c03188c731004905466903c2eb763c4" category="list-text">Cliquez sur Ajouter, ajoutez le nom de la planification pour la réplication du journal, choisissez la date/heure de début au début de l'heure, choisissez votre fuseau horaire local et la fréquence d'exécution.  La fréquence d'exécution sera souvent celle à laquelle la réplication SnapMirror sera mise à jour.</block>
  <block id="d23bfe090a9fd09613c7a6573f619c02" category="admonition">Il est recommandé de définir la planification du journal pour qu'il soit mis à jour toutes les heures afin de garantir la récupération jusqu'à la dernière mise à jour horaire.</block>
  <block id="50d33cb309a9ea4bacb0a5541498b670" category="list-text">Créer des types d’informations d’identification.  Pour les solutions impliquant ONTAP, vous devez configurer le type d'informations d'identification pour qu'il corresponde aux entrées de nom d'utilisateur et de mot de passe.</block>
  <block id="c048e95ab07253cc1cb87bef130c410b" category="list-text">Collez le contenu suivant dans la configuration de l'injecteur, puis cliquez sur Enregistrer :</block>
  <block id="9302fe5c60a983a24bb8787c00db4862" category="list-text">Créer des informations d'identification pour ONTAP</block>
  <block id="1546222d368538c25b5704b5fcf160f5" category="list-text">Sous Détails du type, saisissez le nom d’utilisateur et le mot de passe de vos clusters source et de destination.</block>
  <block id="39f6f9fe82cbf0c0970d13b6a043ad84" category="list-text">Créer des informations d'identification pour Oracle</block>
  <block id="30d4be106e7fb63befec4c8c7c815ad0" category="list-text">Saisissez le nom et les détails de l'organisation pour Oracle</block>
  <block id="61d6c643401e4a602f3c8b4b6fc0a93c" category="list-text">Répétez le processus si nécessaire pour des informations d'identification différentes pour l'hôte dr_oracle.</block>
  <block id="79e25855a129063cf2ce44e0ab92dbde" category="paragraph">[.underline]* Configuration ONTAP et CVO*</block>
  <block id="b1171f0b44b8d9b11ac555972ebc8c3b" category="list-text">Créez le modèle de travail.</block>
  <block id="0fd181172a82ebe5219e9a30e5d97c0d" category="list-text">Accédez à Ressources → Modèles → Ajouter et cliquez sur Ajouter un modèle de travail.</block>
  <block id="6bc14a28f101e9d80ecc643ef13ef7fb" category="list-text">Entrez le nom ONTAP/CVO Setup</block>
  <block id="a7244f663b97629084f004e6c89b4a75" category="list-text">Sélectionnez le type de travail ; Exécuter configure le système en fonction d'un playbook.</block>
  <block id="daefcb84cec2b58089094a64cefb845f" category="list-text">Sélectionnez l’inventaire, le projet, le playbook et les informations d’identification correspondants pour le playbook.</block>
  <block id="57344b3bd58c0e451513e303e45d49b7" category="list-text">Sélectionnez le playbook ontap_setup.yml pour un environnement sur site ou sélectionnez cvo_setup.yml pour la réplication vers une instance CVO.</block>
  <block id="ce150ce9cfe145db199958e7cd2ecce0" category="list-text">Collez les variables globales copiées à l’étape 4 dans le champ Variables de modèle sous l’onglet YAML.</block>
  <block id="31e2568c13fbdaaad088eb3b665dea9d" category="list-text">Lancez le modèle de travail.</block>
  <block id="56ae7378358ba2b1c55c47283f544991" category="list-text">Cliquez sur le modèle souhaité, puis sur Lancer.</block>
  <block id="41c1d72990c270d0221458749497c3e6" category="admonition">Nous utiliserons ce modèle et le copierons pour les autres playbooks.</block>
  <block id="8e43fbf8e210fdbb3e1d59ca59cde628" category="list-text">Cliquez sur Modifier le modèle sur le modèle copié et remplacez le nom par Playbook de restauration et de récupération.</block>
  <block id="42f2159b893bbf4b6bf098ba9a026a1c" category="list-text">Sélectionnez ora_recovery.yml comme playbook à exécuter.</block>
  <block id="0a3fe9b740fe79971ae2379eaec4822c" category="admonition">Ce playbook ne sera pas exécuté tant que vous ne serez pas prêt à restaurer votre base de données sur le site distant.</block>
  <block id="5bbe8264b4d6c6787657c66d4017c183" category="doc">Configuration de l'hôte VARS</block>
  <block id="52320018ddc230fda7bdeccfda8b9f0a" category="doc">Où aller chercher de l’aide ?</block>
  <block id="8a4b419d5126ba3004ad4d071ac8a766" category="list-text">Connectez-vous au serveur Oracle en tant qu’utilisateur Oracle et exécutez les commandes suivantes :</block>
  <block id="f673434da0f39c1b4366cbc45f67da8a" category="admonition">Cela répertoriera les processus Oracle si l'installation s'est terminée comme prévu et que la base de données Oracle a démarré.</block>
  <block id="38333d478471b938020592b577fc16c2" category="list-text">Connectez-vous à la base de données pour vérifier les paramètres de configuration de la base de données et les PDB créés avec les ensembles de commandes suivants.</block>
  <block id="83669449150d17df292a91b9fdab8c54" category="paragraph">Cela confirme que dNFS fonctionne correctement.</block>
  <block id="b178089f1eac81c2c81eba2c223e2740" category="list-text">Connectez-vous à la base de données via l'écouteur pour vérifier la configuration de l'écouteur Oracle avec la commande suivante.  Passez au port d'écoute et au nom du service de base de données appropriés.</block>
  <block id="9f4dc1f81d694d1c48953880d5be0ea7" category="paragraph">Cela confirme que l'écouteur Oracle fonctionne correctement.</block>
  <block id="1b6a5f8b328d3175066895d7ff5ea576" category="inline-link-macro">Canal Slack d'assistance de la communauté NetApp Solution Automation</block>
  <block id="12f178498803c606c23e7166dcefb0cb" category="paragraph">Si vous avez besoin d'aide avec la boîte à outils, veuillez vous joindre à nous.<block ref="f1bb21e2ce6888d898ae31a2098245a1" category="inline-link-macro-rx"></block> et recherchez le canal solution-automatisation pour poster vos questions ou demandes de renseignements.</block>
  <block id="4bea7b97045c9b0e4ce9c8011fb9152f" category="summary">La solution fournit une boîte à outils d'automatisation basée sur Terraform pour le provisionnement du cluster FSx ONTAP et de l'instance de calcul EC2</block>
  <block id="40fe82be1dcddf04fa06215186892fca" category="doc">Cluster AWS FSx ONTAP et provision d'instances EC2</block>
  <block id="1e7007fdca2061f9d6a2ce2a055e96ef" category="paragraph">Équipe d'ingénierie des solutions NetApp</block>
  <block id="eb5fc38b852160a5fb5ad993b7a41efe" category="paragraph">Cette solution fournit une boîte à outils d'automatisation basée sur Terraform pour le provisionnement du cluster FSx ONTAP et de l'instance de calcul EC2.</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="section-title">But</block>
  <block id="e3637f41b7212e1a66abdc03f5c26148" category="paragraph">Cette boîte à outils automatise les tâches de provisionnement d'un cluster de stockage AWS FSx ONTAP et d'une instance de calcul EC2, qui peuvent ensuite être utilisées pour le déploiement de bases de données.</block>
  <block id="e60de72a8067fd05498b03b24d9f93e7" category="paragraph">Cette solution répond aux cas d’utilisation suivants :</block>
  <block id="03a4416e24ed4a9b0f3d357eb5ee56b6" category="list-text">Provisionnez une instance de calcul EC2 dans le cloud AWS dans un sous-réseau VPC prédéfini et définissez la clé ssh pour l'accès à l'instance EC2 en tant qu'utilisateur ec2.</block>
  <block id="44188940066649e119396216339b4869" category="list-text">Provisionnez un cluster de stockage AWS FSx ONTAP dans les zones de disponibilité souhaitées et configurez un SVM de stockage et définissez le mot de passe de l'utilisateur administrateur du cluster fsxadmin.</block>
  <block id="ef1e6887c579ba81dcedc3f4e3793cd2" category="section-title">Public</block>
  <block id="82aa3e78c2089a2941fb745bb8c72f01" category="paragraph">Cette solution est destinée aux personnes suivantes :</block>
  <block id="8c695812e6b1d0da09e4112dcc98afd8" category="list-text">Un administrateur de base de données qui gère les bases de données dans l'environnement AWS EC2.</block>
  <block id="db0b5d976134ac432c6b546956e1fc38" category="list-text">Un architecte de solutions de base de données intéressé par le déploiement de bases de données dans l'écosystème AWS EC2.</block>
  <block id="15c649f61e0d97ef85f0d2d224019197" category="list-text">Un administrateur de stockage qui gère le stockage AWS FSx ONTAP prenant en charge les bases de données.</block>
  <block id="bb09d79b045e0d8930bca68ba2651754" category="list-text">Un propriétaire d'application qui aime mettre en place une base de données dans l'écosystème AWS EC2.</block>
  <block id="794df3791a8c800841516007427a2aa3" category="section-title">Licence</block>
  <block id="0baa4333d01c4608c10c4852824e68ad" category="inline-link-macro">Fichier de licence</block>
  <block id="0407397c670512dcadbf77a1ee9efa74" category="paragraph">En accédant, en téléchargeant, en installant ou en utilisant le contenu de ce référentiel GitHub, vous acceptez les termes de la licence énoncés dans<block ref="b109f24efb5af51bee6ff86849dfd222" category="inline-link-macro-rx"></block> .</block>
  <block id="eaec65e969505bc6e2570f344e081174" category="admonition">Il existe certaines restrictions concernant la production et/ou le partage d'œuvres dérivées du contenu de ce référentiel GitHub.  Veuillez vous assurer de lire les termes de la licence avant d'utiliser le contenu.  Si vous n'acceptez pas toutes les conditions, n'accédez pas, ne téléchargez pas et n'utilisez pas le contenu de ce référentiel.</block>
  <block id="77e4d80ae2f4257081e17476b146608a" category="section-title">Déploiement de la solution</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="section-title">Prérequis pour le déploiement</block>
  <block id="fd10b9eacfe4eed8040bda8cae9ea050" category="paragraph">Le déploiement nécessite les prérequis suivants.</block>
  <block id="fae7cbbd0ae5df13f97c6dfeea641d7c" category="section-title">Téléchargez la boîte à outils</block>
  <block id="27fdb8c570948be4eb4398435585214b" category="section-title">Connectivité et authentification</block>
  <block id="c69ff338618074e4998292b223cb19e5" category="paragraph">La boîte à outils est censée être exécutée à partir d'un shell cloud AWS.  AWS Cloud Shell est un shell basé sur un navigateur qui facilite la gestion, l'exploration et l'interaction sécurisées avec vos ressources AWS.  CloudShell est pré-authentifié avec vos informations d'identification de console.  Les outils de développement et d'exploitation courants sont préinstallés, aucune installation ou configuration locale n'est donc requise.</block>
  <block id="0669fa7d1422db0d2c494b9d3a9ff1fe" category="section-title">Configuration des fichiers Terraform provider.tf et main.tf</block>
  <block id="08fcc92ec353c4f98b1154a2f8544890" category="paragraph">Le provider.tf définit le fournisseur à partir duquel Terraform provisionne les ressources via des appels API.  Le fichier main.tf définit les ressources et les attributs des ressources qui doivent être provisionnées.  Voici quelques détails :</block>
  <block id="67761b4e694cd5f5a45c4ed0cc314099" category="section-title">Configuration des variables Terraform.tf et terraform.tfvars</block>
  <block id="fd5f90c196b871dc50ecaf85f49b1656" category="paragraph">Le fichier variables.tf déclare les variables à utiliser dans main.tf.  Le fichier terraform.tfvars contient les valeurs réelles des variables.  Voici quelques exemples :</block>
  <block id="7215ebabbf870f26836f50f66cc5b6fd" category="section-title">Procédures étape par étape - exécutées en séquence</block>
  <block id="43c9b395c61de869dc87f1da35eed2e4" category="list-text">Installez Terraform dans AWS Cloud Shell.</block>
  <block id="fc3090054fced18dc06b7eb57b234758" category="list-text">Téléchargez la boîte à outils depuis le site public NetApp GitHub</block>
  <block id="a9c7e2c70153c59e87147abf329cbb29" category="list-text">Exécutez init pour initialiser Terraform</block>
  <block id="3165803a1a69113b1f417123a736b5ac" category="list-text">Générer le plan d'exécution</block>
  <block id="fbe54173b4068c6e761f53f237a17b68" category="list-text">Appliquer le plan d'exécution</block>
  <block id="17f070e48ce0935f57d600652c3c8f21" category="list-text">Exécutez destroy pour supprimer les ressources une fois terminé</block>
  <block id="4bb047f8c530785002e490ef17fa725e" category="section-title">Où trouver des informations supplémentaires</block>
  <block id="a6530f7b86636a9b3f5ae396fad90aca" category="inline-link-macro">Automatisation des solutions NetApp ^</block>
  <block id="5824e315907398c1aa7941abbed12132" category="paragraph">Pour en savoir plus sur l'automatisation des solutions NetApp , consultez le site Web suivant<block ref="230dfc589866e347afe497262b15904b" category="inline-link-macro-rx"></block></block>
  <block id="7e68fdcdfd32073adeaee9e4bd613f62" category="summary">La solution fournit une vue d'ensemble et des détails pour le déploiement automatisé d'Oracle dans Microsoft Azure NetApp Files en tant que stockage de base de données principal avec le protocole NFS et la base de données Oracle est déployée en tant que base de données de conteneur avec dNFS activé.</block>
  <block id="e1655476f44fb9ae3929b4294709cd58" category="doc">TR-4987 : Déploiement Oracle simplifié et automatisé sur Azure NetApp Files avec NFS</block>
  <block id="7e6f7643afec42d9c47efa933debef3e" category="paragraph">Allen Cao, Niyaz Mohamed, NetApp</block>
  <block id="0f2184f93ef197858e7e8ff357370b7c" category="paragraph">Cette solution fournit une vue d'ensemble et des détails pour le déploiement automatisé d'Oracle dans Microsoft Azure NetApp Files en tant que stockage de base de données principal avec le protocole NFS et la base de données Oracle est déployée en tant que base de données de conteneur avec dNFS activé.</block>
  <block id="9dba703b69ec43e6d3b93ebe9143b7bc" category="paragraph">L’exécution de charges de travail Oracle gourmandes en performances et sensibles à la latence dans le cloud peut s’avérer difficile.  Azure NetApp Files (ANF) permet aux professionnels du secteur d’activité et du stockage de migrer et d’exécuter facilement des charges de travail Oracle exigeantes sans modification de code.  Azure NetApp Files est largement utilisé comme service de stockage de fichiers partagé sous-jacent dans divers scénarios, tels que le nouveau déploiement ou la migration (lift and shift) de bases de données Oracle sur site vers Azure.</block>
  <block id="71dc864bb8cdf05644d9a323eb255160" category="paragraph">Cette documentation démontre le déploiement simplifié des bases de données Oracle dans les fichiers Azure NetApp via des montages NFS à l’aide de l’automatisation Ansible.  La base de données Oracle se déploie dans une configuration de base de données conteneurisée (CDB) et de bases de données enfichables (PDB) avec le protocole Oracle dNFS activé pour améliorer les performances.  De plus, la base de données Oracle à instance unique ou PDB sur site peut être migrée vers une base de données de conteneur nouvellement déployée dans Azure à l’aide d’une méthodologie de relocalisation PDB automatisée avec une interruption de service minimale.  Il fournit également des informations sur la sauvegarde, la restauration et le clonage rapides de bases de données Oracle avec l'outil d'interface utilisateur NetApp SnapCenter dans Azure Cloud.</block>
  <block id="5ddba5a30df05b067a7f1c29425f8ebe" category="list-text">Déploiement automatisé de bases de données de conteneurs Oracle sur Azure NetApp Files</block>
  <block id="48c81fe5bacafca589a05c9d8b99cea6" category="list-text">Migration automatisée de bases de données Oracle entre les sites locaux et le cloud Azure</block>
  <block id="8d80eec422e5f3f1e3a978925d495397" category="list-text">Un DBA qui souhaite déployer Oracle sur Azure NetApp Files.</block>
  <block id="3f13d9adda12e73807626015fc986092" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle sur Azure NetApp Files.</block>
  <block id="7bbba384efcd8c1f1760837638bad8f5" category="list-text">Un administrateur de stockage qui souhaite déployer et gérer une base de données Oracle sur Azure NetApp Files.</block>
  <block id="39ab0d44839c151a3d462df3c663cbfa" category="list-text">Un propriétaire d’application qui souhaite mettre en place une base de données Oracle sur Azure NetApp Files.</block>
  <block id="d17a638ff086388dc5bfbe98528ccfab" category="section-title">Environnement de test et de validation de solutions</block>
  <block id="5d864181a518d8551d707a300d1fdaa0" category="paragraph">Les tests et la validation de cette solution ont été réalisés dans un environnement de laboratoire qui pourrait ne pas correspondre à l’environnement de déploiement final.  Voir la section<block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> pour plus d'informations.</block>
  <block id="2d242bb36ec91b32005f9296ff03a912" category="section-title">Architecture</block>
  <block id="60eafe38e4de145948f4622ffcf3fecf" category="inline-image-macro">Cette image fournit une image détaillée de la configuration de déploiement Oracle dans le cloud public AWS avec iSCSI et ASM.</block>
  <block id="536da40446e056455d54a3850ad13053" category="paragraph"><block ref="536da40446e056455d54a3850ad13053" category="inline-image-macro-rx" type="image"></block></block>
  <block id="34d0b9b49aa480630e91a3619ba7ffb2" category="section-title">Composants matériels et logiciels</block>
  <block id="958c530ea1ae0e18b942f8784148734c" category="cell">*Matériel*</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="cell">Azure NetApp Files</block>
  <block id="e334cd79329c228cad2c140c5b8d1466" category="cell">Offre actuelle dans Azure par Microsoft</block>
  <block id="6c17db0cce1350a7ee8a752f7b961575" category="cell">Piscine d'une capacité avec niveau de service Premium</block>
  <block id="337f2d0a9780863bf956cbd164244280" category="cell">Machine virtuelle Azure pour serveur de base de données</block>
  <block id="1ddc8f4b0d860fd1b7f66f65f3a2a4ff" category="cell">Standard_B4ms - 4 vCPU, 16 Gio</block>
  <block id="4624ccb0e1c638f541fe98d0cb590fc4" category="cell">Deux instances de machine virtuelle Linux pour un déploiement simultané</block>
  <block id="c79e7f0c663764033ed88cf88db55c30" category="cell">Machine virtuelle Azure pour SnapCenter</block>
  <block id="5e29f32e9b6ef61ba5af29f3ff8d79ec" category="cell">Une instance de machine virtuelle Windows</block>
  <block id="7eef23b11d6e87eee968a9bef33fd707" category="cell">*Logiciel*</block>
  <block id="8b56d55f3caeb71ab2513c28fb1a52fc" category="cell">RedHat Linux</block>
  <block id="582dc61cba794b1ebaa0f1d5a0ab6fd5" category="cell">RHEL Linux 8.6 (LVM) - x64 Gen2</block>
  <block id="fe6120dacb84838d71b1f43da1a3a514" category="cell">Abonnement RedHat déployé pour les tests</block>
  <block id="95a90af1d5b68afaa24b9f917e25e4ec" category="cell">Windows Server</block>
  <block id="c030b053d2fcc613e72470b248119720" category="cell">Centre de données 2022 ; Hotpatch Azure Edition – x64 Gen2</block>
  <block id="815500b6cb0b06f1db60bc89ea48ae53" category="cell">Hébergement du serveur SnapCenter</block>
  <block id="c30dd1a85cf86d95b11c1a08f70130ce" category="cell">Base de données Oracle</block>
  <block id="8cbabca4a2c1b4268e8c216b1710182d" category="cell">Version 19.18</block>
  <block id="a7c40910ade029baa6baa8b8e613db65" category="cell">Patch RU appliqué p34765931_190000_Linux-x86-64.zip</block>
  <block id="a8b401bad03767cc28230a30d6556c5b" category="cell">Oracle OPatch</block>
  <block id="cc61533b1a42263eaadfd935441bb4b5" category="cell">Version 12.2.0.1.36</block>
  <block id="8091f15fd8b9f1a609b3a98e8bcdda81" category="cell">Dernier correctif p6880880_190000_Linux-x86-64.zip</block>
  <block id="f709ed2f05802131924f53cb483d0216" category="cell">Serveur SnapCenter</block>
  <block id="738e4f16a24a9e74c1f67ae2e7c02f3b" category="cell">Version 5.0</block>
  <block id="72867dcacfff3a93a471e5f8c9489599" category="cell">Déploiement de groupe de travail</block>
  <block id="8ae78dca8fef9243be9f1089e2a97fb7" category="cell">Ouvrir le JDK</block>
  <block id="16e4f0fa15c5763a8b46a7276d96cf1c" category="cell">Version java-11-openjdk</block>
  <block id="3782cc74a007a1871c7229f0fc16f9f4" category="cell">Exigence du plug-in SnapCenter sur les machines virtuelles de base de données</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="46b9839969e4bc429da9cc245c756450" category="cell">Version 3.0</block>
  <block id="bed44da4616a4ffa447c183fb1c3ca09" category="cell">Oracle dNFS activé</block>
  <block id="d51d5ee15f404c2f4f7863bebcde1fac" category="cell">Ansible</block>
  <block id="a033248533a019132f66d63d159e9310" category="cell">noyau 2.16.2</block>
  <block id="fc70b7599e5ae1b544d73cf02fccc91a" category="cell">Python 3.6.8</block>
  <block id="696ee8cdabfa8fdd24a026188354d0b7" category="section-title">Configuration de la base de données Oracle dans l'environnement de laboratoire</block>
  <block id="40142fee915d9c636c34c1581018dfaa" category="cell">*Serveur*</block>
  <block id="7a8d3dc7f0e719542e9e706dbca4f3ec" category="cell">*Base de données*</block>
  <block id="0086e85e653acc061fd4d7315e2fa26d" category="cell">*Stockage de base de données*</block>
  <block id="f1fc3d8c09aa84e7962b7352b4ff77d0" category="cell">ora-01</block>
  <block id="96767712a689a097a11e94abd86cc050" category="cell">NTAP1(NTAP1_PDB1,NTAP1_PDB2,NTAP1_PDB3)</block>
  <block id="45e595507a12edb8eba89711f9a72814" category="cell">/u01, /u02, /u03 Montages NFS sur le pool de capacité ANF</block>
  <block id="40a01cd2d5c81f8bbe1ed2d28d4cafaa" category="cell">ora-02</block>
  <block id="46be4f57ab41b19252133f7da26ea98c" category="cell">NTAP2(NTAP2_PDB1,NTAP2_PDB2,NTAP2_PDB3)</block>
  <block id="cd1aedf83959dd52fc058b9120f500e3" category="section-title">Facteurs clés à prendre en compte lors du déploiement</block>
  <block id="71f5cff1bdc5f944cf1edf33ff9e411f" category="list-text">*Disposition de stockage de la base de données Oracle.*  Dans ce déploiement Oracle automatisé, nous provisionnons trois volumes de base de données pour chaque base de données afin d'héberger les binaires, les données et les journaux Oracle par défaut.  Les volumes sont montés sur le serveur Oracle DB en tant que /u01 - binaire, /u02 - données, /u03 - journaux via NFS.  Les fichiers de contrôle double sont configurés sur les points de montage /u02 et /u03 pour la redondance.</block>
  <block id="755e2a8326e346588d02e48b85b044a5" category="list-text">*Déploiement de plusieurs serveurs de base de données.*  La solution d'automatisation peut déployer une base de données de conteneur Oracle sur plusieurs serveurs de base de données dans une seule exécution de playbook Ansible.  Quel que soit le nombre de serveurs de base de données, l’exécution du playbook reste la même.  Vous pouvez déployer plusieurs bases de données de conteneurs sur une seule instance de machine virtuelle en répétant le déploiement avec différents ID d'instance de base de données (SID Oracle).  Mais assurez-vous qu'il y a suffisamment de mémoire sur l'hôte pour prendre en charge les bases de données déployées.</block>
  <block id="d15b8c5aac4428cb7f6506c56eb633f5" category="list-text">*Configuration dNFS.*  En utilisant dNFS (disponible depuis Oracle 11g), une base de données Oracle exécutée sur une machine virtuelle Azure peut générer beaucoup plus d’E/S que le client NFS natif.  Le déploiement Oracle automatisé configure dNFS sur NFSv3 par défaut.</block>
  <block id="d37225cccdfda955e0eb0ba299e4abd9" category="list-text">*Allouez un volume de grande taille pour accélérer le déploiement.*  Le débit d'E/S du système de fichiers ANF est régulé en fonction de la taille du volume.  Pour le déploiement initial, l’allocation de volumes de grande taille peut accélérer le déploiement.  Les volumes peuvent ensuite être réduits de manière dynamique sans impact sur l'application.</block>
  <block id="e1d479f830dc9bfc4ed574a1c8cc0c98" category="list-text">*Sauvegarde de la base de données.*  NetApp fournit une suite SnapCenter software pour la sauvegarde, la restauration et le clonage de bases de données avec une interface utilisateur conviviale.  NetApp recommande de mettre en œuvre un tel outil de gestion pour obtenir une sauvegarde instantanée rapide (moins d'une minute), une restauration rapide (quelques minutes) de la base de données et un clonage de la base de données.</block>
  <block id="2853404fffac22cebc324f82a3f1a9fe" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement automatisé d’Oracle 19c et la migration de base de données sur Azure NetApp Files avec des volumes de base de données montés directement via NFS vers des machines virtuelles Azure.</block>
  <block id="cefb723f87cc807402d8139074dd7ba2" category="list-text">Un compte Azure a été configuré et les segments de réseau et de réseau virtuel nécessaires ont été créés dans votre compte Azure.</block>
  <block id="a73e5c65844b18c49122a8a79ef3fa65" category="inline-link-macro">Procédures de déploiement Oracle étape par étape sur Azure VM et Azure NetApp Files</block>
  <block id="9531533fef6109e5980a624b8d961d56" category="list-text">À partir du portail cloud Azure, déployez des machines virtuelles Azure Linux en tant que serveurs de base de données Oracle.  Créez un pool de capacité Azure NetApp Files et des volumes de base de données pour la base de données Oracle.  Activez l’authentification par clé privée/publique SSH de la machine virtuelle pour Azureuser sur les serveurs de base de données.  Consultez le diagramme d’architecture dans la section précédente pour plus de détails sur la configuration de l’environnement.  Également appelé<block ref="e7ca3adb4ee235aaa10f6530a8b9fdf7" category="inline-link-macro-rx"></block> pour des informations détaillées.</block>
  <block id="07f21d2d04d4d0605607368462f37f38" category="admonition">Pour les machines virtuelles Azure déployées avec redondance de disque local, assurez-vous d’avoir alloué au moins 128 Go sur le disque racine de la machine virtuelle afin de disposer de suffisamment d’espace pour préparer les fichiers d’installation Oracle et ajouter le fichier d’échange du système d’exploitation.  Développez les partitions du système d'exploitation /tmplv et /rootlv en conséquence.  Ajoutez 1 Go d'espace libre à rootvg-homelv s'il est inférieur à 1 Go.  Assurez-vous que la dénomination du volume de base de données respecte les conventions VMname-u01, VMname-u02 et VMname-u03.</block>
  <block id="d39d360863f3fda3c5d615dc978e14ae" category="inline-link-macro">Installer le serveur SnapCenter</block>
  <block id="958a975d9bb698c899681bd5b20130f9" category="list-text">Depuis le portail cloud Azure, provisionnez un serveur Windows pour exécuter l’outil d’interface utilisateur NetApp SnapCenter avec la dernière version.  Consultez le lien suivant pour plus de détails :<block ref="131e9eb1b10c693e5b08c2ea655bbc23" category="inline-link-macro-rx"></block></block>
  <block id="0aff1c6d7de090edcae9c8e75a60de2a" category="inline-link-macro">Premiers pas avec l'automatisation des solutions NetApp ^</block>
  <block id="e591b534830a9addfae6ff00f86de3d5" category="list-text">Provisionnez une machine virtuelle Linux en tant que nœud de contrôleur Ansible avec la dernière version d'Ansible et de Git installée.  Consultez le lien suivant pour plus de détails :<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> dans la section -<block ref="3d45b043c5518eca1e47fb4ba8a813da" prefix=" " category="inline-code"></block> ou<block ref="2afb5cc3404c6c8162722fd41895c2de" prefix=" " category="inline-code"></block> .</block>
  <block id="a219cd1e2fd41772e39373e9c510f73b" category="admonition">Le nœud du contrôleur Ansible peut être localisé sur site ou dans le cloud Azure dans la mesure où il peut atteindre les machines virtuelles Azure DB via le port SSH.</block>
  <block id="1bd19d215e29e048034930d3b3953ef8" category="list-text">Clonez une copie de la boîte à outils d’automatisation du déploiement NetApp Oracle pour NFS.</block>
  <block id="d15efb03f8ec068e9d6d6926f079f1b3" category="list-text">Étape suivant les fichiers d’installation d’Oracle 19c sur le répertoire Azure DB VM /tmp/archive avec l’autorisation 777.</block>
  <block id="c7cce81dff9cf2d89de25a04e65022ff" category="list-text">Regardez la vidéo suivante :</block>
  <block id="5fb0031d6dfea0b65cedbf5ef342e74c" category="video-title">Déploiement Oracle simplifié et automatisé sur Azure NetApp Files avec NFS</block>
  <block id="0d7d691fad590aa9a630443ea67bd9e3" category="section-title">Fichiers de paramètres d'automatisation</block>
  <block id="fba0c848a47cb6bb0240eff0160df8c6" category="paragraph">Le playbook Ansible exécute les tâches d'installation et de configuration de la base de données avec des paramètres prédéfinis.  Pour cette solution d’automatisation Oracle, il existe trois fichiers de paramètres définis par l’utilisateur qui nécessitent une saisie de l’utilisateur avant l’exécution du playbook.</block>
  <block id="855c2f749e58e35ceee58f4017dc530f" category="list-text">hôtes - définissez les cibles sur lesquelles le playbook d'automatisation s'exécute.</block>
  <block id="6f45aa108f0f48a8f2287aacfb4783b0" category="list-text">vars/vars.yml - le fichier de variables globales qui définit les variables qui s'appliquent à toutes les cibles.</block>
  <block id="b8e52c009307e1df8a80bbea8f5176d9" category="list-text">host_vars/host_name.yml - le fichier de variables locales qui définit les variables qui s'appliquent uniquement à une cible nommée.  Dans notre cas d’utilisation, il s’agit des serveurs de base de données Oracle.</block>
  <block id="0e67f9b1dd3b15c078e6f2a316790949" category="paragraph">En plus de ces fichiers de variables définis par l'utilisateur, il existe plusieurs fichiers de variables par défaut qui contiennent des paramètres par défaut qui ne nécessitent aucune modification, sauf si nécessaire.  Les sections suivantes montrent comment configurer les fichiers de variables définis par l'utilisateur.</block>
  <block id="20cc11da843aa0ce89fbbd78488ae8e4" category="section-title">Configuration des fichiers de paramètres</block>
  <block id="d54f40d7ab3c0634ad1696cedcc056e5" category="list-text">Cible Ansible<block ref="85cf4e6d42a71e693fd780c8b29accdd" prefix=" " category="inline-code"></block> configuration du fichier :</block>
  <block id="5a4926a405d0ccf33e709fb7c676de97" category="list-text">Mondial<block ref="014d194d817c312b5ce910e74b4d3836" prefix=" " category="inline-code"></block> configuration du fichier</block>
  <block id="1a759fef0c9f698bb151c9b107a2fb30" category="list-text">Serveur de base de données local<block ref="0c83664bfb17d8d2c0bbc3551297e488" prefix=" " category="inline-code"></block> configuration telle que ora_01.yml, ora_02.yml ...</block>
  <block id="3fde1508528c4b7e4e8ed67ccec6aa4a" category="section-title">Exécution du manuel de jeu</block>
  <block id="14d9db80ea19110225e53e6d5acbfd0a" category="paragraph">Il existe au total cinq playbooks dans la boîte à outils d’automatisation.  Chacun exécute des blocs de tâches différents et sert des objectifs différents.</block>
  <block id="23dd50b88058bb1b19714aa9e0075a39" category="paragraph">Il existe trois options pour exécuter les playbooks avec les commandes suivantes.</block>
  <block id="0950679600889e0ecb0fcb4adff23fd9" category="list-text">Exécutez tous les playbooks de déploiement en une seule exécution combinée.</block>
  <block id="349525a68f403cd1f88f72915b15991b" category="list-text">Exécutez les playbooks un par un avec la séquence de nombres de 1 à 4.</block>
  <block id="084e0a87eeeb8271a247c015eee77631" category="list-text">Exécutez 0-all_playbook.yml avec une balise.</block>
  <block id="a9b2ae37ad24a5f409f16a4e39642547" category="list-text">Défaire l'environnement</block>
  <block id="ea74dbc6158f42a810daaf43cd099b11" category="section-title">Validation post-exécution</block>
  <block id="3ecdefb0fe9b92fb5dada4a1b9246b77" category="paragraph">Après l'exécution du playbook, connectez-vous à la machine virtuelle du serveur Oracle DB pour valider qu'Oracle est installé et configuré et qu'une base de données de conteneur est créée avec succès.  Voici un exemple de validation de base de données Oracle sur l’hôte ora-01.</block>
  <block id="3eb5235599c703aade8d4a3ae8a6c244" category="list-text">Valider les montages NFS</block>
  <block id="aabe8782eb2ec64b895e31945ebe1e42" category="list-text">Valider l'écouteur Oracle</block>
  <block id="39182d8bb094516788625069e7ecaf1d" category="list-text">Valider la base de données Oracle et dNFS</block>
  <block id="04bd1d337fb9a151a616cc5294c0c92a" category="list-text">Connectez-vous à Oracle Enterprise Manager Express pour valider la base de données.</block>
  <block id="5c77c055267014cd170539e91c06519a" category="inline-image-macro">Cette image fournit l'écran de connexion pour Oracle Enterprise Manager Express</block>
  <block id="85ebbf6138572e940325e081dbbe45e6" category="inline-image-macro">Cette image fournit une vue de la base de données du conteneur à partir d'Oracle Enterprise Manager Express</block>
  <block id="93e9015bbb23f8ac1dec4f2da478a5af" category="paragraph"><block ref="b500a0bc379f39e074bf4ed98e1ebd04" category="inline-image-macro-rx" type="image"></block> <block ref="8c7e4d6669b30ed5716e92fd32bc5fbf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3a9e92fed2a83eee60f3bac7ce51cbed" category="section-title">Migrer la base de données Oracle vers Azure</block>
  <block id="3b99478aefcc6039ddcb29f19ce3f1ee" category="inline-link-macro">Migration de base de données sur site vers le cloud Azure</block>
  <block id="b7a4b3dc8366c7906ed251b94c62061b" category="paragraph">La migration d’une base de données Oracle depuis un site local vers le cloud est une tâche ardue.  L’utilisation d’une stratégie et d’une automatisation appropriées peut faciliter le processus et minimiser les interruptions de service et les temps d’arrêt.  Suivez ces instructions détaillées<block ref="f0df0b80af17528fa6d4c24c3c88e033" category="inline-link-macro-rx"></block> pour guider votre parcours de migration de base de données.</block>
  <block id="d372b360dda93a1ed98b047b474a8d14" category="section-title">Sauvegarde, restauration et clonage Oracle avec SnapCenter</block>
  <block id="7d5231eeeadfe71a5efcd24a1d5e0be9" category="inline-link-macro">Sauvegarde, récupération et clonage de bases de données Oracle sur ANF avec SnapCenter</block>
  <block id="734e4448a9c61098f93b9002833a2d03" category="paragraph">NetApp recommande l’outil d’interface utilisateur SnapCenter pour gérer la base de données Oracle déployée dans le cloud Azure.  Veuillez vous référer au TR-4988 :<block ref="807c75daf7e90625495755e44a290bc1" category="inline-link-macro-rx"></block> pour plus de détails.</block>
  <block id="aa5a3d07c03024007dadc921fdbe67cb" category="paragraph">Pour en savoir plus sur les informations décrites dans ce document, consultez les documents et/ou sites Web suivants :</block>
  <block id="807c75daf7e90625495755e44a290bc1" category="paragraph"><block ref="807c75daf7e90625495755e44a290bc1" category="inline-link-macro-rx"></block></block>
  <block id="855ff2118de8410b364ef10dd2bb08cf" category="inline-link-macro"><block ref="855ff2118de8410b364ef10dd2bb08cf" category="inline-link-rx"></block></block>
  <block id="cbadf086d67897b3b1aaeecf728b288c" category="paragraph"><block ref="cbadf086d67897b3b1aaeecf728b288c" category="inline-link-macro-rx"></block></block>
  <block id="03b3d2a7a581e28eade41b2069651904" category="list-text">Déploiement d'Oracle Direct NFS</block>
  <block id="54d61c6a6d7438a74568da42787fa14b" category="inline-link-macro"><block ref="54d61c6a6d7438a74568da42787fa14b" category="inline-link-rx"></block></block>
  <block id="a31fb0666cfd1ef716527d49b2f71a7a" category="paragraph"><block ref="a31fb0666cfd1ef716527d49b2f71a7a" category="inline-link-macro-rx"></block></block>
  <block id="8ae84196c6f373ef488c40b0b95e030d" category="list-text">Installation et configuration de la base de données Oracle à l'aide de fichiers de réponses</block>
  <block id="ee622e67d0075e37fff43bbf337e98b2" category="inline-link-macro"><block ref="ee622e67d0075e37fff43bbf337e98b2" category="inline-link-rx"></block></block>
  <block id="2d94d091f5afb89e4f1aab002cef14a3" category="paragraph"><block ref="2d94d091f5afb89e4f1aab002cef14a3" category="inline-link-macro-rx"></block></block>
  <block id="6fe128158b3a49eb57fa5fd65f346285" category="summary">La solution fournit une vue d'ensemble et des détails pour le déploiement et la protection automatisés d'Oracle dans la baie NetApp ASA en tant que stockage de base de données principal avec le protocole iSCSI et la base de données Oracle configurée dans ReStart autonome à l'aide d'asm comme gestionnaire de volumes.</block>
  <block id="9f46a807ff699639e2cc7823e6e6af0c" category="doc">TR-4983 : Déploiement Oracle simplifié et automatisé sur NetApp ASA avec iSCSI</block>
  <block id="bb58ec8ec1fa1b1ed0aed48ba069b683" category="paragraph">Cette solution fournit une vue d'ensemble et des détails pour le déploiement et la protection automatisés d'Oracle dans la baie NetApp ASA en tant que stockage de base de données principal avec le protocole iSCSI et la base de données Oracle configurée dans ReStart autonome à l'aide d'asm comme gestionnaire de volumes.</block>
  <block id="81874fefb73d3377cc2035212ff1140d" category="paragraph">Les systèmes NetApp ASA offrent des solutions modernes à votre infrastructure SAN.  Ils simplifient à grande échelle et vous permettent d'accélérer vos applications critiques telles que les bases de données, de garantir que vos données sont toujours disponibles (99,9999 % de disponibilité) et de réduire le coût total de possession et l'empreinte carbone.  Les systèmes NetApp ASA incluent des modèles de la série A conçus pour les applications les plus exigeantes en performances et des modèles de la série C optimisés pour des déploiements rentables et de grande capacité.  Ensemble, les systèmes ASA des séries A et C offrent des performances exceptionnelles pour améliorer l'expérience client et réduire le temps d'obtention des résultats, maintenir les données critiques pour l'entreprise disponibles, protégées et sécurisées, et fournir une capacité plus efficace pour n'importe quelle charge de travail, soutenue par la garantie la plus efficace du secteur.</block>
  <block id="57ae91c192e5448dfd58b60a55eaa521" category="paragraph">Cette documentation démontre le déploiement simplifié des bases de données Oracle dans un environnement SAN construit avec des systèmes ASA à l'aide de l'automatisation Ansible.  La base de données Oracle est déployée dans une configuration ReStart autonome avec le protocole iSCSI pour l'accès aux données et Oracle ASM pour la gestion des disques de base de données sur la baie de stockage ASA .  Il fournit également des informations sur la sauvegarde, la restauration et le clonage de bases de données Oracle à l'aide de l'outil d'interface utilisateur NetApp SnapCenter pour un fonctionnement de base de données efficace en termes de stockage dans les systèmes NetApp ASA .</block>
  <block id="5e1389ae5f652921b9ffd76077a35898" category="list-text">Déploiement automatisé de bases de données Oracle dans les systèmes NetApp ASA comme stockage de base de données principal</block>
  <block id="2904575eaf0239e26839c87b5886427e" category="list-text">Sauvegarde et restauration de bases de données Oracle dans les systèmes NetApp ASA à l'aide de l'outil NetApp SnapCenter</block>
  <block id="c9a02887c464e3024b4e7b8853bd3731" category="list-text">Clonage de base de données Oracle pour le développement/test ou d'autres cas d'utilisation dans les systèmes NetApp ASA à l'aide de l'outil NetApp SnapCenter</block>
  <block id="475d53db06ccc49c194cd167ad6b6a7c" category="list-text">Un administrateur de base de données qui souhaite déployer Oracle dans des systèmes NetApp ASA .</block>
  <block id="489fc03d48bb97d0eaaf947d524863e3" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle dans les systèmes NetApp ASA .</block>
  <block id="48b96d37ce8b7763e19ce55ff6b38bbc" category="list-text">Un administrateur de stockage souhaitant déployer et gérer une base de données Oracle sur des systèmes NetApp ASA .</block>
  <block id="4d9a01e17799c2443651952a5571e588" category="list-text">Un propriétaire d’application qui souhaite mettre en place une base de données Oracle dans les systèmes NetApp ASA .</block>
  <block id="f8554b7127d48d5c30c710f4cca8e8d0" category="inline-image-macro">Cette image fournit une image détaillée de la configuration de déploiement Oracle dans le système NetApp ASA avec iSCSI et ASM.</block>
  <block id="34f97fc8ba58a36a772e7d66c79328b2" category="paragraph"><block ref="34f97fc8ba58a36a772e7d66c79328b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="50ca835c71c489ce33e359fe138d33a1" category="cell">NetApp ASA A400</block>
  <block id="4fec937db99b8a74dd5bef9285d0e4c0" category="cell">Version 9.13.1P1</block>
  <block id="37f8b8f146367f24cfb85a152645d03f" category="cell">2 étagères NS224, 48 disques NVMe AFF avec une capacité totale de 69,3 Tio</block>
  <block id="9c08b0397caf8f25e294bcbc2a0e51e0" category="cell">UCSB-B200-M4</block>
  <block id="e2ff57aae17fb4ecdf52974845c54701" category="cell">Processeur Intel(R) Xeon(R) E5-2690 v4 à 2,60 GHz</block>
  <block id="c491601abe9558a73f61ab26d912bb5f" category="cell">Cluster VMware ESXi à 4 nœuds</block>
  <block id="1c212a485e9ad2c1762d607a18b009c7" category="cell">Noyau RHEL-8.6, 4.18.0-372.9.1.el8.x86_64</block>
  <block id="42d321198a77603330bc430ffb26bda9" category="cell">Norme 2022, 10.0.20348 Build 20348</block>
  <block id="357401b243915afd7226703258f54f69" category="cell">Infrastructure Oracle Grid</block>
  <block id="4cd47afc935feac95110477afb324f6f" category="cell">Patch RU appliqué p34762026_190000_Linux-x86-64.zip</block>
  <block id="53a1507a1f45d24e7525d19279ab1ce7" category="cell">Version 4.9P1</block>
  <block id="f53b4e7c2027602d331a4c185b942cc0" category="cell">Hyperviseur VMware vSphere</block>
  <block id="1b0ad5208e7d764ed80119ac20af542d" category="cell">version 6.5.0.20000</block>
  <block id="128d81403c72151caa28f9cb8909d048" category="cell">VMware Tools, versions : 11365 (Linux), 12352 (Windows)</block>
  <block id="3848bc77489b71d744f003ab713f7429" category="cell">Version java-1.8.0-openjdk.x86_64</block>
  <block id="460dc55b5ffb0266f2c889b06ee73344" category="cell">ora_01</block>
  <block id="4fb5214b8185c21390fdea76917c92a6" category="cell">LUN iSCSI sur ASA A400</block>
  <block id="57fd581683176a30051cde40522ddce1" category="cell">ora_02</block>
  <block id="b0398625aacfb5d5b9822b7812c9b00b" category="list-text">*Disposition de stockage de la base de données Oracle.*  Dans ce déploiement Oracle automatisé, nous provisionnons quatre volumes de base de données pour héberger les binaires, les données et les journaux Oracle par défaut.  Nous créons ensuite deux groupes de disques ASM à partir des données et des journaux LUN.  Au sein du groupe de disques asm +DATA, nous provisionnons deux LUN de données dans un volume sur chaque nœud de cluster ASA A400 .  Dans le groupe de disques asm +LOGS, nous créons deux LUN dans un volume de journal sur un seul nœud ASA A400 .  Plusieurs LUN disposés dans un volume ONTAP offrent de meilleures performances en général.</block>
  <block id="0d4f29ed9e7a7e62ee7c1007f59cf4fd" category="list-text">*Déploiement de plusieurs serveurs de base de données.*  La solution d'automatisation peut déployer une base de données de conteneur Oracle sur plusieurs serveurs de base de données dans une seule exécution de playbook Ansible.  Quel que soit le nombre de serveurs de base de données, l’exécution du playbook reste la même.  En cas de déploiement de serveurs multi-DB, le playbook s'appuie sur un algorithme permettant de placer de manière optimale les LUN de base de données sur deux contrôleurs ASA A400 .  Les binaires et les journaux LUN du serveur DB à nombre impair dans l'index des hôtes du serveur sont placés sur le contrôleur 1.  Les binaires et les journaux LUN du serveur DB à numéro pair dans l'index des hôtes du serveur sont placés sur le contrôleur 2.  Les données de la base de données sont réparties uniformément sur deux contrôleurs.  Oracle ASM combine les LUN de données sur deux contrôleurs dans un seul groupe de disques ASM pour utiliser pleinement la puissance de traitement des deux contrôleurs.</block>
  <block id="d736c1553b176f562bec3a52c7666a46" category="list-text">*Configuration iSCSI.*  Les machines virtuelles de base de données se connectent au stockage ASA avec le protocole iSCSI pour l'accès au stockage.  Vous devez configurer des chemins doubles sur chaque nœud de contrôleur pour la redondance et configurer le multi-chemin iSCSI sur le serveur de base de données pour l'accès au stockage multi-chemin.  Activez la trame jumbo sur le réseau de stockage pour maximiser les performances et le débit.</block>
  <block id="324218b4c8087f7e5c5645ab81e7e37f" category="list-text">*Niveau de redondance Oracle ASM à utiliser pour chaque groupe de disques Oracle ASM que vous créez.*  Étant donné que l' ASA A400 configure le stockage en RAID DP pour la protection des données au niveau du disque du cluster, vous devez utiliser<block ref="1f9ad4982cbae9fb459c61ba4e63bac9" prefix=" " category="inline-code"></block> , ce qui signifie que l'option ne permet pas à Oracle ASM de refléter le contenu du groupe de disques.</block>
  <block id="5b9eec312e4891b17065381671c7234b" category="list-text">*Sauvegarde de la base de données.*  NetApp fournit une suite SnapCenter software pour la sauvegarde, la restauration et le clonage de bases de données avec une interface utilisateur conviviale.  NetApp recommande de mettre en œuvre un tel outil de gestion pour réaliser une sauvegarde SnapShot rapide (moins d'une minute), une restauration rapide (quelques minutes) de la base de données et un clonage de la base de données.</block>
  <block id="e75571d5f211bacdfc757d78a94b1174" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement et la protection automatisés d'Oracle 19c dans NetApp ASA A400 avec des LUN de base de données montés directement via iSCSI vers la machine virtuelle DB dans un seul nœud. Redémarrez la configuration avec Oracle ASM comme gestionnaire de volume de base de données.</block>
  <block id="2b6209b8cfa6394be638dd05678f5955" category="inline-link-macro">Guide détaillé - ASA A400</block>
  <block id="31204f552767acd2692e7c823fa43de2" category="list-text">Il est supposé que la baie de stockage NetApp ASA a été installée et configurée.  Cela inclut le domaine de diffusion iSCSI, les groupes d'interfaces LACP a0a sur les deux nœuds de contrôleur, les ports VLAN iSCSI (a0a-&lt;iscsi-a-vlan-id&gt;, a0a-&lt;iscsi-b-vlan-id&gt;) sur les deux nœuds de contrôleur.  Le lien suivant fournit des instructions détaillées étape par étape si une aide est nécessaire.<block ref="dac36656cf4136f69adb63b41114dcfc" category="inline-link-macro-rx"></block></block>
  <block id="22743347e11c05a6ceecf7b35ad046d4" category="list-text">Provisionnez une machine virtuelle Linux en tant que nœud de contrôleur Ansible avec la dernière version d'Ansible et de Git installée.  Consultez le lien suivant pour plus de détails :<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> dans la section -<block ref="3d45b043c5518eca1e47fb4ba8a813da" prefix=" " category="inline-code"></block> ou<block ref="2afb5cc3404c6c8162722fd41895c2de" prefix=" " category="inline-code"></block> .</block>
  <block id="4b7f6d2449e34b4ea603f0da9f1fbe25" category="list-text">Clonez une copie de la boîte à outils d’automatisation du déploiement NetApp Oracle pour iSCSI.</block>
  <block id="21b9d06e7d54191458538a265ac76c29" category="list-text">Provisionnez un serveur Windows pour exécuter l’outil d’interface utilisateur NetApp SnapCenter avec la dernière version.  Consultez le lien suivant pour plus de détails :<block ref="131e9eb1b10c693e5b08c2ea655bbc23" category="inline-link-macro-rx"></block></block>
  <block id="708e23b82d10932400d291c3e2b3bc71" category="list-text">Créez deux serveurs RHEL Oracle DB, soit bare metal, soit une machine virtuelle virtualisée.  Créez un utilisateur administrateur sur les serveurs de base de données avec sudo sans privilège de mot de passe et activez l'authentification par clé privée/publique SSH entre l'hôte Ansible et les hôtes du serveur de base de données Oracle.  Étape suivant l'installation des fichiers Oracle 19c sur le répertoire /tmp/archive des serveurs de base de données.</block>
  <block id="bed197af3286bd48fb98fb5ab7c412e8" category="admonition">Assurez-vous d'avoir alloué au moins 50 Go dans le volume racine d'Oracle VM pour disposer de suffisamment d'espace pour préparer les fichiers d'installation d'Oracle.</block>
  <block id="7c0e65d458719c1a00061043a5c9b695" category="video-title">Déploiement Oracle simplifié et automatisé sur NetApp ASA avec iSCSI</block>
  <block id="472b525267a1a194a67c4917378fdee0" category="list-text">host_vars/host_name.yml - le fichier de variables locales qui définit les variables qui s'appliquent uniquement à une cible locale.  Dans notre cas d’utilisation, il s’agit des serveurs de base de données Oracle.</block>
  <block id="cab5395d741aa9c28cd5c2a21d7a0d82" category="paragraph">En plus de ces fichiers de variables définis par l'utilisateur, il existe plusieurs fichiers de variables par défaut qui contiennent des paramètres par défaut qui ne nécessitent aucune modification, sauf si nécessaire.  Les sections suivantes montrent comment les fichiers de variables définis par l'utilisateur sont configurés.</block>
  <block id="ca238f0541280751b05d697a897544e7" category="list-text">Serveur de base de données local<block ref="0c83664bfb17d8d2c0bbc3551297e488" prefix=" " category="inline-code"></block> configuration</block>
  <block id="273fd96f97f0a813313984b6447b0c0a" category="paragraph">Il existe au total six playbooks dans la boîte à outils d’automatisation.  Chacun exécute des blocs de tâches différents et sert des objectifs différents.</block>
  <block id="4a14bc710ed72d934f5ba41fcf17501d" category="paragraph">Après l'exécution du playbook, connectez-vous au serveur Oracle DB en tant qu'utilisateur Oracle pour valider que l'infrastructure de grille et la base de données Oracle ont été créées avec succès.  Voici un exemple de validation de base de données Oracle sur l’hôte ora_01.</block>
  <block id="4bdbd55cbefd29d973edca906ecf6bb7" category="list-text">Valider l’infrastructure du réseau et les ressources créées.</block>
  <block id="a773c985c5b1ab20847bc20444a2ada8" category="admonition">Ignorer le<block ref="6ea3b08636255f181e49cd8acbf4d75b" prefix=" " category="inline-code"></block> dans les détails de l'État.  Cela résulte d'un conflit entre l'enregistrement manuel et dynamique de la base de données avec l'écouteur et peut être ignoré en toute sécurité.</block>
  <block id="57f7f3c35be8fec41fec2c4cf2cd226c" category="list-text">Vérifiez que le pilote de filtre ASM fonctionne comme prévu.</block>
  <block id="87f1f1a667c7926537b7a88ef5f5874f" category="paragraph"><block ref="e447fd004562055962b0dd7ff96b587e" category="inline-image-macro-rx" type="image"></block> <block ref="d832a1e78a4cf36ce36729c88f7de3b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="daacada39b443fddce73dce4738f4337" category="inline-image-macro">Cette image fournit une vue de la base de données PDB à partir d'Oracle Enterprise Manager Express</block>
  <block id="2def11668aff705fd4e20945f07cb239" category="paragraph"><block ref="2def11668aff705fd4e20945f07cb239" category="inline-image-macro-rx" type="image"></block></block>
  <block id="91935697a3dec69875fc666d39a8fef8" category="inline-link-macro">Oracle simplifié et autogéré dans VMware Cloud sur AWS avec FSx ONTAP monté en invité</block>
  <block id="d49572b6f320bb9c7fb90a4c4fc671fe" category="paragraph">Se référer à TR-4979<block ref="b3e18c7c22919dcba778748c61b50f2e" category="inline-link-macro-rx"></block> section<block ref="d372b360dda93a1ed98b047b474a8d14" prefix=" " category="inline-code"></block> pour plus de détails sur la configuration de SnapCenter et l'exécution des flux de travail de sauvegarde, de restauration et de clonage de la base de données.</block>
  <block id="6a56c935b27efdd9e9fde9e036ca687b" category="list-text">NETAPP ASA: baie SAN entièrement flash</block>
  <block id="fa78b7e09f15ae55ea12cbcb34d44847" category="inline-link-macro"><block ref="fa78b7e09f15ae55ea12cbcb34d44847" category="inline-link-rx"></block></block>
  <block id="1d2dc43013dd6328b22d33484061bd50" category="paragraph"><block ref="1d2dc43013dd6328b22d33484061bd50" category="inline-link-macro-rx"></block></block>
  <block id="5424ed1a1b4c4815e1d1676f23aa1da4" category="list-text">Installation d'Oracle Grid Infrastructure pour un serveur autonome avec une nouvelle installation de base de données</block>
  <block id="a7410994d191ba6c350f0f764df86934" category="inline-link-macro"><block ref="a7410994d191ba6c350f0f764df86934" category="inline-link-rx"></block></block>
  <block id="094328bca120efd3d6fba90d69b806f8" category="paragraph"><block ref="094328bca120efd3d6fba90d69b806f8" category="inline-link-macro-rx"></block></block>
  <block id="2b77070b5c32e55f23537589ffd4f81f" category="list-text">Utiliser Red Hat Enterprise Linux 8.2 avec ONTAP</block>
  <block id="0a70ec939ee7a15f5b26fe9f48cb7667" category="inline-link-macro"><block ref="0a70ec939ee7a15f5b26fe9f48cb7667" category="inline-link-rx"></block></block>
  <block id="b37dd5ca6d78b3f11a3df8e7a9070fac" category="paragraph"><block ref="b37dd5ca6d78b3f11a3df8e7a9070fac" category="inline-link-macro-rx"></block></block>
  <block id="9defd6af131e71c31d1fe854d4bebe84" category="summary">La solution fournit une vue d'ensemble et des détails pour le déploiement et la protection automatisés d'Oracle dans Amazon FSx ONTAP en tant que stockage de base de données principal avec le protocole iSCSI et la base de données Oracle configurée dans ReStart autonome à l'aide d'Oracle asm comme gestionnaire de volumes.</block>
  <block id="3ec32ad563e52362b7be3ad6c2a06885" category="doc">TR-4986 : Déploiement Oracle simplifié et automatisé sur Amazon FSx ONTAP avec iSCSI</block>
  <block id="f49a4d1c30b33e65fdb2c76442c2dd16" category="paragraph">Cette solution fournit une vue d'ensemble et des détails pour le déploiement et la protection automatisés d'Oracle dans Amazon FSx ONTAP en tant que stockage de base de données principal avec le protocole iSCSI et la base de données Oracle configurée dans ReStart autonome à l'aide d'Oracle asm comme gestionnaire de volumes.</block>
  <block id="dfc7d4d50944e079eb978ccd0af36909" category="paragraph">Amazon FSx ONTAP est un service de stockage qui vous permet de lancer et d'exécuter des systèmes de fichiers NetApp ONTAP entièrement gérés dans le cloud AWS.  Il fournit les fonctionnalités, les performances, les capacités et les API familières des systèmes de fichiers NetApp avec l'agilité, l'évolutivité et la simplicité d'un service AWS entièrement géré.  Il vous permet d'exécuter la charge de travail de base de données la plus exigeante, telle qu'Oracle, dans le cloud AWS en toute tranquillité d'esprit.</block>
  <block id="ad023f21227a34bd31c4a07a26c3ceeb" category="paragraph">Cette documentation démontre le déploiement simplifié des bases de données Oracle dans un système de fichiers Amazon FSx ONTAP à l'aide de l'automatisation Ansible.  La base de données Oracle est déployée dans une configuration ReStart autonome avec le protocole iSCSI pour l'accès aux données et Oracle ASM pour la gestion des disques de stockage de base de données.  Il fournit également des informations sur la sauvegarde, la restauration et le clonage de la base de données Oracle à l'aide de l'outil d'interface utilisateur NetApp SnapCenter pour un fonctionnement de base de données efficace en termes de stockage dans AWS Cloud.</block>
  <block id="36efee6c5a9ee80f8e017f827d0aa10f" category="list-text">Déploiement automatisé de bases de données Oracle sur le système de fichiers Amazon FSx ONTAP</block>
  <block id="67edc5be7c44db05533e39c0f055b6e1" category="list-text">Sauvegarde et restauration de bases de données Oracle sur le système de fichiers Amazon FSx ONTAP à l'aide de l'outil NetApp SnapCenter</block>
  <block id="d9fdf48773f4a0e6b5b486cb7ec20ead" category="list-text">Clonage de base de données Oracle pour le développement/test ou d'autres cas d'utilisation sur le système de fichiers Amazon FSx ONTAP à l'aide de l'outil NetApp SnapCenter</block>
  <block id="b3dbcb0d704aa6ab5e0e9325ece5ed0a" category="list-text">Un administrateur de base de données qui souhaite déployer Oracle sur le système de fichiers Amazon FSx ONTAP .</block>
  <block id="35c5697c1fb69cf8f643be61e3004cda" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle sur le système de fichiers Amazon FSx ONTAP .</block>
  <block id="20434e12c335486055c3510da159f861" category="list-text">Un administrateur de stockage souhaitant déployer et gérer une base de données Oracle sur le système de fichiers Amazon FSx ONTAP .</block>
  <block id="23daaf0d27ae240487b8a4d1938bc5ef" category="list-text">Un propriétaire d’application qui souhaite mettre en place une base de données Oracle sur le système de fichiers Amazon FSx ONTAP .</block>
  <block id="3bda535ecfc3f5746f88922464446b72" category="paragraph"><block ref="3bda535ecfc3f5746f88922464446b72" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d7e4e3e15ade6aac7796a854a656276" category="cell">Stockage Amazon FSx ONTAP</block>
  <block id="f90fb2d1bd04ce25f4b6a79bead231a3" category="cell">Version actuelle proposée par AWS</block>
  <block id="ceafc9f8393b625e8cce03cbeba6e867" category="cell">Un cluster FSx HA dans le même VPC et la même zone de disponibilité</block>
  <block id="6a79356b19d3b59e92b358357c5b9053" category="cell">Instance EC2 pour le calcul</block>
  <block id="cc4def82629f09f253176dba801a85f0" category="cell">t2.xlarge/4vCPU/16G</block>
  <block id="7e6308718e9f24d724f497fc5ef23cd2" category="cell">Deux instances EC2 T2 xlarge EC2 pour un déploiement simultané</block>
  <block id="53c4eb7bf80a61459560a0d2c63d513a" category="cell">LUN iSCSI sur le système de fichiers Amazon FSx ONTAP</block>
  <block id="94b06bafed4a2fc40a5a6d7e8836f0e6" category="list-text">*Disposition de stockage de la base de données Oracle.*  Dans ce déploiement Oracle automatisé, nous provisionnons quatre volumes de base de données pour héberger les binaires, les données et les journaux Oracle par défaut.  Un seul lun dans un volume est alloué au binaire Oracle.  Nous créons ensuite deux groupes de disques ASM à partir des données et des journaux LUN.  Dans le groupe de disques asm +DATA, nous provisionnons deux volumes de données avec deux LUN dans un volume.  Dans le groupe de disques asm +LOGS, nous créons deux lun dans un volume de journal.  Plusieurs LUN disposés dans un volume ONTAP offrent de meilleures performances en général.</block>
  <block id="515a6f662581dbf5fadf71e23b6029a6" category="list-text">*Déploiement de plusieurs serveurs de base de données.*  La solution d'automatisation peut déployer une base de données de conteneur Oracle sur plusieurs serveurs de base de données dans une seule exécution de playbook Ansible.  Quel que soit le nombre de serveurs de base de données, l’exécution du playbook reste la même.  Vous pouvez déployer plusieurs bases de données de conteneurs sur une seule instance EC2 avec différents ID d'instance de base de données (Oracle SID).  Mais assurez-vous qu'il y a suffisamment de mémoire sur l'hôte pour prendre en charge les bases de données déployées.</block>
  <block id="d54a80e2830c5cb42b06497a7012bf36" category="list-text">*Configuration iSCSI.*  Le serveur de base de données d'instance EC2 se connecte au stockage FSx avec le protocole iSCSI.  Les instances EC2 se déploient généralement avec une seule interface réseau ou ENI.  L'interface NIC unique transporte à la fois le trafic iSCSI et le trafic d'application.  Il est important d'évaluer les exigences de débit d'E/S de pointe de la base de données Oracle en analysant soigneusement le rapport Oracle AWR afin de choisir l'instance de calcul EC2 appropriée qui répond à la fois aux exigences de débit de trafic d'application et iSCSI.  De plus, AWS EC2 limite généralement chaque flux TCP à 5 Gbit/s.  Chaque chemin iSCSI fournit 5 Gbit/s (625 Mo/s) de bande passante et plusieurs connexions iSCSI peuvent être nécessaires pour prendre en charge des exigences de débit plus élevées.</block>
  <block id="e20408188cf4521115d65495b7b67a54" category="list-text">*Niveau de redondance Oracle ASM à utiliser pour chaque groupe de disques Oracle ASM que vous créez.*  Étant donné qu'Amazon Amazon FSx ONTAP est compatible HA pour la protection des données au niveau du disque du cluster, vous devez utiliser<block ref="1f9ad4982cbae9fb459c61ba4e63bac9" prefix=" " category="inline-code"></block> , ce qui signifie que l'option ne permet pas à Oracle ASM de refléter le contenu du groupe de disques.</block>
  <block id="6775f2209818a69f1e1e3a6ed8b4aecf" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement et la protection automatisés d'Oracle 19c sur le système de fichiers Amazon FSx ONTAP avec des LUN de base de données montés directement via iSCSI vers une machine virtuelle d'instance EC2 dans un seul nœud. Redémarrez la configuration avec Oracle ASM comme gestionnaire de volume de base de données.</block>
  <block id="e7491272f69c8efda69a595782f44d45" category="list-text">Un compte AWS a été configuré et les segments VPC et réseau nécessaires ont été créés dans votre compte AWS.</block>
  <block id="f71558e9ad22e37a70099d8b5d8ac06c" category="inline-link-macro">Guide de l'utilisateur pour les instances Linux</block>
  <block id="960e137d6acb4fa6cfda82d7568472c0" category="list-text">À partir de la console AWS EC2, déployez des instances EC2 Linux en tant que serveurs Oracle DB.  Activer l'authentification par clé privée/publique SSH pour ec2-user.  Consultez le diagramme d’architecture dans la section précédente pour plus de détails sur la configuration de l’environnement.  Consultez également le<block ref="b75ecbbec453f67f58d497ccd97a8075" category="inline-link-macro-rx"></block> pour plus d'informations.</block>
  <block id="789982683d79fb5edc37dd0d0d6c384c" category="inline-link-macro">Création de systèmes de fichiers FSx ONTAP</block>
  <block id="e9f28f95b2ecbfc3cf86cc05d9cdf07d" category="list-text">À partir de la console AWS FSx, provisionnez un système de fichiers Amazon FSx ONTAP qui répond aux exigences.  Consultez la documentation<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> pour des instructions étape par étape.</block>
  <block id="3445b7a1a574c2ac22f90caa85f25371" category="list-text">Les étapes 2 et 3 peuvent être effectuées à l'aide de la boîte à outils d'automatisation Terraform suivante, qui crée une instance EC2 nommée<block ref="460dc55b5ffb0266f2c889b06ee73344" prefix=" " category="inline-code"></block> et un système de fichiers FSx nommé<block ref="8cbb7b3050d3c3aa08a529f429bc4555" prefix=" " category="inline-code"></block> .  Lisez attentivement les instructions et modifiez les variables en fonction de votre environnement avant l’exécution.  Le modèle peut être facilement révisé pour répondre à vos propres besoins de déploiement.</block>
  <block id="0eeb89347dab000a6da0be3179446583" category="list-text">Provisionnez une instance EC2 Linux en tant que nœud de contrôleur Ansible avec la dernière version d'Ansible et de Git installée.  Consultez le lien suivant pour plus de détails :<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> dans la section -<block ref="3d45b043c5518eca1e47fb4ba8a813da" prefix=" " category="inline-code"></block> ou<block ref="2afb5cc3404c6c8162722fd41895c2de" prefix=" " category="inline-code"></block> .</block>
  <block id="1f9545764510c505dd39a46cecb920cf" category="list-text">Étape suivant l'installation des fichiers Oracle 19c sur les instances EC2 répertoire /tmp/archive.</block>
  <block id="29a85eb1ecf92566b79f102d023963d4" category="video-title">Déploiement Oracle simplifié et automatisé sur Amazon FSx ONTAP avec iSCSI</block>
  <block id="72ff430412347ee147549697444cc1b2" category="list-text">Valider la base de données du conteneur Oracle sur l'instance EC2</block>
  <block id="c6d315df01ffba499100948d7f6d68c1" category="list-text">Valider l'écouteur Oracle.</block>
  <block id="dd4284a741b150a5c9e18aa61fe4f607" category="list-text">Valider Oracle ASM.</block>
  <block id="1ebaf7b44bfaeaa84f6f5f6b91336a43" category="paragraph"><block ref="a320703b5a8b98288585e716fce375bc" category="inline-image-macro-rx" type="image"></block> <block ref="7e8c508166a8e95a804f504d5ad27cab" category="inline-image-macro-rx" type="image"></block> <block ref="1c5f51a56c6a724c049c77ac53dd14c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="35f7c29efc923e8a7920a0b331095d71" category="list-text">Amazon FSx ONTAP</block>
  <block id="73bc97f640d8c1cae3fa624183216b41" category="inline-link-macro"><block ref="73bc97f640d8c1cae3fa624183216b41" category="inline-link-rx"></block></block>
  <block id="40285fa8e3dc4d66bfadb679f67dfde6" category="paragraph"><block ref="40285fa8e3dc4d66bfadb679f67dfde6" category="inline-link-macro-rx"></block></block>
  <block id="c421d122321bec48d6b30858f4e7b515" category="list-text">Amazon EC2</block>
  <block id="68253b5715937494905ba0cb9db91d2e" category="inline-link-macro"><block ref="be48c1546d351a5e48dcf4f28738754b" category="inline-link-rx"></block></block>
  <block id="6dcfba5adaa9302bd59dd5a601b947a2" category="paragraph"><block ref="95bfcff1050e9160bb2bd645993e8c18" category="inline-link-macro-rx"></block></block>
  <block id="aa3338034e5f9917e68fbffbd38a9bde" category="summary">Cette solution fournit une vue d'ensemble et des détails pour le déploiement automatisé d'Oracle dans NetApp AFF C-Series en tant que stockage de base de données principal avec le protocole NFS.  La base de données Oracle se déploie en tant que base de données conteneur avec dNFS activé.</block>
  <block id="11f3eb227b0ca48a26b66d16bfe3ff21" category="doc">TR-4992 : Déploiement Oracle simplifié et automatisé sur NetApp C-Series avec NFS</block>
  <block id="1cb33c04f94de65f46eb6bcf23c859d8" category="paragraph">NetApp AFF C-Series est un stockage flash de grande capacité qui rend le tout flash plus accessible et plus abordable pour le stockage unifié.  Ses performances sont suffisantes pour de nombreuses charges de travail de base de données Oracle de niveau 1 ou de niveau 2.  Alimentés par le logiciel de gestion de données NetApp ONTAP , les systèmes AFF C-Series offrent une efficacité de pointe, une flexibilité supérieure, des services de données de premier ordre et une intégration cloud pour vous aider à faire évoluer votre infrastructure informatique, à simplifier la gestion de vos données et à réduire les coûts de stockage et la consommation d'énergie.</block>
  <block id="e5a05a44ceadf873c0a817cdfcf109c3" category="paragraph">Cette documentation démontre le déploiement simplifié des bases de données Oracle dans NetApp C-Series via des montages NFS à l'aide de l'automatisation Ansible.  La base de données Oracle se déploie dans une configuration de base de données conteneurisée (CDB) et de bases de données enfichables (PDB) avec le protocole Oracle dNFS activé pour améliorer les performances.  De plus, la solution fournit les meilleures pratiques en matière de configuration de réseau de stockage et de machine virtuelle de stockage (SVM) avec le protocole NFS sur les contrôleurs de stockage de la série C.  La solution comprend également des informations sur la sauvegarde, la restauration et le clonage rapides de bases de données Oracle avec l'outil d'interface utilisateur NetApp SnapCenter .</block>
  <block id="f0769fc3ef89fce80ed36eb7dcf99eda" category="list-text">Déploiement automatisé de bases de données de conteneurs Oracle sur les contrôleurs de stockage NetApp C-Series.</block>
  <block id="8f0161a618bc32589831b9f8bf70f6db" category="list-text">Protection et clonage de base de données Oracle sur C-Series avec l'outil d'interface utilisateur SnapCenter .</block>
  <block id="c9b1fa3fdccdd94576d677ff3ddce437" category="list-text">Un administrateur de base de données qui souhaite déployer Oracle sur NetApp C-Series.</block>
  <block id="1e2c69e839117d54a65f89aa1060c538" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle sur NetApp C-Series.</block>
  <block id="8723f9a870d9a4198ce59cc711b5f4fa" category="list-text">Un administrateur de stockage souhaitant déployer et gérer une base de données Oracle sur NetApp C-Series.</block>
  <block id="c6eb7a53365fcf51f5713c3c85e14f49" category="list-text">Un propriétaire d'application qui souhaite mettre en place une base de données Oracle sur NetApp C-Series.</block>
  <block id="9868615f0d797dd2b1dea4a8582de61f" category="paragraph"><block ref="9868615f0d797dd2b1dea4a8582de61f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb2c46c282239d9c1f284fea93c79a3b" category="cell">NetApp Série C C400</block>
  <block id="e0843363fa72773de427718dd92c0fc0" category="cell">ONTAP Version 9.13.1P3</block>
  <block id="32c395a2b06b9086d86d4dfe1bb80ffa" category="cell">Deux étagères de disques / 24 disques d'une capacité de 278 Tio</block>
  <block id="643264b15909ae5e928729543d262592" category="cell">VM pour serveur de base de données</block>
  <block id="60484db4cc2fdb040058f86b98997415" category="cell">4 vCPU, 16 Go de RAM</block>
  <block id="e7ef03a019ea637cdf77b74e359ddc3d" category="cell">Deux instances de machine virtuelle Linux pour un déploiement simultané</block>
  <block id="f5d8703c01271912567d6313da8dfc46" category="cell">Machine virtuelle pour SnapCenter</block>
  <block id="a7883280fee68e09e925d0887123d673" category="cell">Une instance de machine virtuelle Windows</block>
  <block id="31d042536c6a7e341bd99c1fca5d1c46" category="cell">Centre de données x64 Gen2 2022</block>
  <block id="3721fcf1dad7c5c271fac2eb4f6aae73" category="cell">/u01, /u02, /u03 Montages NFS sur volumes C400</block>
  <block id="4373e4a9fb75a8ec4b82860cd3ca1909" category="list-text">*Configuration dNFS.*  En utilisant dNFS (disponible depuis Oracle 11g), une base de données Oracle exécutée sur une machine virtuelle DB peut générer beaucoup plus d'E/S que le client NFS natif.  Le déploiement Oracle automatisé configure dNFS sur NFSv3 par défaut.</block>
  <block id="ffcff30c73fd29ead74df7e471009447" category="list-text">*Équilibrage de charge sur la paire de contrôleurs C400.*  Placez les volumes de base de données Oracle sur les nœuds de contrôleur C400 de manière uniforme pour équilibrer la charge de travail.  DB1 sur le contrôleur 1, DB2 sur le contrôleur 2, et ainsi de suite.  Montez les volumes DB sur leur adresse lif locale.</block>
  <block id="9b5267ed46c15534d45129b35cae0c9b" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement automatisé d'Oracle 19c et des informations sur la protection et le clonage de la base de données Oracle après le déploiement.</block>
  <block id="5ab526c2d8a23c39c3d68b1080ca3e89" category="inline-link">Guide détaillé - AFF C400</block>
  <block id="92b608ca9ce1795976c4a2bf228d2099" category="list-text">Une paire de contrôleurs de stockage NetApp C-Series est montée en rack, empilée et la dernière version du système d'exploitation ONTAP est installée et configurée.  Reportez-vous à ce guide de configuration si nécessaire :<block ref="e88d834ba7a3375860b38af3a1d379dd" category="inline-link-rx"></block></block>
  <block id="9ed0a0ec8afe137ee719d175c28ddf02" category="list-text">Provisionnez deux machines virtuelles Linux comme serveurs de base de données Oracle.  Consultez le diagramme d’architecture dans la section précédente pour plus de détails sur la configuration de l’environnement.</block>
  <block id="cfdfdf87e328d2403ba6f06ad54b7b47" category="paragraph">Activez l'authentification par clé publique/privée SSH entre le contrôleur Ansible et les machines virtuelles de base de données.</block>
  <block id="5df121953eda8c31a1747dc7be05ccd5" category="list-text">À partir du répertoire de base de l’utilisateur administrateur du contrôleur Ansible, clonez une copie de la boîte à outils d’automatisation de déploiement NetApp Oracle pour NFS.</block>
  <block id="6ee479787e15beb58f7ac04e73265440" category="list-text">Étape suivant les fichiers d'installation d'Oracle 19c sur le répertoire DB VM /tmp/archive avec l'autorisation 777.</block>
  <block id="3d3d0c1886de65e7e8cfba6499948bed" category="section-title">Configurer la mise en réseau et SVM sur C-Series pour Oracle</block>
  <block id="93ce386a5a93aad444dfe4d874d861b3" category="paragraph">Cette section du guide de déploiement présente les meilleures pratiques pour configurer une machine virtuelle de mise en réseau et de stockage (SVM) sur un contrôleur de la série C pour la charge de travail Oracle avec le protocole NFS à l'aide de l'interface utilisateur d' ONTAP System Manager.</block>
  <block id="e42382129810446d30b7f0e35e7ba6f2" category="list-text">Connectez-vous à ONTAP System Manager pour vérifier qu'après l'installation initiale du cluster ONTAP , les domaines de diffusion ont été configurés avec des ports Ethernet correctement attribués à chaque domaine.  En règle générale, il doit y avoir un domaine de diffusion pour le cluster, un domaine de diffusion pour la gestion et un domaine de diffusion pour la charge de travail telle que les données.</block>
  <block id="d1fa27de8d8338309cef73f4f051dfa1" category="inline-image-macro">Cette image fournit une capture d'écran pour la configuration du contrôleur de la série C</block>
  <block id="fa55b7d7526852ad254537c52ada4ff2" category="paragraph"><block ref="fa55b7d7526852ad254537c52ada4ff2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="27272e370d688e62f1762f4ecfa62012" category="list-text">Depuis RÉSEAU - Ports Ethernet, cliquez sur<block ref="2a7ef566e4611d5e0d698db86ff278cf" prefix=" " category="inline-code"></block> pour créer un port de groupe d'agrégation de liens LACP a0a, qui fournit un équilibre de charge et un basculement entre les ports membres du port de groupe d'agrégation.  Il existe 4 ports de données - e0e, e0f, e0g, e0h - disponibles sur les contrôleurs C400.</block>
  <block id="0a46044708fc119b41886f3b1084d5f6" category="paragraph"><block ref="0a46044708fc119b41886f3b1084d5f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6d0bcaf4fdfec037d3208a91ad3123bf" category="list-text">Sélectionnez les ports Ethernet dans le groupe,<block ref="4d6b33d75644552dcc843a5fd248e03f" prefix=" " category="inline-code"></block> pour le mode, et<block ref="60aaf44d4b562252c04db7f98497e9aa" prefix=" " category="inline-code"></block> pour la répartition de la charge.</block>
  <block id="3847d434046e9f91acad503a44df07c3" category="paragraph"><block ref="3847d434046e9f91acad503a44df07c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0b27139ac86fb7bb1b7f301bd32f8905" category="list-text">Valider le port LACP a0a créé et le domaine de diffusion<block ref="f6068daa29dbb05a7ead1e3b5a48bbee" prefix=" " category="inline-code"></block> fonctionne désormais sur le port LACP.</block>
  <block id="01dd450d198c51beb60e97612a9e4210" category="paragraph"><block ref="6b6bb02cfff77088e13efe909a8bd894" category="inline-image-macro-rx" type="image"></block> <block ref="4f905dc51177e8497493856e8c3cbd9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8b776a52e34291c3467b7d12cb3cf707" category="list-text">Depuis<block ref="9c20ed40366c2dc673b52748abbb3e86" prefix=" " category="inline-code"></block> , cliquez<block ref="9881f82f0dd89588831f9d1682bd5492" prefix=" " category="inline-code"></block> pour ajouter un VLAN sur chaque nœud de contrôleur pour la charge de travail Oracle sur le protocole NFS.</block>
  <block id="3a530a462061ba3ece3cc559a4ca7e7c" category="paragraph"><block ref="03a9f15b044a022128c5282ebc704ce5" category="inline-image-macro-rx" type="image"></block> <block ref="bc4aab0522486a37c585af300258ff7b" category="inline-image-macro-rx" type="image"></block> <block ref="ff3bd34c3e83c69ae7f34251e5976ded" category="inline-image-macro-rx" type="image"></block></block>
  <block id="77524ec9652ad1c3885999303318b3dd" category="list-text">Connectez-vous aux contrôleurs de la série C à partir de l'adresse IP de gestion du cluster via SSH pour valider que les groupes de basculement réseau sont correctement configurés.  ONTAP crée et gère automatiquement les groupes de basculement.</block>
  <block id="51be646d68b430236b17aabb10aedcb9" category="list-text">Depuis<block ref="c52ccdb94b7474376c104927d53c3fc8" prefix=" " category="inline-code"></block> , cliquez sur +Ajouter pour créer un SVM pour Oracle.</block>
  <block id="e5043239b4a10b2d4764c248529f3188" category="paragraph"><block ref="e5043239b4a10b2d4764c248529f3188" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d48e145ef1e843250dd732d196ff81d4" category="list-text">Nommez votre Oracle SVM, vérifiez<block ref="d708b594e7e0a7aa1a646a9cd21f15b9" prefix=" " category="inline-code"></block> et<block ref="9cefa5e8e8937e8e15a5f3684fe03d50" prefix=" " category="inline-code"></block> .</block>
  <block id="df35a2650003cb0d948717b06553bb03" category="paragraph"><block ref="df35a2650003cb0d948717b06553bb03" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c148577c00c1a76fece9914b4688ad7" category="list-text">Ajouter une politique d'exportation NFS<block ref="7a1920d61156abc05a60135aefe8bc67" prefix=" " category="inline-code"></block> règles.</block>
  <block id="7cb338f8abf9a9c49ff7a259a199f03b" category="paragraph"><block ref="7cb338f8abf9a9c49ff7a259a199f03b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a0cdf45facf4fbfefd052d813dfab0f4" category="list-text">Dans<block ref="d4e6248d7cc29f3bee70e788b0851aef" prefix=" " category="inline-code"></block> , remplissez l'adresse IP sur chaque nœud pour les adresses NFS lif.</block>
  <block id="21840ef16e1b090e9d45318e1ccbfc6e" category="paragraph"><block ref="21840ef16e1b090e9d45318e1ccbfc6e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f17d25a0a013067c4d6fb8e7e9acd6cd" category="list-text">Validez que SVM pour Oracle est opérationnel et que le statut NFS lifs est actif.</block>
  <block id="d8c4952eb2e57f6128c159251619719b" category="paragraph"><block ref="fe61ad7d441154002119570da7363036" category="inline-image-macro-rx" type="image"></block> <block ref="bfb50a785d28c3ce3734c6386c499553" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b087c50a3fa783cca91b82d2fb3098fc" category="list-text">Depuis<block ref="f479f39e9dfbfd094f968fbbb1351938" prefix=" " category="inline-code"></block> onglet pour ajouter des volumes NFS pour la base de données Oracle.</block>
  <block id="fa5e7f85dbbccef5dfab5527174f9ba6" category="paragraph"><block ref="fa5e7f85dbbccef5dfab5527174f9ba6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8cee929dfc24fff28ebb05f7a1be1bc2" category="list-text">Nommez votre volume, attribuez-lui une capacité et un niveau de performance.</block>
  <block id="72d0cf157abf887a0d086afe9f55a456" category="paragraph"><block ref="72d0cf157abf887a0d086afe9f55a456" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d92a821034527d62c75eea067c9a5fe" category="list-text">Dans<block ref="acfc4449202469cc3ef4bcbaffd6f5bc" prefix=" " category="inline-code"></block> , choisissez la politique par défaut créée à l’étape précédente.  Décocher<block ref="371536d7caaef32502ae7f42d2d07165" prefix=" " category="inline-code"></block> car nous préférons utiliser SnapCenter pour créer des instantanés cohérents avec les applications.</block>
  <block id="dec0d912f582a31c85d4e45ba286663a" category="paragraph"><block ref="dec0d912f582a31c85d4e45ba286663a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2662721ab316ab57543a07b1669e77da" category="list-text">Créez trois volumes de base de données pour chaque serveur de base de données : server_name_u01 - binaire, server_name_u02 - données, server_name_u03 - journaux.</block>
  <block id="f52eff1251afec4b18f509ac9e56e903" category="paragraph"><block ref="f52eff1251afec4b18f509ac9e56e903" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6dc4458eccb6a98c7ca05ff4abbfa962" category="admonition">La convention de nommage du volume de base de données doit suivre strictement le format indiqué ci-dessus pour garantir que l'automatisation fonctionne correctement.</block>
  <block id="d97f7e118529cec7713e262bd2a5bdc4" category="paragraph">Ceci termine la configuration du contrôleur de la série C pour Oracle.</block>
  <block id="d6aab67e6d8a14ee71a66aabc8604134" category="paragraph">Après l'exécution du playbook, connectez-vous à la machine virtuelle du serveur Oracle DB pour valider qu'Oracle est installé et configuré et qu'une base de données de conteneur est créée avec succès.  Voici un exemple de validation de base de données Oracle sur la machine virtuelle DB ora_01 ou ora_02.</block>
  <block id="20ac2e87723a880d85686f07b4704df9" category="paragraph"><block ref="0bb972b8595213848965e3243d9d9139" category="inline-image-macro-rx" type="image"></block> <block ref="8c9f3342c68a769993a1d940545ebb67" category="inline-image-macro-rx" type="image"></block> <block ref="7fb0091c992da4cd5a50829bcadb7329" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5803335e5bcae83badcbc5583ac2d60e" category="inline-link-macro">Oracle simplifié et autogéré dans VMware Cloud sur AWS avec FSx ONTAP monté en invité</block>
  <block id="7747db3e6614970aeeeeaef060f430c8" category="paragraph">NetApp recommande l'outil d'interface utilisateur SnapCenter pour gérer la base de données Oracle déployée dans C-Series.  Se référer à TR-4979<block ref="353ca98728b30d2ae31625a468ea2722" category="inline-link-macro-rx"></block> section<block ref="d372b360dda93a1ed98b047b474a8d14" prefix=" " category="inline-code"></block> pour plus de détails sur la configuration de SnapCenter et l'exécution des flux de travail de sauvegarde, de restauration et de clonage de la base de données.</block>
  <block id="0f48ba7e158160e65859ff8d64ceec40" category="inline-link-macro">NetApp AFF Série C</block>
  <block id="2f76b6fc093e529f4873d6981e8dfccb" category="list-text"><block ref="2f76b6fc093e529f4873d6981e8dfccb" category="inline-link-macro-rx"></block></block>
  <block id="f18e1c3f82c945878e4905241940fa6b" category="list-text"><block ref="f18e1c3f82c945878e4905241940fa6b" category="inline-link-macro-rx"></block></block>
  <block id="77848b259d26eb7f84ae5e2cbfc59ed1" category="summary">La solution fournit une boîte à outils d’automatisation basée sur Ansible pour la configuration, le clonage et l’actualisation des bases de données clones Oracle à partir de la base de données de secours physique d’Oracle Data Guard hébergée dans le cloud Azure sur le stockage Azure NetApp Files avec configuration ASM.</block>
  <block id="93a5d2dc01885a305bad9a0a7f8be64b" category="doc">Cycle de vie automatisé des clones Oracle sur ANF avec ASM</block>
  <block id="76091c0fef09352136ad3a11d071d752" category="paragraph">L'exploitation des clones de la base de données Oracle de secours physique dans la configuration Oracle Data Guard pour d'autres cas d'utilisation sert à plusieurs fins.  Il fournit une copie inscriptible de la base de données de production à des fins de développement ou d'UAT.  Ainsi, il peut éliminer les coûts coûteux de licence Active Data Guard si un court délai (10 à 15 minutes) de reporting est acceptable.  Cela permet de réduire les coûts de stockage, en particulier lorsque le clone mince est une option.  Cette boîte à outils d'automatisation basée sur Ansible permet aux utilisateurs de configurer, cloner et actualiser les bases de données Oracle clonées selon les calendriers des utilisateurs pour une gestion simplifiée du cycle de vie.  La boîte à outils s’applique aux bases de données Oracle déployées sur le cloud public Azure à l’aide du stockage Azure NetApp Files et de la base de données Oracle configurée dans une configuration Data Guard.</block>
  <block id="a695118e43d96e3ca94c3990ceef4a4e" category="list-text">Configurez les fichiers de configuration du clone de base de données de secours Oracle pour l'automatisation Ansible.</block>
  <block id="e59e4d60fdfa2126f6b9a36db6b1dbea" category="list-text">Créez ou actualisez une base de données Oracle clonée à partir de la base de données de secours Data Guard à l'aide du playbook Ansible selon une planification définie par l'utilisateur.</block>
  <block id="335ee4a1db6ccc27946df089f9e2c7ee" category="list-text">Un administrateur de base de données qui gère les bases de données Oracle dans le cloud Azure.</block>
  <block id="84d67d73b34d50c29f35724541718626" category="list-text">Un administrateur de stockage qui gère le stockage Azure NetApp Files .</block>
  <block id="ee355a02589f9ee3f9bafccf6919063e" category="list-text">Un propriétaire d'application qui aime cloner des bases de données Oracle à partir de Data Guard en veille pour d'autres cas d'utilisation.</block>
  <block id="02b4aec5a0aa88fe33a0d2b88487b1bb" category="admonition">Pour simplifier, le serveur Oracle cible cloné doit être configuré de manière identique au serveur Oracle de secours, comme la pile logicielle Oracle ainsi que la disposition des répertoires pour Oracle Home, etc.</block>
  <block id="8e0b0773b24447afef3c59e3fcb2e079" category="admonition">La boîte à outils n'est accessible qu'aux utilisateurs internes de NetApp disposant d'un accès Bitbucket pour le moment.  Pour les utilisateurs externes intéressés, veuillez demander l'accès à votre équipe de compte ou contacter l'équipe d'ingénierie des solutions NetApp .</block>
  <block id="e811c558e8d47370b4215282c3e3d28e" category="section-title">Configuration des fichiers hôtes source et cible d'Ansible</block>
  <block id="7d424515bd7f3886bb0e46962ce8ca61" category="paragraph">La boîte à outils comprend un fichier hosts qui définit les hôtes Oracle source et cible sur lesquels le playbook Ansible s'exécute.  En général, il inclut l'hôte de base de données de secours dans la configuration de Data Guard et l'hôte clone Oracle cible.  Voici un exemple de fichier.  Une entrée d'hôte inclut l'adresse IP de l'hôte cible ainsi que la clé ssh pour l'accès utilisateur à l'hôte afin d'exécuter une commande de clonage ou d'actualisation.  Le stockage Azure NetApp Files est configuré via l’API.  Par conséquent, la connexion ANF se fait via l'hôte local via le protocole HTTP.</block>
  <block id="613fbd46486706dc14277a2503a8ddad" category="section-title">Configuration des variables globales</block>
  <block id="5c72cbd8cdc13af12fa87c14987e87ba" category="paragraph">Vous trouverez ci-dessous un exemple de fichier de variable globale typique vars.yml qui inclut des variables applicables au niveau global.</block>
  <block id="0c967c2ba96575fe1c2db47376151512" category="section-title">Configuration des variables de l'hôte</block>
  <block id="2b4c1f65590194bab80c33edb574ac90" category="paragraph">Les variables d'hôte sont définies dans le répertoire host_vars nommé {{ host_name }}.yml qui s'applique uniquement à l'hôte particulier.  Pour cette solution, seul le fichier de paramètres de l'hôte de la base de données clone cible est configuré.  Les paramètres de la base de données de secours Oracle sont configurés dans le fichier vars global.  Vous trouverez ci-dessous un exemple de fichier de variable hôte de base de données clone Oracle cible orac.yml qui montre une configuration typique.</block>
  <block id="b9221ffda439eb4a537f8bb3073871aa" category="section-title">Configuration supplémentaire du serveur Oracle cible de clonage</block>
  <block id="24fc2bccaf1b2226aaa9558e14d31a00" category="paragraph">Le serveur Oracle cible cloné doit avoir la même pile logicielle Oracle que le serveur Oracle source installé et corrigé.  L'utilisateur Oracle .bash_profile a $ORACLE_BASE et $ORACLE_HOME configurés.  De plus, la variable $ORACLE_HOME doit correspondre au paramètre du serveur Oracle source.  Si le paramètre ORACLE_HOME cible est différent de la configuration du serveur Oracle de secours, créez un lien symbolique pour contourner les différences.  Voici un exemple.</block>
  <block id="7d680af01e8ad6da7ed4790900194ee1" category="paragraph">Il existe au total deux playbooks pour exécuter le cycle de vie du clone de base de données Oracle.  Le clonage ou l'actualisation de la base de données peut être exécuté à la demande ou planifié en tant que tâche crontab.</block>
  <block id="56f060833065e38dfd98d52734f5c81c" category="list-text">Installez les prérequis du contrôleur Ansible - une seule fois.</block>
  <block id="aeeb7c0907645801659d4d26af05e214" category="list-text">Créez et actualisez une base de données clonée à la demande ou régulièrement à partir de crontab avec un script shell pour appeler le playbook de clonage ou d'actualisation.</block>
  <block id="a3094ccd05fa805e9a971cd2439bd434" category="paragraph">Pour cloner des bases de données supplémentaires, créez un oracle_clone_n_asm_anf.yml et un oracle_clone_n_asm_anf.sh distincts.  Configurez les hôtes cibles Ansible, les fichiers vars.yml globaux et hostname.yml dans le répertoire host_vars en conséquence.</block>
  <block id="fcdfd8f1adc61cb853ab14287d48869d" category="admonition">L'exécution de la boîte à outils à différentes étapes s'interrompt pour permettre à une tâche particulière de se terminer.  Par exemple, il s'arrête pendant deux minutes pour permettre au clonage des volumes de base de données de se terminer.  En général, la valeur par défaut devrait être suffisante, mais le timing peut nécessiter un ajustement en fonction d'une situation ou d'une mise en œuvre particulière.</block>
  <block id="1736373901db26a181fcdc4db6eecabc" category="summary">La solution fournit une boîte à outils d'automatisation basée sur Ansible pour la configuration, le clonage et l'actualisation des bases de données clones Oracle à partir de la base de données de secours physique d'Oracle Data Guard hébergée dans Google Cloud sur le stockage Google Cloud NetApp Volumes avec configuration ASM.</block>
  <block id="ff8537e6ab3d91d2980c2380649d7c58" category="doc">Cycle de vie automatisé des clones Oracle sur GCNV avec ASM</block>
  <block id="d2f69b3d351b7770615f8ac01d603d86" category="paragraph">L'exploitation des clones rapides de la base de données Oracle de secours physique dans la configuration Oracle Data Guard pour d'autres cas d'utilisation sert à plusieurs fins.  Il fournit une base de données de rapports en temps quasi réel ainsi qu'une copie inscriptible de la base de données de production à des fins de développement ou d'UAT.  Ainsi, il peut éliminer les coûts coûteux de licence Active Data Guard si un court délai (10 à 15 minutes) de reporting est acceptable.  Cela permet de réduire les coûts de stockage, en particulier lorsque le clonage fin des volumes de données primaires est une option.  Cette boîte à outils d'automatisation basée sur Ansible permet aux utilisateurs de configurer, cloner et actualiser les bases de données Oracle clonées selon les calendriers des utilisateurs pour une gestion simplifiée du cycle de vie.  La boîte à outils s'applique aux bases de données Oracle déployées sur le cloud public Google à l'aide du stockage Google Cloud NetApp Volumes (GCNV) et de la configuration de la base de données Oracle dans une configuration Data Guard.</block>
  <block id="6c6fb98d11b9a1b475f86b74383ac5ec" category="list-text">Un administrateur de base de données qui gère les bases de données Oracle dans le cloud Google.</block>
  <block id="1322d4f821966d9d952f4509812e2e88" category="list-text">Un administrateur de stockage qui gère le stockage Google NetApp Volumes.</block>
  <block id="0bcda13064561041e51947b017c1f633" category="paragraph">La boîte à outils comprend un fichier hosts qui définit les hôtes Oracle source et cible sur lesquels le playbook Ansible s'exécute.  En général, il inclut l'hôte de base de données de secours dans la configuration de Data Guard et l'hôte clone Oracle cible.  Voici un exemple de fichier.  Une entrée d'hôte inclut l'adresse IP de l'hôte cible ainsi que la clé ssh pour l'accès utilisateur à l'hôte afin d'exécuter une commande de clonage ou d'actualisation.  Le stockage Google Cloud NetApp Volumes est accessible et géré via gcloud cli.</block>
  <block id="f87c12e62d09427fd8f65eb350caaee9" category="inline-link-macro">Protéger les données sensibles avec Ansible Vault</block>
  <block id="e08c579bbaab6d571e125e974e35a664" category="admonition">Pour un déploiement d'automatisation plus sécurisé, Ansible Vault peut être utilisé pour crypter des informations sensibles telles que le mot de passe, le jeton d'accès ou la clé, etc. La solution ne couvre pas l'implémentation d'Ansible Vault, mais elle est bien documentée dans la documentation Ansible.  Veuillez vous référer à<block ref="7e9a46400566ec57e6c7f648f20dbbae" category="inline-link-macro-rx"></block> pour plus de détails.</block>
  <block id="4d9a3b4f6ed4bdb8056531d663a765ca" category="admonition">Assurez-vous que le paramètre de configuration asm_diskstring sur l'hôte de clonage de base de données inclut tous les points de montage NFS des volumes clonés et les chemins d'accès aux répertoires des périphériques de disque.</block>
  <block id="61691ad1db58d69fcd3efeb57d04cb3a" category="paragraph">Pour cloner des bases de données supplémentaires, créez un oracle_clone_n_asm_gcnv.yml et un oracle_clone_n_asm_gcnv.sh distincts.  Configurez les hôtes cibles Ansible, les fichiers vars.yml globaux et hostname.yml dans le répertoire host_vars en conséquence.</block>
  <block id="371030f28f5be2c632ed0ece307114d3" category="summary">La solution fournit une boîte à outils d’automatisation basée sur Ansible pour la configuration, le clonage et l’actualisation des bases de données clones Oracle à partir d’une base de données principale.  La base de données principale peut être la base de données de secours physique dans la configuration Oracle Data Guard.  La solution peut être appliquée dans un centre de données privé ou dans le cloud AWS avec stockage FSx ONTAP en configuration NFS ou ASM, ou dans le cloud Azure avec stockage Azure NetApp Files en configuration NFS.</block>
  <block id="ca9f31b430e2d1494cf56125653b71e1" category="doc">Automatisation du cycle de vie des clones Oracle SnapCenter</block>
  <block id="09d55934f7bf0b7311388e7edeaa6ba2" category="paragraph">Les clients apprécient la fonction FlexClone du stockage NetApp ONTAP pour des clones rapides (en quelques minutes) de bases de données volumineuses et des économies de stockage supplémentaires si la fonction de clonage léger est activée sur l'offre de stockage particulière dans un centre de données privé ou un cloud public.  Cette boîte à outils basée sur Ansible automatise la configuration, le clonage et l'actualisation des bases de données Oracle clonées selon un calendrier à l'aide des utilitaires de ligne de commande NetApp SnapCenter pour une gestion simplifiée du cycle de vie.  La boîte à outils s'applique aux bases de données Oracle déployées sur le stockage ONTAP sur site ou dans le cloud public (AWS ou Azure) et gérées par l'outil d'interface utilisateur NetApp SnapCenter .</block>
  <block id="305b49cab56a63db69a75b8a90237992" category="list-text">Configurer le fichier de configuration de spécification de clone de base de données Oracle.</block>
  <block id="ffe89dfaf822383b1610d2235661b139" category="list-text">Créez et actualisez une base de données Oracle clonée selon un calendrier défini par l'utilisateur.</block>
  <block id="5a82f1374e653dd60890a248f3da4afa" category="list-text">Un DBA qui gère les bases de données Oracle avec SnapCenter.</block>
  <block id="eeb8bce8b54b9d524c33c1838a0d56ff" category="list-text">Un administrateur de stockage qui gère le stockage ONTAP avec SnapCenter.</block>
  <block id="d2d0cadcec645d853fb3c7ebf1705d31" category="list-text">Un propriétaire d’application qui a accès à l’interface utilisateur de SnapCenter .</block>
  <block id="c0d630f834359abb2109cebb1b7d3612" category="admonition">Pour simplifier, le serveur Oracle cible cloné doit être configuré de manière identique au serveur Oracle de secours, comme la pile logicielle Oracle ainsi que la disposition des répertoires pour Oracle Home, etc.</block>
  <block id="ec26bffdac6e146ef20365de82135a71" category="section-title">Configuration du fichier hôte cible Ansible</block>
  <block id="cece6deec155c16f4782e115edea6f41" category="paragraph">La boîte à outils comprend un fichier hosts qui définit les cibles sur lesquelles un playbook Ansible s'exécute.  En général, il s'agit des hôtes clones Oracle cibles.  Voici un exemple de fichier.  Une entrée d'hôte inclut l'adresse IP de l'hôte cible ainsi que la clé ssh pour qu'un utilisateur administrateur puisse accéder à l'hôte pour exécuter une commande de clonage ou d'actualisation.</block>
  <block id="f4516853063c4206701e5aa89787feaa" category="paragraph">#Hôtes clones Oracle</block>
  <block id="dd5cc97aa774a3a1c065bbb01fcf3e7d" category="paragraph">Les playbooks Ansible prennent des entrées variables à partir de plusieurs fichiers variables.  Vous trouverez ci-dessous un exemple de fichier de variable globale vars.yml.</block>
  <block id="a4f107861ae1069b802d4818e857efeb" category="paragraph">Les variables d'hôte sont définies dans le répertoire host_vars nommé {{ host_name }}.yml.  Vous trouverez ci-dessous un exemple de fichier de variable hôte Oracle cible ora_04.cie.netapp.com.yml qui montre une configuration typique.</block>
  <block id="2f01e5ebc3a23c97162906c2483ec827" category="paragraph">Le serveur Oracle cible cloné doit avoir la même pile logicielle Oracle que le serveur Oracle source installé et corrigé.  L'utilisateur Oracle .bash_profile a $ORACLE_BASE et $ORACLE_HOME configurés.  De plus, la variable $ORACLE_HOME doit correspondre au paramètre du serveur Oracle source.  Voici un exemple.</block>
  <block id="9ed50a56f8c83c496fdb2d3fe909497f" category="paragraph">Il existe au total trois playbooks pour exécuter le cycle de vie du clone de base de données Oracle avec les utilitaires SnapCenter CLI.</block>
  <block id="230f70b0a7d8d86c8ea52493d17f962f" category="list-text">Fichier de spécification de clonage d'installation - une seule fois.</block>
  <block id="6a1fa0bf47a6db0c3d4281d1316fd9e0" category="list-text">Créez et actualisez régulièrement la base de données clonée à partir de crontab avec un script shell pour appeler un playbook d'actualisation.</block>
  <block id="ce4b27db9e7d3dff9f5bfd613fc3157e" category="admonition">Modifiez le nom d'utilisateur en votre utilisateur sudo pour la configuration de SnapCenter .</block>
  <block id="8aafbc88c398f3b5492811671ba656ad" category="paragraph">Pour une base de données clonée supplémentaire, créez un clone_n_setup.yml et un clone_n_refresh.yml distincts, ainsi qu'un clone_n_refresh.sh.  Configurez les hôtes cibles Ansible et le fichier hostname.yml dans le répertoire host_vars en conséquence.</block>
  <block id="d65cd7440cb7c3d2954a848fa38e76ad" category="summary">La solution fournit une boîte à outils d'automatisation basée sur Ansible pour configurer la haute disponibilité et la reprise après sinistre (HA/DR) de la base de données Oracle avec AWS FSx ONTAP comme stockage de base de données Oracle et les instances EC2 comme instances de calcul dans AWS.</block>
  <block id="179da6be91ec55cc0787c674958241c1" category="doc">Oracle HA/DR automatisé dans AWS FSx ONTAP</block>
  <block id="622d3af9d0e348e827d4fbf78a6f0cdb" category="paragraph">Cette solution fournit une boîte à outils d'automatisation basée sur Ansible pour configurer la haute disponibilité et la reprise après sinistre (HA/DR) de la base de données Oracle avec AWS FSx ONTAP comme stockage de base de données Oracle et les instances EC2 comme instances de calcul dans AWS.</block>
  <block id="ea4e6c904df6b8ca1b4ec09e457c5415" category="paragraph">Cette boîte à outils automatise les tâches de configuration et de gestion d'un environnement de haute disponibilité et de reprise après sinistre (HR/DR) pour la base de données Oracle déployée dans le cloud AWS avec stockage FSx ONTAP et instances de calcul EC2.</block>
  <block id="4a33bb67171f627fe4d6f7f0aab6d032" category="list-text">Configuration de l'hôte cible HA/DR - configuration du noyau, configuration Oracle pour correspondre à l'hôte du serveur source.</block>
  <block id="497e7ba562ed7bbfac16fe52b6810372" category="list-text">Configuration de FSx ONTAP - peering de cluster, peering de vserver, configuration de la relation snapmirror des volumes Oracle de la source à la cible.</block>
  <block id="bda57e799072bafeaf42a5313a8206c5" category="list-text">Sauvegarder les données de la base de données Oracle via un instantané - exécuter hors crontab</block>
  <block id="5adf1aa082234fb813d8465d075205a9" category="list-text">Sauvegarde du journal d'archive de la base de données Oracle via un instantané - exécution hors crontab</block>
  <block id="4c8c6940cbdf156409787ce0cae0679d" category="list-text">Exécuter le basculement et la récupération sur l'hôte HA/DR - tester et valider l'environnement HA/DR</block>
  <block id="041824f980a2368afbea3529f4a85a3b" category="list-text">Exécuter la resynchronisation après le test de basculement - rétablir la relation snapmirror des volumes de base de données en mode HA/DR</block>
  <block id="39275aba85b7b3d5e108bf8a7f06b013" category="list-text">Un administrateur de base de données qui a configuré une base de données Oracle dans AWS pour une haute disponibilité, une protection des données et une reprise après sinistre.</block>
  <block id="98ad1b0bb680f4935dc6ec065ab7dd53" category="list-text">Un architecte de solutions de base de données intéressé par une solution Oracle HA/DR au niveau du stockage dans le cloud AWS.</block>
  <block id="7d780f9063c90f956c5b395f01862b2c" category="list-text">Un administrateur de stockage qui gère le stockage AWS FSx ONTAP prenant en charge les bases de données Oracle.</block>
  <block id="cac0f059e3c711509277efdd488db471" category="list-text">Un propriétaire d'application qui souhaite mettre en place une base de données Oracle pour HA/DR dans un environnement AWS FSx/EC2.</block>
  <block id="91cc3cb48c2d9b7fe947f975bb6e12c2" category="paragraph">Les playbooks Ansible sont pilotés par des variables.  Un exemple de fichier de variable globale fsx_vars_example.yml est inclus pour illustrer une configuration typique.  Voici quelques considérations clés :</block>
  <block id="548d628ee47e884858313f141ed3e385" category="paragraph">Les variables d'hôte sont définies dans le répertoire host_vars nommé {{ host_name }}.yml.  Un exemple de fichier de variable hôte host_name.yml est inclus pour illustrer une configuration typique.  Voici quelques considérations clés :</block>
  <block id="dc4f36380101bead8c5e803fa39d75ac" category="section-title">Configuration du fichier hôte du serveur de base de données</block>
  <block id="405805427d2874a5f24a3b376f51c62a" category="paragraph">L'instance AWS EC2 utilise l'adresse IP pour la dénomination de l'hôte par défaut.  Si vous utilisez un nom différent dans le fichier hosts pour Ansible, configurez la résolution de nommage d'hôte dans le fichier /etc/hosts pour les serveurs source et cible.  Voici un exemple.</block>
  <block id="ba1f06e05d1c791f2b15c9e1088a97c0" category="section-title">Exécution du playbook - exécutée en séquence</block>
  <block id="f438c38014afe1cb719dbcb14f389a74" category="list-text">Installez les prérequis du contrôleur Ansible.</block>
  <block id="4fd73e564820faeafea813887ea61f6f" category="list-text">Configurer l'instance cible de la base de données EC2.</block>
  <block id="7cfc03bc74a1c83d93eecac222f51283" category="list-text">Configurer la relation snapmirror FSx ONTAP entre les volumes de base de données source et cible.</block>
  <block id="ad995c0821f0dec2ecd6c5d1361b2ee1" category="list-text">Sauvegardez les volumes de données de la base de données Oracle via un instantané à partir de crontab.</block>
  <block id="06ddbe5b0f86c1d7fdff984cbe3f2ef5" category="list-text">Sauvegardez les volumes de journaux d'archives de la base de données Oracle via un instantané à partir de crontab.</block>
  <block id="4ffffdfa8108984ff063883f05b2cb05" category="list-text">Exécutez le basculement et récupérez la base de données Oracle sur l'instance de base de données EC2 cible - testez et validez la configuration HA/DR.</block>
  <block id="665aea4799536e845b4d19fc4b3e4ee9" category="list-text">Exécutez la resynchronisation après le test de basculement - rétablissez la relation snapmirror des volumes de base de données en mode de réplication.</block>
  <block id="b809961749987c861856cdba226ec9d6" category="summary">La solution fournit une boîte à outils d'automatisation basée sur Ansible pour la migration de la base de données Oracle à l'aide de la relocalisation PDB avec une méthodologie de disponibilité maximale.  La migration peut être n'importe quelle combinaison de sites locaux et de cloud comme source ou comme cible</block>
  <block id="efe4709bf33362b47c6863c35ca74034" category="doc">Migration Oracle automatisée</block>
  <block id="86ed129fe60d52da62d64acc9e238f20" category="paragraph">Cette solution fournit une boîte à outils d'automatisation basée sur Ansible pour la migration de la base de données Oracle à l'aide de la relocalisation PDB avec une méthodologie de disponibilité maximale.  La migration peut être n’importe quelle combinaison de sites locaux et de cloud comme source ou cible.</block>
  <block id="0c530f43a566539fb8e9da49f0404689" category="paragraph">Cette boîte à outils automatise la migration de la base de données Oracle depuis le site vers le cloud AWS avec le stockage FSx ONTAP et l'instance de calcul EC2 comme infrastructure cible.  On suppose que le client dispose déjà d’une base de données Oracle sur site déployée dans le modèle CDB/PDB.  La boîte à outils permettra au client de déplacer une PDB nommée à partir d'une base de données conteneur sur un hôte Oracle à l'aide de la procédure de relocalisation Oracle PDB avec une option de disponibilité maximale.  Cela signifie que la PDB source sur n'importe quelle baie de stockage sur site est déplacée vers une nouvelle base de données de conteneur avec une interruption de service minimale.  La procédure de relocalisation Oracle déplacera les fichiers de données Oracle pendant que la base de données est en ligne.  Il redirige ensuite les sessions utilisateur des locaux vers les services de base de données déplacés au moment du basculement lorsque tous les fichiers de données sont déplacés vers le cloud AWS.  La technologie soulignée est une méthodologie éprouvée de clonage à chaud Oracle PDB.</block>
  <block id="2cb397312bce847a3821d2e60cf08aff" category="admonition">Bien que la boîte à outils de migration soit développée et validée sur l’infrastructure cloud AWS, elle s’appuie sur les solutions Oracle au niveau des applications.  Par conséquent, la boîte à outils est applicable à d’autres plateformes de cloud public, telles qu’Azure, GCP, etc.</block>
  <block id="2243370defca1a4982b4883641ab7db6" category="list-text">Créez un utilisateur de migration et accordez les privilèges requis sur le serveur de base de données source sur site.</block>
  <block id="c0e736291b01799f9f67b55a02e64b14" category="list-text">Déplacez une PDB d'une CDB locale vers une CDB cible dans le cloud pendant que la PDB source est en ligne jusqu'au basculement.</block>
  <block id="491c7279129ef66f3b72abb0fa1c5226" category="list-text">Un administrateur de base de données qui migre les bases de données Oracle des locaux vers le cloud AWS.</block>
  <block id="01afc77b414372b3af135907ed869982" category="list-text">Un architecte de solutions de base de données intéressé par la migration de bases de données Oracle sur site vers le cloud AWS.</block>
  <block id="e41dc9cf512ed2ab6c255a63a5f967b4" category="list-text">Un propriétaire d'application qui souhaite migrer la base de données Oracle sur site vers le cloud AWS.</block>
  <block id="ed893dd012b708a5fd2d5f084ab862fb" category="paragraph">L'instance AWS EC2 utilise l'adresse IP pour la dénomination de l'hôte par défaut.  Si vous utilisez un nom différent dans le fichier hosts pour Ansible, configurez la résolution de nommage de l'hôte dans le fichier /etc/hosts pour le serveur source et cible.  Voici un exemple.</block>
  <block id="d3518be78ee50170d8c5adafaa49ddaa" category="list-text">Installez les prérequis du contrôleur Ansible.</block>
  <block id="fc6c92008801d751651a5b8d0facab6e" category="list-text">Exécutez les tâches de pré-migration sur le serveur local - en supposant que l'administrateur est un utilisateur ssh pour la connexion à l'hôte Oracle local avec l'autorisation sudo.</block>
  <block id="f4c57f09769c649b5fc9d173ca0b0872" category="list-text">Exécutez la relocalisation Oracle PDB de la CDB sur site vers la CDB cible dans l'instance AWS EC2 - en supposant ec2-user pour la connexion à l'instance de base de données EC2 et db1.pem avec les paires de clés SSH ec2-user.</block>
  <block id="d4c96dcd516adf0c5bde093b0b7b7255" category="summary">Cette page décrit la méthode automatisée de déploiement d'Oracle19c sur le stockage NetApp ONTAP .</block>
  <block id="6551468cb4811e7add616eea103efea9" category="doc">Procédure de déploiement étape par étape</block>
  <block id="c150393fd3b1bd9d801cbd062234f73d" category="section-title">Déploiement AWX/Tower de la base de données Oracle 19c</block>
  <block id="32003b051ef9368756d1e9cd79796719" category="section-title">1. Créez l'inventaire, le groupe, les hôtes et les informations d'identification pour votre environnement</block>
  <block id="2c8b94d570dd5a63a27d112e32a1c799" category="paragraph">Cette section décrit la configuration de l'inventaire, des groupes, des hôtes et des informations d'identification d'accès dans AWX/Ansible Tower qui préparent l'environnement pour la consommation de solutions automatisées NetApp .</block>
  <block id="134d501fee5367069f0746f15302ce1f" category="list-text">Configurer l'inventaire.</block>
  <block id="af2c7dd4ecef5e42e9bc8f88213d51d9" category="list-text">Accédez à Ressources → Inventaires → Ajouter, puis cliquez sur Ajouter un inventaire.</block>
  <block id="56fc26ef1c8ae54dced3529eec65fa26" category="list-text">Indiquez le nom et les détails de l’organisation, puis cliquez sur Enregistrer.</block>
  <block id="fe0981da08a8d2f4fed2006bafd9fb30" category="list-text">Sur la page Inventaires, cliquez sur l’inventaire créé.</block>
  <block id="3fa16e80574aff03c27de1253474a20f" category="list-text">S'il existe des variables d'inventaire, collez-les dans le champ des variables.</block>
  <block id="65d119ae335d9e7c9c798b3e6db1b2d0" category="list-text">Accédez au sous-menu Groupes et cliquez sur Ajouter.</block>
  <block id="396641e01a7451ca821b5d7d1377b0c7" category="list-text">Indiquez le nom du groupe pour ONTAP, collez les variables du groupe (le cas échéant) et cliquez sur Enregistrer.</block>
  <block id="a4f13b6e4100f2d5db093eb54a3ffe0c" category="list-text">Répétez le processus pour un autre groupe pour Oracle.</block>
  <block id="6f29f21d5f3e40494291fb357b9f4f73" category="list-text">Sélectionnez le groupe ONTAP créé, accédez au sous-menu Hôtes et cliquez sur Ajouter un nouvel hôte.</block>
  <block id="8d92ffd9d0d2b033d05731ec4af50af8" category="list-text">Fournissez l'adresse IP de l'adresse IP de gestion du cluster ONTAP , collez les variables d'hôte (le cas échéant) et cliquez sur Enregistrer.</block>
  <block id="f1254ecbe57ff98d850d541b8a1ab988" category="list-text">Ce processus doit être répété pour le groupe Oracle et l'adresse IP/le nom d'hôte de gestion des hôtes Oracle.</block>
  <block id="f11c5853bdca384314b28c9c59f2d6d0" category="list-text">Créer des types d’informations d’identification. Pour les solutions impliquant ONTAP, vous devez configurer le type d'informations d'identification pour qu'il corresponde aux entrées de nom d'utilisateur et de mot de passe.</block>
  <block id="1616edbabbc3bbfd22afe144d1929386" category="list-text">Collez le contenu suivant dans la configuration de l'injecteur :</block>
  <block id="cc865c923bcb1c61acf9985311675b93" category="list-text">Saisissez le nom et les détails de l'organisation pour ONTAP.</block>
  <block id="ea314f484653e7f9f25144ea61d34888" category="list-text">Sélectionnez le type d’informations d’identification personnalisé que vous avez créé pour ONTAP.</block>
  <block id="179cae6336461d9f165e8fa87146362a" category="list-text">Sous Détails du type, entrez le nom d’utilisateur, le mot de passe et le mot de passe vsadmin.</block>
  <block id="659fb4c811f1a73cf40492056e6d3c3f" category="list-text">Cliquez sur Retour aux informations d’identification et cliquez sur Ajouter.</block>
  <block id="3b9c90c4bf202563a3cdeda5ec78fac2" category="list-text">Saisissez le nom et les détails de l’organisation pour Oracle.</block>
  <block id="51b04d83367483575e89740841d94262" category="section-title">2. Créer un projet</block>
  <block id="e56fa1e2655db1bc7664a00295bd62a2" category="list-text">Accédez à Ressources → Projets et cliquez sur Ajouter.</block>
  <block id="9c78f8d8687776e79018ded982e14c25" category="list-text">Saisissez le nom et les détails de l'organisation.</block>
  <block id="4096a1870a258e9d46585f08d4906f21" category="list-text">Sélectionnez Git dans le champ Type d’informations d’identification de contrôle de source.</block>
  <block id="b1e5ab13b1f19ed768aa37d36124b04d" category="list-text">entrer<block ref="7dfd05089fdfe3ce335a25f00540ff01" prefix=" " category="inline-code"></block> comme URL de contrôle de source.</block>
  <block id="99bc2ea435ea8ae0ed38ef3051a4350a" category="list-text">Le projet peut avoir besoin d'être synchronisé occasionnellement lorsque le code source change.</block>
  <block id="14e017f358e18dd612a468713206093f" category="section-title">3. Configurer Oracle host_vars</block>
  <block id="05557c38b20e42173356b53f42c92152" category="paragraph">Les variables définies dans cette section sont appliquées à chaque serveur et base de données Oracle individuels.</block>
  <block id="ac886b852fd1b481e9c7e68c217b5e21" category="list-text">Saisissez vos paramètres spécifiques à l'environnement dans les variables d'hôtes Oracle intégrées suivantes ou sous la forme host_vars.</block>
  <block id="93be2ec6954884b83ac9df8117967949" category="admonition">Les éléments en bleu doivent être modifiés pour correspondre à votre environnement.</block>
  <block id="e1847b1a99378b07a0df71cf2baac5da" category="list-text">Remplissez toutes les variables dans les champs bleus.</block>
  <block id="741c92ab2429ff59927918c7a07ad9a5" category="list-text">Après avoir terminé la saisie des variables, cliquez sur le bouton Copier du formulaire pour copier toutes les variables à transférer vers AWX ou Tower.</block>
  <block id="1e1ea51549ac2a644a3e965113c1d370" category="list-text">Revenez à AWX ou Tower et accédez à Ressources → Hôtes, puis sélectionnez et ouvrez la page de configuration du serveur Oracle.</block>
  <block id="0d630b14098a793ac4586173286d0805" category="list-text">Sous l’onglet Détails, cliquez sur Modifier et collez les variables copiées de l’étape 1 dans le champ Variables sous l’onglet YAML.</block>
  <block id="c6dca9e669d097298fc6059b27f96e09" category="list-text">Répétez ce processus pour tous les serveurs Oracle supplémentaires du système.</block>
  <block id="7890327bd98d1ec932e453254511754d" category="section-title">4. Configurer les variables globales</block>
  <block id="e5cac740ce6bd43e6ff83881e150d0f3" category="paragraph">Les variables définies dans cette section s'appliquent à tous les hôtes Oracle, bases de données et au cluster ONTAP .</block>
  <block id="87b55102ec2889891b0258253b739244" category="list-text">Saisissez vos paramètres spécifiques à l'environnement dans les variables globales intégrées suivantes ou sous la forme de variables.</block>
  <block id="7d2a3c2ad9ee2eeb7547d205d30b9335" category="list-text">Remplissez toutes les variables dans les champs bleus.</block>
  <block id="099f04b51539ed973890f1d1af2d5063" category="list-text">Après avoir terminé la saisie des variables, cliquez sur le bouton Copier du formulaire pour copier toutes les variables à transférer vers AWX ou Tower dans le modèle de travail suivant.</block>
  <block id="c807b1735c1915c52547b9f7e917b55d" category="section-title">5. Configurer et lancer le modèle de travail.</block>
  <block id="c7fa74fb4cbaab9d336a8e55bf164684" category="list-text">Entrez le nom et la description</block>
  <block id="3dcca032e3328f54206079a87830aa27" category="list-text">Sélectionnez le type de travail ; Exécuter configure le système en fonction d'un playbook et Vérifier effectue une exécution à sec d'un playbook sans réellement configurer le système.</block>
  <block id="b01c6189ccdc531874f3442803680525" category="list-text">Sélectionnez all_playbook.yml comme playbook par défaut à exécuter.</block>
  <block id="e8f0426d97d09775fb78bdeb793b0b3e" category="list-text">Cochez la case Invite au lancement dans le champ Balises de tâche.</block>
  <block id="ad7ad1bbc416fda1f9518ff4004d891c" category="list-text">Lorsque vous êtes invité au lancement pour les balises de travail, saisissez requirements_config.  Vous devrez peut-être cliquer sur la ligne Créer une balise de travail sous requirements_config pour saisir la balise de travail.</block>
  <block id="b9ef793a3db3f07ed7dc808f4709c6ca" category="admonition">requirements_config garantit que vous disposez des bibliothèques appropriées pour exécuter les autres rôles.</block>
  <block id="6ac039e55dcf8a249f5122b1fdbbf60e" category="list-text">Cliquez sur Suivant, puis sur Lancer pour démarrer le travail.</block>
  <block id="06f392c8dfb4783859e67f16fed69bc7" category="list-text">Cliquez sur Affichage → Tâches pour surveiller la sortie et la progression des tâches.</block>
  <block id="7f6a02c24592bd309f31b5a72a0f8d6d" category="list-text">Lorsque vous êtes invité au lancement pour les balises de travail, saisissez ontap_config.  Vous devrez peut-être cliquer sur la ligne Créer « Balise de travail » juste en dessous de ontap_config pour saisir la balise de travail.</block>
  <block id="18c003af9ed29d295877baabf7b42ce1" category="list-text">Cliquez sur Affichage → Tâches pour surveiller la sortie et la progression des tâches</block>
  <block id="c0029d5cdcaae1ceef3bed244b3ab3c6" category="list-text">Une fois le rôle ontap_config terminé, exécutez à nouveau le processus pour linux_config.</block>
  <block id="fc71758268fe1c3aba4b75df3ee0560f" category="list-text">Sélectionnez le modèle souhaité, puis cliquez sur Lancer.</block>
  <block id="bbe073bafc2875db8b48e59284636931" category="list-text">Lorsque vous êtes invité au lancement à saisir les balises de travail dans linux_config, vous devrez peut-être sélectionner la ligne Créer « balise de travail » juste en dessous de linux_config pour saisir la balise de travail.</block>
  <block id="bc43b7acafead2cdee67de733ae10b13" category="list-text">Sélectionnez Affichage → Tâches pour surveiller la sortie et la progression des tâches.</block>
  <block id="e73718535637e07111f6a4925685c0bd" category="list-text">Une fois le rôle linux_config terminé, exécutez à nouveau le processus pour oracle_config.</block>
  <block id="574f8726a5cc088da32ab84269c8e0f8" category="list-text">Accédez à Ressources → Modèles.</block>
  <block id="252b85bc679cb8ecdccbcd127c65b795" category="list-text">Lorsque vous êtes invité au lancement pour les balises de travail, saisissez oracle_config.  Vous devrez peut-être sélectionner la ligne Créer « Balise de travail » juste en dessous de oracle_config pour saisir la balise de travail.</block>
  <block id="6757805f64ddba2566927ece0d9f30e1" category="section-title">6. Déployer une base de données supplémentaire sur le même hôte Oracle</block>
  <block id="4edc1d4492ab93edbbb0a67c0c265b84" category="paragraph">La partie Oracle du playbook crée une seule base de données de conteneur Oracle sur un serveur Oracle par exécution.  Pour créer des bases de données de conteneurs supplémentaires sur le même serveur, procédez comme suit.</block>
  <block id="a12a0fa7fe728658376da87df04fa7c2" category="list-text">Réviser les variables host_vars.</block>
  <block id="ba52bf2d165115d60675d61a4b84b0c6" category="list-text">Revenez à l’étape 2 – Configurer Oracle host_vars.</block>
  <block id="ffcc6e6df9c3839334c063a9223c65b3" category="list-text">Modifiez le SID Oracle en une chaîne de dénomination différente.</block>
  <block id="a936a5fabc881eb3591658385409dfb8" category="list-text">Modifiez le port d'écoute sur un numéro différent.</block>
  <block id="d9fa63a6f267402d4cf6068165e04a38" category="list-text">Modifiez le port EM Express sur un numéro différent si vous installez EM Express.</block>
  <block id="23f5c9b4f57b3075f9890f1bc1896ebe" category="list-text">Copiez et collez les variables d’hôte révisées dans le champ Variables d’hôte Oracle dans l’onglet Détails de la configuration de l’hôte.</block>
  <block id="4d4426a703dd8227727fef5758b680d8" category="list-text">Lancez le modèle de tâche de déploiement avec uniquement la balise oracle_config.</block>
  <block id="d90d5ea5174403c0eb77b8e80b80d6ad" category="paragraph">Ce document détaille le déploiement d'Oracle 19c à l'aide de l'interface de ligne de commande d'automatisation (cli).</block>
  <block id="0e6b1c16527d2792d391c578bbf12efe" category="section-title">Déploiement CLI de la base de données Oracle 19c</block>
  <block id="57daddd847cdbab22b7363630de48a2f" category="inline-link-macro">Section Démarrage et exigences</block>
  <block id="875fa179f8abcdcc783a17ad0c94f6b0" category="paragraph">Cette section couvre les étapes requises pour préparer et déployer la base de données Oracle19c avec l'interface de ligne de commande.  Assurez-vous d'avoir examiné le<block ref="f61e080fcac9ce40443edb11a98c59eb" category="inline-link-macro-rx"></block> et préparé votre environnement en conséquence.</block>
  <block id="0f2d7675188dbfc7b9df587588bff71b" category="section-title">Télécharger le référentiel Oracle19c</block>
  <block id="73977a3ad17c882a666b80c9eccec0e7" category="list-text">Depuis votre contrôleur Ansible, exécutez la commande suivante :</block>
  <block id="60cc8e16ee1bd6e820e063f90fd35cbe" category="list-text">Après avoir téléchargé le référentiel, changez les répertoires en na_oracle19c_deploy &lt;cd na_oracle19c_deploy&gt;.</block>
  <block id="4e2b619426350db7e7d5b09c96b8010b" category="section-title">Modifier le fichier hosts</block>
  <block id="b183e47af1fa85c93e4a4368205c3249" category="paragraph">Effectuez les opérations suivantes avant le déploiement :</block>
  <block id="c4ab1530ffd8a3306d47c804ca88240c" category="list-text">Modifiez votre répertoire de fichiers hosts na_oracle19c_deploy.</block>
  <block id="bc1dd0e50a3c20e78cc2d680eaf32378" category="list-text">Sous [ontap], remplacez l’adresse IP par l’adresse IP de gestion de votre cluster.</block>
  <block id="6475f51ce7ff0a21a5635ea50b1f1a86" category="list-text">Sous le groupe [oracle], ajoutez les noms des hôtes Oracle.  Le nom d'hôte doit être résolu en son adresse IP via DNS ou le fichier hosts, ou il doit être spécifié dans l'hôte.</block>
  <block id="5c3f5e9dc815ca28c7cf1ff64cdc61a2" category="list-text">Une fois ces étapes terminées, enregistrez les modifications.</block>
  <block id="b27994a7bba852ac9a8f1a262413e68b" category="paragraph">L'exemple suivant illustre un fichier hôte :</block>
  <block id="1caa2eee0ed6a6c5c6edcbc0320e8671" category="paragraph">Cet exemple exécute le playbook et déploie Oracle 19c sur deux serveurs Oracle DB simultanément.  Vous pouvez également tester avec un seul serveur de base de données.  Dans ce cas, vous n’avez besoin de configurer qu’un seul fichier de variables hôte.</block>
  <block id="d11927d6f93a4edaa78dc52c6e34fd5f" category="admonition">Le playbook s'exécute de la même manière, quel que soit le nombre d'hôtes et de bases de données Oracle que vous déployez.</block>
  <block id="030c98564d5fbd7c8672a76e2a593b21" category="section-title">Modifiez le fichier host_name.yml sous host_vars</block>
  <block id="86c40bb4891f3e6b34a2eece7bb19532" category="paragraph">Chaque hôte Oracle possède son fichier de variables hôte identifié par son nom d'hôte qui contient des variables spécifiques à l'hôte.  Vous pouvez spécifier n'importe quel nom pour votre hôte.  Modifier et copier le<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> à partir de la section Configuration VARS de l'hôte et collez-le dans votre<block ref="caa6779553864dba00727ae27752b182" prefix=" " category="inline-code"></block> déposer.</block>
  <block id="44505c1007599884b05c0148599ad1b0" category="section-title">Modifier le fichier vars.yml</block>
  <block id="41cdd95196e2753968e0d69375c41825" category="paragraph">Le<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> le fichier consolide toutes les variables spécifiques à l'environnement (ONTAP, Linux ou Oracle) pour le déploiement Oracle.</block>
  <block id="271f9ccf9c8189bb1888d25c7f0e025b" category="list-text">Modifiez et copiez les variables de la section VARS et collez ces variables dans votre<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> déposer.</block>
  <block id="78d77851709e21512097cee585c59d0c" category="section-title">Exécutez le manuel de jeu</block>
  <block id="8f42d9f703ada5b4f1374ca96a4f1cec" category="paragraph">Après avoir complété les prérequis d'environnement requis et copié les variables dans<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> et<block ref="97513b66e909abfd622924972387a816" prefix=" " category="inline-code"></block> , vous êtes maintenant prêt à déployer les playbooks.</block>
  <block id="6226590ec5d4a109e4b93317425994c1" category="admonition">&lt;username&gt; doit être modifié pour correspondre à votre environnement.</block>
  <block id="ca9312842450cb1907f68cbfe9e7ebdd" category="list-text">Exécutez le playbook ONTAP en transmettant les balises correctes et le nom d’utilisateur du cluster ONTAP .  Remplissez le mot de passe pour le cluster ONTAP et vsadmin lorsque vous y êtes invité.</block>
  <block id="27dddea37ed0de0ca5959c367057ba57" category="list-text">Exécutez le playbook Linux pour exécuter la partie Linux du déploiement.  Saisie du mot de passe administrateur ssh ainsi que du mot de passe sudo.</block>
  <block id="1c71909fca063bf285ff220dab00cfa1" category="list-text">Exécutez le playbook Oracle pour exécuter la partie Oracle du déploiement.  Saisie du mot de passe administrateur ssh ainsi que du mot de passe sudo.</block>
  <block id="24b2767982b51deb19947fb3e94279c6" category="section-title">Déployer une base de données supplémentaire sur le même hôte Oracle</block>
  <block id="5cc75d1029461de7ddcd02bbc784af26" category="paragraph">La partie Oracle du playbook crée une seule base de données de conteneur Oracle sur un serveur Oracle par exécution.  Pour créer une base de données de conteneurs supplémentaire sur le même serveur, procédez comme suit :</block>
  <block id="b4a35a2d5c3a4f3efb7c77f6bcd2a905" category="list-text">Révisez les variables host_vars.</block>
  <block id="5641cb71d4e10abef15918c2dd828917" category="list-text">Revenez à l'étape 3 - Modifiez le<block ref="caa6779553864dba00727ae27752b182" prefix=" " category="inline-code"></block> classer sous<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> .</block>
  <block id="24f0029973c35b16fc49847b27215915" category="list-text">Modifiez le port EM Express sur un numéro différent si vous avez installé EM Express.</block>
  <block id="365c64de6adc281d7f484029d1356855" category="list-text">Copiez et collez les variables hôtes révisées dans le fichier de variables hôtes Oracle sous<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> .</block>
  <block id="b64219fd8290ac8a154f733df0825dbb" category="list-text">Exécutez le manuel avec le<block ref="b656a5ae2d7a83cf0ead9c81fb96ec17" prefix=" " category="inline-code"></block> balise comme indiqué ci-dessus dans<block ref="1c892654e23ff69bf71caefc702aa8b4" category="inline-xref-macro-rx"></block> .</block>
  <block id="0dd197c8abd1f3c3607887dbc615148f" category="section-title">Valider l'installation d'Oracle</block>
  <block id="40640c0c34d4427f5d18b9ca476e3158" category="summary">Cette page décrit la protection automatisée des données d'Oracle19c sur le stockage NetApp ONTAP .</block>
  <block id="261e91a1afdfe1123497b1b9ba5ab3e1" category="section-title">Protection des données Oracle AWX/Tower</block>
  <block id="544348a8f04b16faced725115db5b6f3" category="section-title">Créez l'inventaire, le groupe, les hôtes et les informations d'identification pour votre environnement</block>
  <block id="db2b28449b6d868d910cd53527934988" category="list-text">Indiquez le nom Oracle de votre premier groupe et cliquez sur Enregistrer.</block>
  <block id="200e1fa09608b23de5cd04d22d3a5bdb" category="list-text">Répétez le processus pour un deuxième groupe appelé dr_oracle.</block>
  <block id="1e29c17b60e9145858da82263315e402" category="list-text">Sélectionnez le groupe Oracle créé, accédez au sous-menu Hôtes et cliquez sur Ajouter un nouvel hôte.</block>
  <block id="250d5368537e295251f9ccf63f950087" category="list-text">Fournissez l'adresse IP de l'adresse IP de gestion de l'hôte Oracle source, puis cliquez sur Enregistrer.</block>
  <block id="22dcd973cf7a10ed9d03c5b959e65807" category="list-text">Ce processus doit être répété pour le groupe dr_oracle et ajouter l'adresse IP/le nom d'hôte de gestion de l'hôte Oracle DR/Destination.</block>
  <block id="1a4eca6a53be80f21117669b80a5dbc8" category="admonition">Vous trouverez ci-dessous des instructions pour créer les types d'informations d'identification et les informations d'identification pour On-Prem avec ONTAP ou CVO sur AWS.</block>
  <block id="cea575677c47839fde1e59dbfc9ad5bb" category="open-title">Sur site</block>
  <block id="f7fc367b5de87581ac78fc80805439af" category="open-title">CVO</block>
  <block id="be86ca474df5e14056bc0f20d2cdb767" category="section-title">Créer un projet</block>
  <block id="0a43bf0a8edd1a20044bf0cc16ffae7c" category="list-text">entrer<block ref="3e78435f1dc860dd5abe55174b983b84" prefix=" " category="inline-code"></block> comme URL de contrôle de source.</block>
  <block id="d02a79fb6f05358e16f9d9cf02288ac3" category="section-title">Configurer les variables globales</block>
  <block id="3506caa5fe966a4676faac2993bc1431" category="section-title">Manuels d'automatisation</block>
  <block id="285a3bb8fb6f692046facadb3c0984cf" category="paragraph">Il y a quatre manuels de jeu distincts qui doivent être exécutés.</block>
  <block id="37472723bc7712fedddee6d02e29228d" category="list-text">Manuel de configuration de votre environnement, sur site ou CVO.</block>
  <block id="5138c89250c5086accf2d1a5961c9b17" category="list-text">Manuel de réplication des binaires et des bases de données Oracle selon un calendrier</block>
  <block id="3e552d6e5b2c316c63eb1fc2081d42a8" category="list-text">Manuel de réplication des journaux Oracle selon un calendrier</block>
  <block id="33f4f1514dc2ceb963af16685f4de58c" category="list-text">Manuel de récupération de votre base de données sur un hôte de destination</block>
  <block id="17ae7167fac3c2364c6ad7b58819a920" category="open-title">Configuration ONTAP/ CVO</block>
  <block id="16f928d0ebd67060f6b3b2abf0481928" category="open-title">Réplication pour les volumes binaires et de base de données</block>
  <block id="b723f9a72bec39ac17d89e51ff0ba336" category="open-title">Réplication des volumes de journaux</block>
  <block id="f76dbca531ab83300165aacf97e1b7ff" category="open-title">Restaurer et récupérer la base de données</block>
  <block id="ba985cf3c812e3ba064fedc7353bbb77" category="section-title">Récupération de la base de données Oracle</block>
  <block id="b8a177e5fd059f33473cad4d1d073d38" category="list-text">Les volumes de données des bases de données Oracle de production sur site sont protégés via la réplication NetApp SnapMirror vers un cluster ONTAP redondant dans un centre de données secondaire ou vers Cloud Volume ONTAP dans un cloud public.  Dans un environnement de reprise après sinistre entièrement configuré, les instances de calcul de récupération dans un centre de données secondaire ou un cloud public sont en veille et prêtes à récupérer la base de données de production en cas de sinistre.  Les instances de calcul de secours sont maintenues synchronisées avec les instances sur site en exécutant des mises à jour parallèles sur le correctif ou la mise à niveau du noyau du système d'exploitation en mode verrouillé.</block>
  <block id="57d8ad774cb4fef3d53ee8836bfee761" category="list-text">Dans cette solution démontrée, le volume binaire Oracle est répliqué sur la cible et monté sur l'instance cible pour faire apparaître la pile logicielle Oracle.  Cette approche pour récupérer Oracle présente un avantage par rapport à une nouvelle installation d’Oracle à la dernière minute lorsqu’un sinistre survient.  Il garantit que l'installation d'Oracle est entièrement synchronisée avec l'installation actuelle du logiciel de production sur site et les niveaux de correctifs, etc. Cependant, cela peut ou non avoir des implications supplémentaires en matière de licence logicielle pour le volume binaire Oracle répliqué sur le site de récupération, en fonction de la manière dont la licence logicielle est structurée avec Oracle.  Il est recommandé à l'utilisateur de vérifier auprès de son personnel chargé des licences logicielles afin d'évaluer les exigences potentielles en matière de licences Oracle avant de décider d'utiliser la même approche.</block>
  <block id="74eaa493ffed695592003e0844d93c46" category="list-text">L'hôte Oracle de secours à la destination est configuré avec les configurations prérequises Oracle.</block>
  <block id="0be4357ac224d44b11800179b23eb202" category="list-text">Les SnapMirrors sont cassés et les volumes sont rendus accessibles en écriture et montés sur l'hôte Oracle de secours.</block>
  <block id="69504b415e8aad20e18beca0de96ab6a" category="list-text">Le module de récupération Oracle exécute les tâches suivantes pour récupérer et démarrer Oracle sur le site de récupération une fois que tous les volumes de base de données sont montés sur l'instance de calcul de secours.</block>
  <block id="5e52a9563e31960cdf02c7b83e6495e7" category="list-text">Synchroniser le fichier de contrôle : nous avons déployé des fichiers de contrôle Oracle en double sur différents volumes de base de données pour protéger le fichier de contrôle de base de données critique.  L'un concerne le volume de données et l'autre le volume de journaux.  Étant donné que les volumes de données et de journaux sont répliqués à des fréquences différentes, ils ne seront pas synchronisés au moment de la récupération.</block>
  <block id="26b9a788a0ef0527f25f68892b364d19" category="list-text">Relier le binaire Oracle : étant donné que le binaire Oracle est déplacé vers un nouvel hôte, il a besoin d'une nouvelle liaison.</block>
  <block id="b66ad18a7982f7c233e9d0af2f867856" category="list-text">Récupérer la base de données Oracle : le mécanisme de récupération récupère le dernier numéro de modification du système dans le dernier journal archivé disponible dans le volume de journal Oracle à partir du fichier de contrôle et récupère la base de données Oracle pour récupérer toutes les transactions commerciales qui ont pu être répliquées sur le site DR au moment de la panne.  La base de données est ensuite démarrée dans une nouvelle incarnation pour effectuer les connexions utilisateur et les transactions commerciales sur le site de récupération.</block>
  <block id="861503fb33ea04fecb13449e713e8ac6" category="admonition">Avant d'exécuter le playbook de récupération, assurez-vous de disposer des éléments suivants : Assurez-vous de copier les fichiers /etc/oratab et /etc/oraInst.loc de l'hôte Oracle source vers l'hôte de destination.</block>
  <block id="0679a51ae3a4071a6bd3dedbe97fd329" category="summary">Cette page décrit la méthode automatisée de déploiement d'Oracle Data Protection sur le stockage NetApp ONTAP .</block>
  <block id="cb59b87e00d11222bfd9159d0d23836f" category="doc">Commencer</block>
  <block id="22e3bbd761fbb7ae69b8035eb12f222d" category="paragraph">Cette solution a été conçue pour être exécutée dans un environnement AWX/Tower.</block>
  <block id="008ba800d97cb969def651e93f0d93fb" category="section-title">AWX/Tour</block>
  <block id="a481f1841043d60245f18522a86731b1" category="paragraph">Pour les environnements AWX/Tower, vous êtes guidé dans la création d'un inventaire de votre gestion de cluster ONTAP et de votre serveur Oracle (adresses IP et noms d'hôte), la création d'informations d'identification, la configuration d'un projet qui extrait le code Ansible de NetApp Automation Github et le modèle de travail qui lance l'automatisation.</block>
  <block id="ad5310e9dcd8f367be2b92490488d86d" category="list-text">La solution a été conçue pour fonctionner dans un scénario de cloud privé (sur site vers sur site) et de cloud hybride (sur site vers cloud public Cloud Volumes ONTAP [CVO])</block>
  <block id="5055de7b9d28f88e537f99f34959c80c" category="list-text">Remplissez les variables spécifiques à votre environnement, puis copiez-collez-les dans les champs Variables supplémentaires de votre modèle de travail.</block>
  <block id="d116f375db402ba471f519c0a4df15dc" category="list-text">Une fois les variables supplémentaires ajoutées à votre modèle de travail, vous pouvez lancer l'automatisation.</block>
  <block id="4d0c05180ba83e5c8a9bbac094c365e2" category="list-text">L'automatisation est configurée pour être exécutée en trois phases (configuration, planification de réplication pour les binaires Oracle, base de données, journaux et planification de réplication uniquement pour les journaux) et une quatrième phase pour récupérer la base de données sur un site DR.</block>
  <block id="936c99ed52ca08a052ebf611285dd998" category="inline-link-macro">Rassembler les prérequis pour les déploiements CVO et Connector</block>
  <block id="cb21368a15e2a3d47638571824353844" category="list-text">Pour obtenir des instructions détaillées sur l'obtention des clés et des jetons nécessaires à la protection des données CVO, visitez<block ref="541e8965c61ba24b34b7d00d5a5a7eae" category="inline-link-macro-rx"></block></block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="section-title">Exigences</block>
  <block id="5cc03ec574b226dc804a31cac74694cd" category="open-title">&lt;strong class="big"&gt;Sur site&lt;/strong&gt;</block>
  <block id="0ba29c6a1afacf586b03a26162c72274" category="cell">Environnement</block>
  <block id="9d5cfca4ad04b54536e5ad15210f7dc2" category="cell">*Environnement Ansible*</block>
  <block id="3f0733e14ebf265f0abf4b32371043ac" category="cell">Ansible v.2.10 et supérieur</block>
  <block id="3c91a74236fab100f024452f6df13b5e" category="cell">Python 3</block>
  <block id="215b38d177939de20bbb7b7913ce32c1" category="cell">Bibliothèques Python - netapp-lib - xmltodict - jmespath</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="cell">* ONTAP*</block>
  <block id="72bd33cc372377848ab3bb360deb365e" category="cell">ONTAP version 9.8 +</block>
  <block id="10aadda84b1b1da26c3757dfdb59379d" category="cell">Deux agrégats de données</block>
  <block id="9f998f9668ffe69c62d78760d1c531f0" category="cell">NFS vlan et ifgrp créés</block>
  <block id="ba5f343281b90f0408008806c66bce86" category="cell">*Serveur(s) Oracle*</block>
  <block id="6f1de5f0d7966ebf5f8d255fe28ebffe" category="cell">RHEL 7/8</block>
  <block id="aa596da3b79631d86c0d35e1c4b03aac" category="cell">Oracle Linux 7/8</block>
  <block id="814e8f57514db6134b6ffcd7a4ce20a6" category="cell">Interfaces réseau pour NFS, gestion publique et facultative</block>
  <block id="3ca63226b942aff3abcf62934a91e382" category="cell">Environnement Oracle existant sur la source et système d'exploitation Linux équivalent sur la destination (site DR ou cloud public)</block>
  <block id="6114118ecf4e8d86a2e7c80bfab462f6" category="open-title">&lt;strong class="big"&gt;CVO&lt;/strong&gt;</block>
  <block id="675b1e5a01195fa5d419962701704b96" category="cell">Définissez un espace de swap approprié sur l'instance Oracle EC2. Par défaut, certaines instances EC2 sont déployées avec 0 swap.</block>
  <block id="2f960df807c8ad51e74c447149eb2033" category="cell">*Gestionnaire de cloud/AWS*</block>
  <block id="571f37fae4494df03321c2abe1fcc053" category="cell">Accès AWS/Clé secrète</block>
  <block id="7a5be8c4513f3bd0696db24a6bd977f4" category="cell">Compte NetApp Cloud Manager</block>
  <block id="99e55608ac5f1697eb6804aaf586af09" category="cell">Jeton d'actualisation de NetApp Cloud Manager</block>
  <block id="90ce695bbcc395d9d5538cb54be705c8" category="cell">Ajouter des LIF intercluster source au groupe de sécurité AWS</block>
  <block id="ae9205dab0c26cca7762be5149a93923" category="section-title">Détails de l'automatisation</block>
  <block id="ba0676e7ae183e2c0bbd54261818154f" category="paragraph">Ce déploiement automatisé est conçu avec un seul playbook Ansible composé de trois rôles distincts.  Les rôles sont destinés aux configurations ONTAP, Linux et Oracle.  Le tableau suivant décrit les tâches qui sont automatisées.</block>
  <block id="3f9ec2a23fee1cafeb1a700de677caac" category="cell">Manuel de jeu</block>
  <block id="ef615563c8e8ea902c7fcac3cd2c4246" category="cell">Tâches</block>
  <block id="1f959110c5104b300b1a3d5fe3ee80dc" category="cell">*ontap_setup*</block>
  <block id="c0563eda0fb9d63778efe04a13a5d744" category="cell">Pré-vérification de l'environnement ONTAP</block>
  <block id="b7ed1e5c864a764f83f035d7f4f774ee" category="cell">Création de LIF intercluster sur le cluster source (FACULTATIF)</block>
  <block id="73ddb5848c16203494697871a4e993cd" category="cell">Création de LIF intercluster sur le cluster de destination (FACULTATIF)</block>
  <block id="04a35ce053d611d390fc192544fa4899" category="cell">Création de cluster et peering SVM</block>
  <block id="4605aea1d05aa2979e72d73dd2c51773" category="cell">Création du SnapMirror de destination et initialisation des volumes Oracle désignés</block>
  <block id="0dd4c7b6672d8937b6eb899b454fb7fe" category="cell">*ora_replication_cg*</block>
  <block id="7187aaa97acef94360159347d76a84c9" category="cell">Activer le mode de sauvegarde pour chaque base de données dans /etc/oratab</block>
  <block id="f9198142d6e5690166713858ae8a0cdd" category="cell">Capture instantanée des volumes binaires et de base de données Oracle</block>
  <block id="23ba14a0a5cf33c38faec5b66fff712e" category="cell">Snapmirror mis à jour</block>
  <block id="114debcae141b96db77c72e8a1e8fadb" category="cell">Désactiver le mode de sauvegarde pour chaque base de données dans /etc/oratab</block>
  <block id="682094861a79bcba0e0ab2e193198762" category="cell">*ora_replication_log*</block>
  <block id="1d03ae98454d1c807318a1e29a4e2736" category="cell">Changer le journal actuel pour chaque base de données dans /etc/oratab</block>
  <block id="47e4696811eedec695f727189503e8df" category="cell">Instantané pris du volume du journal Oracle</block>
  <block id="86836efae3e3d868a96ae69bcbc987ba" category="cell">*ora_recovery*</block>
  <block id="6ceab4515ef4144abed0f0ce5ed3038f" category="cell">Briser SnapMirror</block>
  <block id="a6066c717f63ac99226b48abb4cf1d85" category="cell">Activer NFS et créer un chemin de jonction pour les volumes Oracle sur la destination</block>
  <block id="aa46cdc29b66725a1180f57d02f0cee3" category="cell">Configurer l'hôte Oracle DR</block>
  <block id="dea9253f9b15f57a0c2161848a3c27a3" category="cell">Monter et vérifier les volumes Oracle</block>
  <block id="ee95819ff53983a149759d555a93ba4b" category="cell">Récupérer et démarrer la base de données Oracle</block>
  <block id="5a6b57bc1fdf2f0e1259ed22f1d027a4" category="cell">*cvo_setup*</block>
  <block id="331c87cd495ffdc9cd55d8b3935a75f5" category="cell">Pré-vérification de l'environnement</block>
  <block id="5f17c8d8d95282db12506044ba4d6ab9" category="cell">Configuration AWS/ID de clé d'accès AWS/Clé secrète/Région par défaut</block>
  <block id="cef449920fe163cdd74231266cbdf23d" category="cell">Création d'un rôle AWS</block>
  <block id="85a4bcbc96cde90931ad369de96535b2" category="cell">Création d'une instance NetApp Cloud Manager Connector dans AWS</block>
  <block id="abe14752834b641e86064c7214f6719c" category="cell">Création d'une instance Cloud Volumes ONTAP (CVO) dans AWS</block>
  <block id="c2a9449cd3b0ae879520f450b65b1621" category="cell">Ajouter un cluster ONTAP source sur site à NetApp Cloud Manager</block>
  <block id="fbb54d6efa6ca64af90fbe2289812be8" category="cell">Activer NFS et créer un chemin de jonction pour les volumes Oracle sur le CVO de destination</block>
  <block id="bf60025632dd0c4a2cf35e8b33e80619" category="section-title">Paramètres par défaut</block>
  <block id="3ef6389d9b9aacdce331793dd2a96ce8" category="paragraph">Pour simplifier l’automatisation, nous avons prédéfini de nombreux paramètres Oracle requis avec des valeurs par défaut.  Il n’est généralement pas nécessaire de modifier les paramètres par défaut pour la plupart des déploiements.  Un utilisateur plus avancé peut apporter des modifications aux paramètres par défaut avec prudence.  Les paramètres par défaut se trouvent dans chaque dossier de rôle sous le répertoire par défaut.</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">ici</block>
  <block id="19adadc497199e16f07f9744d43b2899" category="paragraph">Vous devez lire les informations de licence telles qu'indiquées dans le référentiel Github.  En accédant, en téléchargeant, en installant ou en utilisant le contenu de ce référentiel, vous acceptez les termes de la licence énoncée<block ref="07d15b3b85718d883b437fb3739e59a7" category="inline-link-macro-rx"></block> .</block>
  <block id="87d624bc8a7f555a711e7214ee002eec" category="paragraph">Veuillez noter qu'il existe certaines restrictions concernant la production et/ou le partage d'œuvres dérivées du contenu de ce référentiel.  Veuillez vous assurer de lire les conditions de l'<block ref="49480c711afcff6aca610d8294731030" category="inline-link-macro-rx"></block> avant d'utiliser le contenu.  Si vous n'acceptez pas toutes les conditions, n'accédez pas, ne téléchargez pas et n'utilisez pas le contenu de ce référentiel.</block>
  <block id="a98d844e94ad28c8e0fb089e005d6b9f" category="inline-link-macro">ici pour les procédures détaillées AWX/Tower</block>
  <block id="8c0b74b24c0796d904107941c0434187" category="paragraph">Une fois que vous êtes prêt, cliquez sur<block ref="7eee2430c5f3886ce85eab1c7e8a8191" category="inline-link-macro-rx"></block> .</block>
  <block id="cb2418c01859c7704da751aa5a7d2421" category="doc">Présentation de la solution</block>
  <block id="63c0320f73b5f4e528bbe1488acc5103" category="section-title">Protection automatisée des données pour les bases de données Oracle</block>
  <block id="d798c6a829fee4b3d8316144e8769e91" category="paragraph">Les organisations automatisent leurs environnements pour gagner en efficacité, accélérer les déploiements et réduire les efforts manuels.  Des outils de gestion de configuration comme Ansible sont utilisés pour rationaliser les opérations de base de données d’entreprise.  Dans cette solution, nous démontrons comment vous pouvez utiliser Ansible pour automatiser la protection des données d'Oracle avec NetApp ONTAP.  En permettant aux administrateurs de stockage, aux administrateurs système et aux administrateurs de bases de données de configurer de manière cohérente et rapide la réplication des données vers un centre de données hors site ou vers un cloud public, vous obtenez les avantages suivants :</block>
  <block id="5291cb8e681983247b899ce2364188f2" category="list-text">Éliminez les complexités de conception et les erreurs humaines, et mettez en œuvre un déploiement cohérent et reproductible ainsi que les meilleures pratiques</block>
  <block id="1d4694b7ed077df8b2c51d4ef956ce0c" category="list-text">Réduisez le temps de configuration de la réplication intercluster, de l'instanciation CVO et de la récupération des bases de données Oracle</block>
  <block id="a54e59b6b063d8a2bf18acffab877d09" category="list-text">Augmenter la productivité des administrateurs de bases de données, de systèmes et de stockage</block>
  <block id="60bcf8682ddc3583a74e6cd2d95e1ccb" category="list-text">Fournit un flux de travail de récupération de base de données pour faciliter le test d'un scénario DR.</block>
  <block id="7d85c5a5f016aefeda6b89687f1307bb" category="paragraph">NetApp fournit aux clients des modules et des rôles Ansible validés pour accélérer le déploiement, la configuration et la gestion du cycle de vie de votre environnement de base de données Oracle.  Cette solution fournit des instructions et un code de playbook Ansible pour vous aider à :</block>
  <block id="7fa4d3428dbef9829f6325b288c071bc" category="section-title">Réplication sur site vers sur site</block>
  <block id="911a9e8dd85bfeeba31c1ed049e41e1c" category="list-text">Créer des LIF intercluster sur la source et la destination</block>
  <block id="2f4eb56dd9301fc33f559b4345b90eb3" category="list-text">Établir un peering de cluster et de serveur virtuel</block>
  <block id="2b71f4136dce37491ef0f319f5d1fbd9" category="list-text">Créer et initialiser SnapMirror des volumes Oracle</block>
  <block id="20f4a46f5b12b0533f7a2268c4c2bf41" category="list-text">Créez un calendrier de réplication via AWX/Tower pour les binaires, les bases de données et les journaux Oracle</block>
  <block id="6ef1c2ae7c9ca61a54d88de28349a772" category="list-text">Restaurer la base de données Oracle sur la destination et mettre la base de données en ligne</block>
  <block id="f4ec61d9ffa147f621f854609523a0fb" category="section-title">Sur site vers CVO dans AWS</block>
  <block id="3f155aa6a9345b3e25f3bb44ecccfc0a" category="list-text">Créer un connecteur AWS</block>
  <block id="1531cb3c2d4db27dcd3bfa2ad4711ec5" category="list-text">Créer une instance CVO dans AWS</block>
  <block id="2f159b717f78e9925b219e87cbd20f9a" category="list-text">Ajouter un cluster sur site à Cloud Manager</block>
  <block id="df16a1e23dbbcc2f19f07ab1af741617" category="list-text">Créer des LIF intercluster sur la source</block>
  <block id="68eff5f8d34b801d40ab55f098bc6478" category="inline-link-macro">ici pour commencer avec la solution</block>
  <block id="54424c2f7d76f368ad64784745368677" category="paragraph">Une fois que vous êtes prêt, cliquez sur<block ref="34c80bad36975dcefa19451aa4330554" category="inline-link-macro-rx"></block> .</block>
  <block id="def8ebf26c2dec5f6af5a00893fae037" category="paragraph">Cette solution a été conçue pour être exécutée dans un environnement AWX/Tower ou par CLI sur un hôte de contrôle Ansible.</block>
  <block id="8ca0a52cf9938328875e0a8803ae71dd" category="list-text">Le modèle de travail est exécuté en trois phases en spécifiant des balises pour ontap_config, linux_config et oracle_config.</block>
  <block id="da3d0d670ace8a327170aa25ee29f272" category="section-title">CLI via l'hôte de contrôle Ansible</block>
  <block id="8c649830ad367719c501f8fc9ba4d387" category="inline-link-macro">cliquez ici pour des instructions détaillées</block>
  <block id="ef284736d2c4bfcf65ee26d43359d9ab" category="list-text">Pour configurer l'hôte Linux afin qu'il puisse être utilisé comme hôte de contrôle Ansible<block ref="40c15f7a9c77327121f90c13f61a149b" category="inline-link-macro-rx"></block></block>
  <block id="28e934ddab7714830f8afe8d3b641dc9" category="list-text">Une fois l’hôte de contrôle Ansible configuré, vous pouvez cloner le référentiel Ansible Automation.</block>
  <block id="f667be8dac02593d217a02ac5bfb18de" category="list-text">Modifiez le fichier hosts avec les adresses IP et/ou les noms d'hôte de votre gestion de cluster ONTAP et des adresses IP de gestion du serveur Oracle.</block>
  <block id="95bd15e6b4a109de659c54c331c06284" category="list-text">Remplissez les variables spécifiques à votre environnement, et copiez-les et collez-les dans le<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> déposer.</block>
  <block id="ca548be3e5f238d32286d43dc4c89f7b" category="list-text">Chaque hôte Oracle possède un fichier de variables identifié par son nom d'hôte qui contient des variables spécifiques à l'hôte.</block>
  <block id="87192ebbcab92216d25fd694a282971d" category="list-text">Une fois tous les fichiers variables terminés, vous pouvez exécuter le playbook en trois phases en spécifiant des balises pour<block ref="0aadb2735557202c6ab978c489e2b6e9" prefix=" " category="inline-code"></block> ,<block ref="7ee7ce51db32cbf806a0c21c648f4c2b" prefix=" " category="inline-code"></block> , et<block ref="b656a5ae2d7a83cf0ead9c81fb96ec17" prefix=" " category="inline-code"></block> .</block>
  <block id="eebc1357e7d1e88ed4e4908d5ae86c0b" category="cell">AWX/Tower ou hôte Linux comme hôte de contrôle Ansible</block>
  <block id="0a928fe81d89083ed303ea3d9f1af8c9" category="cell">ONTAP versions 9.3 - 9.7</block>
  <block id="515f291f3ecc550c5d13cf31fadba91d" category="cell">Fichiers d'installation Oracle sur les serveurs Oracle</block>
  <block id="bbbabdbe1b262f75d99d62880b953be1" category="cell">Rôle</block>
  <block id="9bb642814808cd0cab510ddfb9e5969c" category="cell">*ontap_config*</block>
  <block id="79b814c8267c6b7822e78ab4624db8e0" category="cell">Création d'un SVM basé sur NFS pour Oracle</block>
  <block id="0c981d6164da0d8e69cdb199966316b0" category="cell">Création d'une politique d'exportation</block>
  <block id="99179ac01bbb0236fc540871377c55c4" category="cell">Création de volumes pour Oracle</block>
  <block id="db738705829d97db1e287ad8ea9e5400" category="cell">Création de LIF NFS</block>
  <block id="089c4c184b079d771501d8ceb0f3bb05" category="cell">*linux_config*</block>
  <block id="3ea572544d30a39d236496578f980d13" category="cell">Créer des points de montage et monter des volumes NFS</block>
  <block id="db6c0f994cc39fbf66d58eea6c627e6a" category="cell">Vérifier les montages NFS</block>
  <block id="6a882e7966e7869ab1d2112a0b1c0074" category="cell">Configuration spécifique au système d'exploitation</block>
  <block id="6e6d41d1398fafd8809de20e831c9ce3" category="cell">Créer des répertoires Oracle</block>
  <block id="6f965a5d44e1653dac9825f465f71c84" category="cell">Configurer les pages géantes</block>
  <block id="be577868fe0712b7bbb6d5cb5eae613c" category="cell">Désactiver SELinux et le démon du pare-feu</block>
  <block id="bb6f16330211bf24baa83db38b11e4a9" category="cell">Activer et démarrer le service chronyd</block>
  <block id="e9e5cefa281d2c696aac82ef9c756f51" category="cell">augmenter la limite stricte du descripteur de fichier</block>
  <block id="a4acc779f882208c081f943aedfeab5c" category="cell">Créer un fichier de session pam.d</block>
  <block id="d03021f9e02b9fa9ebac591ad4bfea08" category="cell">*oracle_config*</block>
  <block id="5e706781d4bf141c80e249a244179235" category="cell">Installation du logiciel Oracle</block>
  <block id="1a98fce6d77de1126bf3cb8247747621" category="cell">Créer un écouteur Oracle</block>
  <block id="841df7bfbef212936073c6d261d4dba9" category="cell">Créer des bases de données Oracle</block>
  <block id="845a6e024025bb13aafdc167511e5e7d" category="cell">Configuration de l'environnement Oracle</block>
  <block id="666113957f940ba4319b4f0d9c3e86c0" category="cell">Enregistrer l'état PDB</block>
  <block id="264bca6ddd5a16346460d9c21e8f926d" category="cell">Activer le mode d'archivage d'instance</block>
  <block id="620ca5ae835411d2031ca0fdbbbe61a1" category="cell">Activer le client DNFS</block>
  <block id="4d7e6c9b84f6f86cf4817262ad424eeb" category="cell">Activer le démarrage et l'arrêt automatiques de la base de données entre les redémarrages du système d'exploitation</block>
  <block id="ebda2606845855cc07ce0ce15ecf8a00" category="paragraph">Pour simplifier l’automatisation, nous avons prédéfini de nombreux paramètres de déploiement Oracle requis avec des valeurs par défaut.  Il n’est généralement pas nécessaire de modifier les paramètres par défaut pour la plupart des déploiements.  Un utilisateur plus avancé peut apporter des modifications aux paramètres par défaut avec prudence.  Les paramètres par défaut se trouvent dans chaque dossier de rôle sous le répertoire par défaut.</block>
  <block id="452eff11ca6d680a279a3e81b8dc8974" category="section-title">Instructions de déploiement</block>
  <block id="1cf7ad9cd74067dd3f4aee3c1690ea32" category="paragraph">Avant de commencer, téléchargez les fichiers d'installation et de correctif Oracle suivants et placez-les dans le<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> répertoire avec accès en lecture, écriture et exécution pour tous les utilisateurs sur chaque serveur de base de données à déployer.  Les tâches d'automatisation recherchent les fichiers d'installation nommés dans ce répertoire particulier pour l'installation et la configuration d'Oracle.</block>
  <block id="5abe869dd828ac1e4527f07db79841a8" category="inline-link-macro">ici pour les procédures détaillées de déploiement AWX/Tower</block>
  <block id="c3bcf861ccc9247a7c0a9b4749747e4e" category="inline-link-macro">ici pour le déploiement CLI</block>
  <block id="fa01f068eaaf85b625368055e22487ea" category="paragraph">Une fois que vous êtes prêt, cliquez sur<block ref="db0e51d6d77e869c7da6e8cb4dc7151c" category="inline-link-macro-rx"></block> ou<block ref="205ff37c8db6a7182f8647c7a493f2c7" category="inline-link-macro-rx"></block> .</block>
  <block id="13d13fda6fbfbd83ab30f9a5bee17b08" category="section-title">Déploiement automatisé d'Oracle19c pour ONTAP sur NFS</block>
  <block id="9ce6d30135c2644ff34390c65af4061b" category="paragraph">Les organisations automatisent leurs environnements pour gagner en efficacité, accélérer les déploiements et réduire les efforts manuels.  Des outils de gestion de configuration comme Ansible sont utilisés pour rationaliser les opérations de base de données d’entreprise.  Dans cette solution, nous démontrons comment vous pouvez utiliser Ansible pour automatiser le provisionnement et la configuration d'Oracle 19c avec NetApp ONTAP.  En permettant aux administrateurs de stockage, aux administrateurs système et aux administrateurs de bases de données de déployer de manière cohérente et rapide de nouveaux systèmes de stockage, de configurer des serveurs de base de données et d'installer le logiciel Oracle 19c, vous bénéficiez des avantages suivants :</block>
  <block id="a90516bf4597e04e1a97bd9cb37087d8" category="list-text">Réduisez le temps nécessaire à la mise à disposition du stockage, à la configuration des hôtes de base de données et à l'installation d'Oracle</block>
  <block id="d18d76441366273feb36bde890ad5e1c" category="list-text">Activez la mise à l'échelle du stockage et des bases de données en toute simplicité</block>
  <block id="547b893b7cd300d6a8335f5b179ad12e" category="list-text">Créer et configurer le stockage NFS ONTAP pour la base de données Oracle</block>
  <block id="36bb01ec9f02292fb44b9f10f57ceae7" category="list-text">Installer Oracle 19c sur RedHat Enterprise Linux 7/8 ou Oracle Linux 7/8</block>
  <block id="548bf87c41c9d3bb76981decbd599c90" category="list-text">Configurer Oracle 19c sur le stockage NFS ONTAP</block>
  <block id="950496934d91d07bb089d6ed0999b5a9" category="paragraph">Pour plus de détails ou pour commencer, veuillez consulter les vidéos de présentation ci-dessous.</block>
  <block id="b923f56ad2a53fa1a3ca1160e48f141e" category="section-title">Déploiements AWX/Tour</block>
  <block id="ab81e47672e89830ec16c581f44cb23c" category="paragraph">Partie 1 : Prise en main, exigences, détails d'automatisation et configuration initiale d'AWX/Tower</block>
  <block id="44f9187dc57a34800a68152bf3e51e8f" category="video-title">Déploiement d'AWX</block>
  <block id="cf7bbd18f18fdc73ee49ffea888126c7" category="paragraph">Partie 2 : Variables et exécution du Playbook</block>
  <block id="9234eaf4b40d25f09b5abdd71c1e1a7b" category="video-title">Exécution du manuel de jeu AWX</block>
  <block id="f5e227cfa54c5693c512c6adf41a3772" category="section-title">Déploiement CLI</block>
  <block id="0b8a09b5974336d1f5e510d18205c03c" category="paragraph">Partie 1 : Prise en main, exigences, détails d'automatisation et configuration de l'hôte de contrôle Ansible</block>
  <block id="9225d2c6eb68109e4084ab87f17664fa" category="video-title">Exécution du manuel de jeu CLI</block>
  <block id="cdac44ff22ec226b2a64bcc97a676457" category="summary">Lisez les blogs qui offrent des conseils pratiques et des bonnes pratiques pour l’intégration du stockage ONTAP aux solutions de base de données NetApp .</block>
  <block id="bdcf5e7d166fb271b3f746d3e9045375" category="doc">Lisez les blogs sur les solutions de base de données des experts NetApp</block>
  <block id="6a211bce28b13011e81530086a186758" category="inline-link-macro">Protégez vos charges de travail SQL Server à l'aide de NetApp SnapCenter avec Amazon FSx ONTAP</block>
  <block id="e3611377b31e2b1fab270cf0ecadd740" category="list-text"><block ref="e3611377b31e2b1fab270cf0ecadd740" category="inline-link-macro-rx"></block></block>
  <block id="aeb79a141f3c3f603cee05dfa64277aa" category="inline-link-macro">Modernisez votre fonctionnement de base de données Oracle dans un cloud hybride avec le stockage Amazon FSx</block>
  <block id="a35641294527bf47526671d78d910a7e" category="list-text"><block ref="a35641294527bf47526671d78d910a7e" category="inline-link-macro-rx"></block></block>
  <block id="c4ff33edf6e94fb434fb59e4ad2c286b" category="inline-link-macro">Solutions de bases de données cloud hybrides avec SnapCenter</block>
  <block id="e6c9e9316fee7048645938d93d674056" category="list-text"><block ref="e6c9e9316fee7048645938d93d674056" category="inline-link-macro-rx"></block></block>
  <block id="fc25c016a8fb35a621842044a8d4f2e7" category="inline-link-macro">Automatisez votre infrastructure de base de données Oracle dans le cloud hybride</block>
  <block id="3e78754f8bb90f06073e18a2399d0b7f" category="list-text"><block ref="3e78754f8bb90f06073e18a2399d0b7f" category="inline-link-macro-rx"></block></block>
  <block id="ac9bef0f960e3a46befd2d06b223b61d" category="summary">Cette section décrit une architecture cloud hybride typique pour les opérations de développement/test et de reprise après sinistre.</block>
  <block id="9f6302143996033ebb94d536b860acc3" category="doc">Architecture de la solution</block>
  <block id="4085a97aa705c0122bbcec0c84dd97d3" category="paragraph">Le diagramme d’architecture suivant illustre une implémentation typique du fonctionnement d’une base de données d’entreprise dans un cloud hybride pour les opérations de développement/test et de reprise après sinistre.</block>
  <block id="5e8f0f670e38fbdf628b0883f946934f" category="inline-image-macro">Figure montrant une boîte de dialogue d'entrée/sortie ou représentant un contenu écrit</block>
  <block id="baa9f1b18527b789ada465cfa654f1f3" category="paragraph"><block ref="baa9f1b18527b789ada465cfa654f1f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3cdc302c6d83b60c8ec7ad0b550e55a8" category="paragraph">Dans le cadre d'opérations commerciales normales, les volumes de base de données synchronisés dans le cloud peuvent être clonés et montés sur des instances de base de données de développement/test pour le développement ou le test d'applications.  En cas de panne, les volumes de base de données synchronisés dans le cloud peuvent alors être activés pour la reprise après sinistre.</block>
  <block id="467bda78c0e1adcc5ed650843fbfbdf5" category="summary">Cette section décrit le processus de déploiement de Cloud Manager et de Cloud Volumes ONTAP dans AWS.</block>
  <block id="298a4809d5445df75b6c4a9fb94074a4" category="doc">Premiers pas avec le cloud public AWS</block>
  <block id="8a3f037eef48de78bfe13d14e3d7cdfa" category="section-title">Cloud public AWS</block>
  <block id="87aa698992e009d04733c9906225592c" category="admonition">Pour faciliter le suivi, nous avons créé ce document basé sur un déploiement dans AWS.  Cependant, le processus est très similaire pour Azure et GCP.</block>
  <block id="39845311263ccad04c0d4f0b9aa9d4c6" category="section-title">1. Contrôle pré-vol</block>
  <block id="12ed93944854c12caa37886d620f16db" category="paragraph">Avant le déploiement, assurez-vous que l’infrastructure est en place pour permettre le déploiement à l’étape suivante.  Cela comprend les éléments suivants :</block>
  <block id="c6368ae044df0f7bb26ed60afda5c591" category="list-text">compte AWS</block>
  <block id="4019c185756035c18c03fabfccd7d4b2" category="list-text">VPC dans la région de votre choix</block>
  <block id="fca5d2fece6e360f78dff4573ba04a20" category="list-text">Sous-réseau avec accès à l'Internet public</block>
  <block id="e3e5c3dadc3e70d536645a3be9744f79" category="list-text">Autorisations pour ajouter des rôles IAM à votre compte AWS</block>
  <block id="bd5c82fb0e0371a168f609848b11e92a" category="list-text">Une clé secrète et une clé d'accès pour votre utilisateur AWS</block>
  <block id="c3d1ff3c88148b2246bb0972916da82a" category="section-title">2. Étapes pour déployer Cloud Manager et Cloud Volumes ONTAP dans AWS</block>
  <block id="6d0eb695a99109617b806676e9610075" category="inline-link">Documentation NetApp Cloud</block>
  <block id="593581e466784760a050bceaea5e0c48" category="admonition">Il existe de nombreuses méthodes pour déployer Cloud Manager et Cloud Volumes ONTAP; cette méthode est la plus simple mais nécessite le plus d'autorisations.  Si cette méthode n'est pas adaptée à votre environnement AWS, veuillez consulter le<block ref="97a20614f8c0e53f461a9353634e5e51" category="inline-link-rx"></block> .</block>
  <block id="bb3e779fdf877143137572122cf424e3" category="section-title">Déployer le connecteur Cloud Manager</block>
  <block id="1273c8a63109161e6fd1f18d6998523f" category="inline-link">NetApp BlueXP</block>
  <block id="1bb916142b871b5d3ca15de98567916e" category="list-text">Accéder à<block ref="830bc671a5f7a65e4c0ded8f63d397ba" category="inline-link-rx"></block> et connectez-vous ou inscrivez-vous.</block>
  <block id="e282a5afe40f9227d1f4acfdd3e5e741" category="paragraph"><block ref="e282a5afe40f9227d1f4acfdd3e5e741" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2300b8579a8761e452d89a2af6636b7d" category="list-text">Après vous être connecté, vous devriez être redirigé vers le Canvas.</block>
  <block id="7ac8c7bcb29721730eca3892f6e6f8c7" category="paragraph"><block ref="7ac8c7bcb29721730eca3892f6e6f8c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3fbf2c408ce86ff3403990e7e32dcb3" category="list-text">Cliquez sur « Ajouter un environnement de travail » et choisissez Cloud Volumes ONTAP dans AWS.  Ici, vous choisissez également si vous souhaitez déployer un système à nœud unique ou une paire à haute disponibilité.  J'ai choisi de déployer une paire haute disponibilité.</block>
  <block id="cabea866322ee15f6ad51d3a7a478bd0" category="paragraph"><block ref="cabea866322ee15f6ad51d3a7a478bd0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="016aa0c0a7322975ec4b8eeac805f2c0" category="list-text">Si aucun connecteur n'a été créé, une fenêtre contextuelle apparaît vous demandant de créer un connecteur.</block>
  <block id="6fcf6b9fcfb4b68ea9b356249917f8b4" category="paragraph"><block ref="6fcf6b9fcfb4b68ea9b356249917f8b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4fc3362a0d8ab63cc8fa21bbd0fb07db" category="list-text">Cliquez sur Commencer, puis choisissez AWS.</block>
  <block id="7af8af3ae01ae5f5dac500ebebdcfff4" category="paragraph"><block ref="7af8af3ae01ae5f5dac500ebebdcfff4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="deae4c054bb3102bbf634b14534da9bf" category="inline-link">Page des politiques NetApp</block>
  <block id="651d429a2b6cfcd93f6adb1d4825a214" category="list-text">Entrez votre clé secrète et votre clé d'accès.  Assurez-vous que votre utilisateur dispose des autorisations appropriées décrites sur le<block ref="fb0c65a047527c32e46baadcaacb4fe2" category="inline-link-rx"></block> .</block>
  <block id="ed76687fb3bd96d32653a4364e17843a" category="paragraph"><block ref="ed76687fb3bd96d32653a4364e17843a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d8d59b60a74630e45f83fd3c48207b47" category="list-text">Donnez un nom au connecteur et utilisez un rôle prédéfini comme décrit sur le<block ref="fb0c65a047527c32e46baadcaacb4fe2" category="inline-link-rx"></block> ou demandez à Cloud Manager de créer le rôle pour vous.</block>
  <block id="de6bc4c9b9d28ba5c38022a1273a6f8d" category="paragraph"><block ref="de6bc4c9b9d28ba5c38022a1273a6f8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02d395705fb063ad8d33d8c83c856e6f" category="list-text">Fournissez les informations réseau nécessaires au déploiement du connecteur.  Vérifiez que l'accès Internet sortant est activé en :</block>
  <block id="8215126360cbe5d8f5566c7ffc8cf224" category="list-text">Attribuer au connecteur une adresse IP publique</block>
  <block id="22adb619c008bfd7495288573093ae44" category="list-text">Donner au connecteur un proxy pour fonctionner</block>
  <block id="58a149795bbe86e4e0d4ab8f10413219" category="list-text">Donner au connecteur un itinéraire vers l'Internet public via une passerelle Internet</block>
  <block id="4eeccd1cb887dc911ed82bc677d8d983" category="paragraph"><block ref="4eeccd1cb887dc911ed82bc677d8d983" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7c58ebc9f032dc8d2e5c4f522cedbe0b" category="list-text">Assurez la communication avec le connecteur via SSH, HTTP et HTTPS en fournissant un groupe de sécurité ou en créant un nouveau groupe de sécurité.  J'ai activé l'accès au connecteur à partir de mon adresse IP uniquement.</block>
  <block id="9fa6c6b8e5eb14feb24cb9d696157553" category="paragraph"><block ref="9fa6c6b8e5eb14feb24cb9d696157553" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cb444cfaba774437ecdbbb95856d94cd" category="list-text">Consultez les informations sur la page récapitulative et cliquez sur Ajouter pour déployer le connecteur.</block>
  <block id="154cd816f1285c58e16ece21967da034" category="paragraph"><block ref="154cd816f1285c58e16ece21967da034" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4255ace47c9ad7f2907c18df7512bb9f" category="list-text">Le connecteur se déploie désormais à l’aide d’une pile de formation cloud.  Vous pouvez suivre sa progression depuis Cloud Manager ou via AWS.</block>
  <block id="057efd602c076f03093e38cc99809898" category="paragraph"><block ref="057efd602c076f03093e38cc99809898" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca320cc147e2b9fac2dd7379e91012b6" category="list-text">Une fois le déploiement terminé, une page de réussite s’affiche.</block>
  <block id="87085175bd7e42e9ef939779233b1cde" category="paragraph"><block ref="87085175bd7e42e9ef939779233b1cde" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6382283fd45b13b5c983745731fec990" category="section-title">Déployer Cloud Volumes ONTAP</block>
  <block id="5fe90897c7135ba3020c4a397f55adb6" category="list-text">Sélectionnez AWS et le type de déploiement en fonction de vos besoins.</block>
  <block id="b6bcc3b2a65dfe49900cc36f9acb3b2a" category="paragraph"><block ref="b6bcc3b2a65dfe49900cc36f9acb3b2a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ccf1300c5621fdebe8c1a70fade44f3b" category="list-text">Si aucun abonnement n'a été attribué et que vous souhaitez acheter avec PAYGO, choisissez Modifier les informations d'identification.</block>
  <block id="0f7cc3cf4af39efaea394cb57ecc125b" category="paragraph"><block ref="0f7cc3cf4af39efaea394cb57ecc125b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="88eb84b1a8f0417c9de6e1202125df56" category="list-text">Choisissez Ajouter un abonnement.</block>
  <block id="91efa79ff5f66479423223a997f1b40f" category="paragraph"><block ref="91efa79ff5f66479423223a997f1b40f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="052208bafdfe08bc8f0735a78226e541" category="list-text">Choisissez le type de contrat auquel vous souhaitez souscrire.  J'ai choisi le paiement à l'utilisation.</block>
  <block id="462124be98dbf5df5b3711d4f6c77a63" category="paragraph"><block ref="462124be98dbf5df5b3711d4f6c77a63" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65577508f7897e730adb501d0db73913" category="list-text">Vous êtes redirigé vers AWS ; choisissez Continuer pour vous abonner.</block>
  <block id="49a6585bc40dcafc761db93ca75ed3c6" category="paragraph"><block ref="49a6585bc40dcafc761db93ca75ed3c6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="439c4fb23c120f0a99894c630cedaabd" category="list-text">Abonnez-vous et vous serez redirigé vers NetApp Cloud Central.  Si vous êtes déjà abonné et que vous n'êtes pas redirigé, choisissez le lien « Cliquez ici ».</block>
  <block id="72b26a095b546317a1edbb45780701ee" category="paragraph"><block ref="72b26a095b546317a1edbb45780701ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="14b9e98d2b57da92c29826ce7de32c32" category="list-text">Vous êtes redirigé vers Cloud Central où vous devez nommer votre abonnement et l'attribuer à votre compte Cloud Central.</block>
  <block id="4dc70c9e1cfa86bc3ece7f5fd5341124" category="paragraph"><block ref="4dc70c9e1cfa86bc3ece7f5fd5341124" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4508f5994d1b34ff85cd1e8a1884d6c1" category="list-text">En cas de réussite, une page de coche apparaît.  Revenez à votre onglet Gestionnaire de Cloud.</block>
  <block id="f8420c2b2f2432184965cc0cd80ef5a0" category="paragraph"><block ref="f8420c2b2f2432184965cc0cd80ef5a0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3294e5fb9ec1c42cde7ebf9b206c583" category="list-text">L'abonnement apparaît désormais dans Cloud Central.  Cliquez sur Appliquer pour continuer.</block>
  <block id="ad10b8c573c47bcb7c2f6750597c3a08" category="paragraph"><block ref="ad10b8c573c47bcb7c2f6750597c3a08" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f7927b068a5dddb4852b2e7dc256544" category="list-text">Saisissez les détails de l’environnement de travail tels que :</block>
  <block id="0dbae4d42c7a0db53e2eb32adee12892" category="list-text">Nom du cluster</block>
  <block id="0c191ee206a91460fd94e2ff976a38e7" category="list-text">Mot de passe du cluster</block>
  <block id="53aa18427d1e2c7b7113c668561a62d2" category="list-text">Balises AWS (facultatif)</block>
  <block id="3c6089f7361889520b00f7575c90e93e" category="paragraph"><block ref="3c6089f7361889520b00f7575c90e93e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e3acd739fdfa810ca8857d8784a12d39" category="inline-link">BlueXP: des opérations de gestion de données modernes simplifiées</block>
  <block id="7d660e4b5afe11344e161db394235b71" category="list-text">Choisissez les services supplémentaires que vous souhaitez déployer.  Pour en savoir plus sur ces services, visitez le<block ref="e261d37fe9d84ead5e578786e73e06d6" category="inline-link-rx"></block> .</block>
  <block id="a31642aee7d43c2824d20eb29cc4ef27" category="paragraph"><block ref="a31642aee7d43c2824d20eb29cc4ef27" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e0dffa77d5644a3816ba69e24ce813ff" category="list-text">Choisissez de déployer dans plusieurs zones de disponibilité (nécessite trois sous-réseaux, chacun dans une zone de disponibilité différente) ou dans une seule zone de disponibilité.  J'ai choisi plusieurs AZ.</block>
  <block id="373394cacbff6f77a52fde009c163d3d" category="paragraph"><block ref="373394cacbff6f77a52fde009c163d3d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b889b7255c34e7f230e392668605860" category="list-text">Choisissez la région, le VPC et le groupe de sécurité dans lesquels le cluster doit être déployé.  Dans cette section, vous attribuez également les zones de disponibilité par nœud (et médiateur) ainsi que les sous-réseaux qu'ils occupent.</block>
  <block id="815e3827acb1c1b8d9d8a51937da90cd" category="paragraph"><block ref="815e3827acb1c1b8d9d8a51937da90cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="be43ebbf5380089f153e4f1b13e35e6f" category="list-text">Choisissez les méthodes de connexion pour les nœuds ainsi que le médiateur.</block>
  <block id="82d184747f0abe75a5d983d70aae4972" category="paragraph"><block ref="82d184747f0abe75a5d983d70aae4972" category="inline-image-macro-rx" type="image"></block></block>
  <block id="204bd52e1d13052712299779cf041df6" category="admonition">Le médiateur nécessite une communication avec les API AWS.  Une adresse IP publique n'est pas requise tant que les API sont accessibles après le déploiement de l'instance EC2 du médiateur.</block>
  <block id="52fade87431f9acc43b7bf6e4c5fd2f1" category="inline-link">Documentation NetApp Cloud</block>
  <block id="0c79e4a46253eeb94ba6b8218928aa99" category="list-text">Les adresses IP flottantes sont utilisées pour permettre l'accès aux différentes adresses IP utilisées par Cloud Volumes ONTAP , y compris la gestion des clusters et les adresses IP de service de données.  Il doit s'agir d'adresses qui ne sont pas déjà routables au sein de votre réseau et qui sont ajoutées aux tables de routage de votre environnement AWS.  Ces éléments sont nécessaires pour permettre des adresses IP cohérentes pour une paire HA lors du basculement.  Vous trouverez plus d'informations sur les adresses IP flottantes dans le<block ref="72cde540b4f97efa19e071f729439801" category="inline-link-rx"></block> .</block>
  <block id="f1618e40be863e66cd75f24e4cc7ad6a" category="paragraph"><block ref="f1618e40be863e66cd75f24e4cc7ad6a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="95ca6b5e9b64aed9132a6be07d061f3b" category="list-text">Sélectionnez les tables de routage auxquelles les adresses IP flottantes sont ajoutées.  Ces tables de routage sont utilisées par les clients pour communiquer avec Cloud Volumes ONTAP.</block>
  <block id="66bdb0f1c34a4b7ba044d0d6a7570891" category="paragraph"><block ref="66bdb0f1c34a4b7ba044d0d6a7570891" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af918e519f9c0db1ed5ab4fd4b6e9e05" category="list-text">Choisissez d'activer le chiffrement géré par AWS ou AWS KMS pour chiffrer les disques racine, de démarrage et de données ONTAP .</block>
  <block id="141e915d3c15643bd1e7f08d11ba8ae3" category="paragraph"><block ref="141e915d3c15643bd1e7f08d11ba8ae3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="01bd54fa77587425fca4a6c352309b5c" category="list-text">Choisissez votre modèle de licence.  Si vous ne savez pas lequel choisir, contactez votre représentant NetApp .</block>
  <block id="a223ede8eeb34284274940e7b11bbcec" category="paragraph"><block ref="a223ede8eeb34284274940e7b11bbcec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04110b24d1459a6e21e35ad976a8f10e" category="list-text">Sélectionnez la configuration la mieux adaptée à votre cas d’utilisation.  Ceci est lié aux considérations de dimensionnement abordées dans la page des prérequis.</block>
  <block id="b4f3c2a2c1f02c4a4a482b595655fca8" category="paragraph"><block ref="b4f3c2a2c1f02c4a4a482b595655fca8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ed47788a525c6d08246bfa2f90922da" category="list-text">En option, créez un volume.  Ce n’est pas obligatoire, car les étapes suivantes utilisent SnapMirror, qui crée les volumes pour nous.</block>
  <block id="6f02bb954ac3558619d2e463a48e8331" category="paragraph"><block ref="6f02bb954ac3558619d2e463a48e8331" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76011f95c4e1b3f68fa5829dab0fb786" category="list-text">Passez en revue les sélections effectuées et cochez les cases pour vérifier que vous comprenez que Cloud Manager déploie des ressources dans votre environnement AWS.  Lorsque vous êtes prêt, cliquez sur Aller.</block>
  <block id="502e46e84b4616db614c669176be0d9a" category="paragraph"><block ref="502e46e84b4616db614c669176be0d9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="13b7f009673a469e5482a96832be1473" category="list-text">Cloud Volumes ONTAP démarre maintenant son processus de déploiement.  Cloud Manager utilise les API AWS et les piles de formation cloud pour déployer Cloud Volumes ONTAP.  Il configure ensuite le système selon vos spécifications, vous offrant ainsi un système prêt à l'emploi qui peut être utilisé instantanément.  Le calendrier de ce processus varie en fonction des sélections effectuées.</block>
  <block id="899952570e24fd3fc37c3e57d3d1271b" category="paragraph"><block ref="899952570e24fd3fc37c3e57d3d1271b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e63d2329924bb302fb012e7916b3614" category="list-text">Vous pouvez suivre la progression en accédant à la chronologie.</block>
  <block id="a080dfe218cdd73e65880324f6d560f6" category="paragraph"><block ref="a080dfe218cdd73e65880324f6d560f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b4df7cc92b3ee31f5d95082a78c7903" category="list-text">La chronologie agit comme un audit de toutes les actions effectuées dans Cloud Manager.  Vous pouvez afficher tous les appels d'API effectués par Cloud Manager lors de la configuration sur AWS ainsi que sur le cluster ONTAP .  Cela peut également être utilisé efficacement pour résoudre tous les problèmes auxquels vous êtes confronté.</block>
  <block id="5801fcc13531ac6e2bab84a7380e103f" category="paragraph"><block ref="5801fcc13531ac6e2bab84a7380e103f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c5674ad1910f0a25455fdeb0f3f097a" category="list-text">Une fois le déploiement terminé, le cluster CVO apparaît sur le canevas, avec la capacité actuelle.  Le cluster ONTAP dans son état actuel est entièrement configuré pour permettre une véritable expérience prête à l'emploi.</block>
  <block id="22798f34a34152e28c020493921d7b15" category="paragraph"><block ref="22798f34a34152e28c020493921d7b15" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28d2e01957d5845ff59688f17bd34339" category="section-title">Configurer SnapMirror depuis le site vers le cloud</block>
  <block id="081494b1a178710486921a42e2bdfa87" category="paragraph">Maintenant que vous disposez d’un système ONTAP source et d’un système ONTAP de destination déployés, vous pouvez répliquer des volumes contenant des données de base de données dans le cloud.</block>
  <block id="cb3269c2496a99fb03bebe82b6a3e4bc" category="inline-link">Matrice de compatibilité SnapMirror</block>
  <block id="46aad6288d89ba29f38b4742bf018aca" category="paragraph">Pour un guide sur les versions ONTAP compatibles pour SnapMirror, consultez le<block ref="f75a4f2138bf92eb17ef87cad85a9e34" category="inline-link-rx"></block> .</block>
  <block id="36c5350a8474f2212fecc811eb77df57" category="list-text">Cliquez sur le système ONTAP source (sur site) et faites-le glisser vers la destination, sélectionnez Réplication &gt; Activer ou sélectionnez Réplication &gt; Menu &gt; Répliquer.</block>
  <block id="fd6d4e8848e8d4adc582f03e2f612053" category="paragraph"><block ref="fd6d4e8848e8d4adc582f03e2f612053" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8771a8fdaa9e84a7eef7540edcca5f40" category="paragraph">Sélectionnez Activer.</block>
  <block id="96450438aa2997b7c812909fa4df78c7" category="paragraph"><block ref="96450438aa2997b7c812909fa4df78c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6a8dc55f6f333187a100f6ed328bdc0" category="paragraph">Ou Options.</block>
  <block id="bf014988275a6a68a8aea85a9c506c90" category="paragraph"><block ref="bf014988275a6a68a8aea85a9c506c90" category="inline-image-macro-rx" type="image"></block></block>
  <block id="066bf779660ad446aa9b0d4021c4bf40" category="paragraph">Reproduire.</block>
  <block id="0826b46757f4933901b6c22820cdda65" category="paragraph"><block ref="0826b46757f4933901b6c22820cdda65" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a803b2a55429f981d25fbb8da94aef7" category="list-text">Si vous n’avez pas fait de glisser-déposer, choisissez le cluster de destination vers lequel répliquer.</block>
  <block id="3b8d04b611a7f56afdf4446966fd5145" category="paragraph"><block ref="3b8d04b611a7f56afdf4446966fd5145" category="inline-image-macro-rx" type="image"></block></block>
  <block id="761124dc5e0730086556a7d33d43418c" category="list-text">Choisissez le volume que vous souhaitez répliquer.  Nous avons répliqué les données et tous les volumes de journaux.</block>
  <block id="77ae956b66b100d51263a6259495dece" category="paragraph"><block ref="77ae956b66b100d51263a6259495dece" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bde4e8497f5ecaef866c0f049aada776" category="list-text">Choisissez le type de disque de destination et la politique de hiérarchisation.  Pour la reprise après sinistre, nous recommandons un SSD comme type de disque et pour maintenir la hiérarchisation des données.  La hiérarchisation des données hiérarchise les données en miroir dans un stockage d'objets à faible coût et vous permet d'économiser de l'argent sur les disques locaux.  Lorsque vous rompez la relation ou clonez le volume, les données utilisent le stockage local rapide.</block>
  <block id="5a1df9c1cf24f75033e265b1af247a15" category="paragraph"><block ref="5a1df9c1cf24f75033e265b1af247a15" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52f06f2f09c024b69ef3944a8cd78ad9" category="list-text">Sélectionnez le nom du volume de destination : nous avons choisi<block ref="47456946fa180c1578446a0fa28fca75" prefix=" " category="inline-code"></block> .</block>
  <block id="f487f19ba7c577c89543481c7c13ddc6" category="paragraph"><block ref="f487f19ba7c577c89543481c7c13ddc6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2882a0dbc1a6ad74198ac2cb6316870d" category="list-text">Sélectionnez le taux de transfert maximal pour la réplication.  Cela vous permet d'économiser de la bande passante si vous disposez d'une connexion à faible bande passante au cloud, comme un VPN.</block>
  <block id="a127301ec987f10a430a133488e8721b" category="paragraph"><block ref="a127301ec987f10a430a133488e8721b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f81dd66e0f0847d4cb1d2d12fadcc2f3" category="list-text">Définir la politique de réplication.  Nous avons choisi un miroir, qui prend l’ensemble de données le plus récent et le réplique dans le volume de destination.  Vous pouvez également choisir une politique différente en fonction de vos besoins.</block>
  <block id="89db4113eb86c6ebd683f41a52597113" category="paragraph"><block ref="89db4113eb86c6ebd683f41a52597113" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4db5384e8d04b01ff24a9178b3efaf6a" category="list-text">Choisissez le calendrier de déclenchement de la réplication.  NetApp recommande de définir une planification « quotidienne » pour le volume de données et une planification « horaire » pour les volumes de journaux, bien que cela puisse être modifié en fonction des besoins.</block>
  <block id="88bb947a9d39428caa209ad67ae72578" category="paragraph"><block ref="88bb947a9d39428caa209ad67ae72578" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02e3a269661e3c96a86a075872a1b269" category="list-text">Vérifiez les informations saisies, cliquez sur Accéder pour déclencher l’homologue du cluster et l’homologue SVM (s’il s’agit de votre première réplication entre les deux clusters), puis implémentez et initialisez la relation SnapMirror .</block>
  <block id="cd89073929b0f96bebb967e45c151c9c" category="paragraph"><block ref="cd89073929b0f96bebb967e45c151c9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c160366cab97ee8f1a35416d1294ddb" category="list-text">Continuez ce processus pour les volumes de données et les volumes de journaux.</block>
  <block id="64853c47f4f907262466c1e5ad154c8c" category="list-text">Pour vérifier toutes vos relations, accédez à l’onglet Réplication dans Cloud Manager.  Ici, vous pouvez gérer vos relations et vérifier leur statut.</block>
  <block id="84385394a29330eb8f3ddc777e052ead" category="paragraph"><block ref="84385394a29330eb8f3ddc777e052ead" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c88bec52f9e24233a78b6a90efa32ec6" category="list-text">Une fois tous les volumes répliqués, vous êtes dans un état stable et prêt à passer aux flux de travail de reprise après sinistre et de développement/test.</block>
  <block id="86fb3ee49ae2f8c0ee121c551a8f08c2" category="section-title">3. Déployer une instance de calcul EC2 pour la charge de travail de la base de données</block>
  <block id="91ba52045df2b9244f28270482f749c9" category="inline-link">Type d'instance EC2</block>
  <block id="33aaa72e62140af9cecb2c48f836b84b" category="paragraph">AWS a préconfiguré des instances de calcul EC2 pour diverses charges de travail.  Le choix du type d'instance détermine le nombre de cœurs de processeur, la capacité de mémoire, le type et la capacité de stockage, ainsi que les performances du réseau.  Pour les cas d'utilisation, à l'exception de la partition du système d'exploitation, le stockage principal pour exécuter la charge de travail de la base de données est alloué à partir de CVO ou du moteur de stockage FSx ONTAP .  Par conséquent, les principaux facteurs à prendre en compte sont le choix des cœurs de processeur, de la mémoire et du niveau de performance du réseau.  Les types d'instances AWS EC2 typiques peuvent être trouvés ici :<block ref="9334d5b9e602c5921b4f295f6041489b" category="inline-link-rx"></block> .</block>
  <block id="0af43c3d809d6e56a6a7a0d1ed039bbc" category="section-title">Dimensionnement de l'instance de calcul</block>
  <block id="0b6e77aedd6bd733f979314fef2a98d7" category="list-text">Sélectionnez le type d’instance approprié en fonction de la charge de travail requise.  Les facteurs à prendre en compte incluent le nombre de transactions commerciales à prendre en charge, le nombre d’utilisateurs simultanés, la taille de l’ensemble de données, etc.</block>
  <block id="ed4b68006572e288530a2152f7fbe5fe" category="list-text">Le déploiement de l'instance EC2 peut être lancé via le tableau de bord EC2.  Les procédures de déploiement exactes dépassent le cadre de cette solution.  Voir<block ref="3a5862dd365e3998013717e9cf118a9a" category="inline-link-rx"></block> pour plus de détails.</block>
  <block id="708991723f71fa1bd7b8081be442552c" category="section-title">Configuration d'instance Linux pour la charge de travail Oracle</block>
  <block id="5c17b7d75ff16063f772234e1ea8eeb1" category="paragraph">Cette section contient des étapes de configuration supplémentaires après le déploiement d'une instance EC2 Linux.</block>
  <block id="39d786446455bb2b3017b793805fc902" category="list-text">Ajoutez une instance de secours Oracle au serveur DNS pour la résolution de noms dans le domaine de gestion SnapCenter .</block>
  <block id="385a2a4f5305fe5ce8017f18fb7eabd4" category="list-text">Ajoutez un ID utilisateur de gestion Linux comme informations d’identification du système d’exploitation SnapCenter avec des autorisations sudo sans mot de passe.  Activez l’ID avec l’authentification par mot de passe SSH sur l’instance EC2.  (Par défaut, l'authentification par mot de passe SSH et sudo sans mot de passe sont désactivés sur les instances EC2.)</block>
  <block id="a2b4677d7a72840a78373c600441681a" category="list-text">Configurez l’installation d’Oracle pour qu’elle corresponde à l’installation Oracle sur site, comme les correctifs du système d’exploitation, les versions et correctifs Oracle, etc.</block>
  <block id="66b65364302a847feb2630bfd7974256" category="inline-link">Déploiement automatisé d'Oracle 19c</block>
  <block id="fa470598a181c1ed905bace243e46aa3" category="list-text">Les rôles d'automatisation de base de données NetApp Ansible peuvent être exploités pour configurer des instances EC2 pour les cas d'utilisation de développement/test de base de données et de reprise après sinistre.  Le code d'automatisation peut être téléchargé à partir du site GitHub public de NetApp :<block ref="437f8b44ff65600fb5697e9d369a0c54" category="inline-link-rx"></block> .  L’objectif est d’installer et de configurer une pile logicielle de base de données sur une instance EC2 pour correspondre aux configurations de système d’exploitation et de base de données sur site.</block>
  <block id="97875b4799caf4c948118e7b4776c9fb" category="section-title">Configuration de l'instance Windows pour la charge de travail SQL Server</block>
  <block id="c63751cfdcf8c0b4e26635a47c7f0d97" category="paragraph">Cette section répertorie les étapes de configuration supplémentaires après le déploiement initial d’une instance Windows EC2.</block>
  <block id="5f44e6a78874f9f49acae3caa71cc14d" category="list-text">Récupérez le mot de passe administrateur Windows pour vous connecter à une instance via RDP.</block>
  <block id="eabafc642b0901afd6622ab0f19d9ef0" category="list-text">Désactivez le pare-feu Windows, joignez l’hôte au domaine Windows SnapCenter et ajoutez l’instance au serveur DNS pour la résolution de noms.</block>
  <block id="08bf2d7ff3ac9ab37cfa8dc449b3c8da" category="list-text">Provisionnez un volume de journal SnapCenter pour stocker les fichiers journaux SQL Server.</block>
  <block id="f97ac9d1946c873247af15165559b47a" category="list-text">Configurez iSCSI sur l’hôte Windows pour monter le volume et formater le lecteur de disque.</block>
  <block id="6c2a9c611f48cae767f6ebea6fca0457" category="inline-link">Automatisation NetApp</block>
  <block id="6dea6226167bd38268de4c4d948d72de" category="list-text">Encore une fois, de nombreuses tâches précédentes peuvent être automatisées avec la solution d’automatisation NetApp pour SQL Server.  Consultez le site GitHub public d'automatisation NetApp pour connaître les rôles et solutions récemment publiés :<block ref="8cafb3a3b1222d318fcd262791229701" category="inline-link-rx"></block> .</block>
  <block id="a10998cc3e1dc7f2a013754d935c4f26" category="summary">L'outil NetApp SnapCenter utilise le contrôle d'accès basé sur les rôles (RBAC) pour gérer l'accès aux ressources utilisateur et les octrois d'autorisations, et l'installation de SnapCenter crée des rôles préremplis.  Vous pouvez également créer des rôles personnalisés en fonction de vos besoins ou de vos applications.</block>
  <block id="7e3b07f9add4cd78ade3c795a52dfad2" category="doc">Démarrer sur site</block>
  <block id="7146594a919f2b006b1b0911c7b6d7da" category="section-title">Sur place</block>
  <block id="d30e54646ba482722332f48ddc22bde5" category="section-title">1. Configurer l'utilisateur administrateur de la base de données dans SnapCenter</block>
  <block id="305421fd1d1b88bcd273862dd1e901c1" category="paragraph">Il est logique d'avoir un ID utilisateur administrateur dédié pour chaque plate-forme de base de données prise en charge par SnapCenter pour la sauvegarde, la restauration et/ou la reprise après sinistre de la base de données.  Vous pouvez également utiliser un identifiant unique pour gérer toutes les bases de données.  Dans nos cas de test et notre démonstration, nous avons créé un utilisateur administrateur dédié pour Oracle et SQL Server, respectivement.</block>
  <block id="27733e8f07432bb94ac7621b28d3b2c8" category="paragraph">Certaines ressources SnapCenter ne peuvent être provisionnées qu'avec le rôle SnapCenterAdmin.  Les ressources peuvent ensuite être attribuées à d’autres identifiants d’utilisateur pour y accéder.</block>
  <block id="64784aa3cec13e83af6e941f8489cf06" category="paragraph">Dans un environnement SnapCenter sur site préinstallé et configuré, les tâches suivantes ont peut-être déjà été effectuées.  Sinon, les étapes suivantes créent un utilisateur administrateur de base de données :</block>
  <block id="c8867eac833e7bb55520105b00139f1a" category="list-text">Ajoutez l’utilisateur administrateur à Windows Active Directory.</block>
  <block id="dd3e743eb52cbe7c2b6104573a9767e0" category="list-text">Connectez-vous à SnapCenter à l’aide d’un identifiant attribué avec le rôle SnapCenterAdmin.</block>
  <block id="a6bd76cb24271ba173d16f01bf4108d0" category="list-text">Accédez à l’onglet Accès sous Paramètres et Utilisateurs, puis cliquez sur Ajouter pour ajouter un nouvel utilisateur.  Le nouvel ID utilisateur est lié à l’utilisateur administrateur créé dans Windows Active Directory à l’étape 1. .  Attribuez le rôle approprié à l’utilisateur selon les besoins.  Affectez des ressources à l’utilisateur administrateur, le cas échéant.</block>
  <block id="d81202c1709c994bd492ddc9a55b821a" category="paragraph"><block ref="d81202c1709c994bd492ddc9a55b821a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5d2c51e83f473f137861a132554d1916" category="section-title">2. Conditions préalables à l'installation du plugin SnapCenter</block>
  <block id="7bd973d4d28d6fcf5f50379b33a49758" category="paragraph">SnapCenter effectue la sauvegarde, la restauration, le clonage et d'autres fonctions à l'aide d'un agent de plug-in exécuté sur les hôtes de base de données.  Il se connecte à l'hôte de la base de données et à la base de données via les informations d'identification configurées sous l'onglet Paramètres et informations d'identification pour l'installation du plug-in et d'autres fonctions de gestion.  Il existe des exigences de privilèges spécifiques en fonction du type d'hôte cible, tel que Linux ou Windows, ainsi que du type de base de données.</block>
  <block id="c342f214098114b90cb67297a2ef5dc3" category="paragraph">Les informations d'identification des hôtes de base de données doivent être configurées avant l'installation du plug-in SnapCenter .  En règle générale, vous souhaitez utiliser un compte d'utilisateur administrateur sur l'hôte de base de données comme informations d'identification de connexion hôte pour l'installation du plug-in.  Vous pouvez également accorder le même ID utilisateur pour l’accès à la base de données à l’aide de l’authentification basée sur le système d’exploitation.  D'autre part, vous pouvez également utiliser l'authentification de base de données avec différents ID utilisateur de base de données pour l'accès à la gestion de la base de données.  Si vous décidez d'utiliser l'authentification basée sur le système d'exploitation, l'ID utilisateur de l'administrateur du système d'exploitation doit avoir accès à la base de données.  Pour l’installation de SQL Server basée sur un domaine Windows, un compte d’administrateur de domaine peut être utilisé pour gérer tous les serveurs SQL au sein du domaine.</block>
  <block id="19df1192effefad83e57653fd3a47415" category="paragraph">Hôte Windows pour serveur SQL :</block>
  <block id="e1cc3ce53d7753e33588201db3d3b147" category="list-text">Si vous utilisez les informations d’identification Windows pour l’authentification, vous devez configurer vos informations d’identification avant d’installer les plug-ins.</block>
  <block id="a82f1290b72a26d654b93632a1ec50bb" category="list-text">Si vous utilisez une instance SQL Server pour l’authentification, vous devez ajouter les informations d’identification après l’installation des plug-ins.</block>
  <block id="63f74bef6650942c6795f96366a39e6a" category="list-text">Si vous avez activé l’authentification SQL lors de la configuration des informations d’identification, l’instance ou la base de données découverte est affichée avec une icône de cadenas rouge.  Si l'icône de verrouillage apparaît, vous devez spécifier les informations d'identification de l'instance ou de la base de données pour ajouter avec succès l'instance ou la base de données à un groupe de ressources.</block>
  <block id="b61dad3bbbf3270bf2dada5c2ac1f775" category="list-text">Vous devez attribuer les informations d'identification à un utilisateur RBAC sans accès administrateur système lorsque les conditions suivantes sont remplies :</block>
  <block id="34cefb5a19894e4f9b1b068544c0f591" category="list-text">Les informations d’identification sont attribuées à une instance SQL.</block>
  <block id="6707464a5871a6aa26dcf785bea4052c" category="list-text">L'instance ou l'hôte SQL est attribué à un utilisateur RBAC.</block>
  <block id="4bc8aac02ff00d874ad8b4ccd4d745ed" category="list-text">L'utilisateur administrateur de la base de données RBAC doit disposer à la fois des privilèges de groupe de ressources et de sauvegarde.</block>
  <block id="9198b455aa67840c7a69c7a54e94301a" category="paragraph">Hôte Unix pour Oracle :</block>
  <block id="71d53e54a48cfe7de69347bcd854ef30" category="list-text">Vous devez avoir activé la connexion SSH basée sur un mot de passe pour l'utilisateur root ou non root en modifiant sshd.conf et en redémarrant le service sshd.  L'authentification SSH basée sur un mot de passe sur l'instance AWS est désactivée par défaut.</block>
  <block id="efa873f0464a14d54b066f475ad74480" category="list-text">Configurez les privilèges sudo pour que l'utilisateur non root puisse installer et démarrer le processus du plugin.  Après l'installation du plugin, les processus s'exécutent en tant qu'utilisateur root effectif.</block>
  <block id="82a2174029175f8fbc3f52fea4e18c84" category="list-text">Créez des informations d’identification avec le mode d’authentification Linux pour l’utilisateur d’installation.</block>
  <block id="86b3cc44ebd8e0a9185e48c4f22e81e9" category="list-text">Vous devez installer Java 1.8.x (64 bits) sur votre hôte Linux.</block>
  <block id="c1e8851d10ecc615c47a47f704569d29" category="list-text">L'installation du plugin de base de données Oracle installe également le plugin SnapCenter pour Unix.</block>
  <block id="7efb27733d1fb21feae901a41580dced" category="section-title">3. Installation du plug-in hôte SnapCenter</block>
  <block id="37a5c714defad8175b81b4d49eb0544c" category="admonition">Avant de tenter d'installer les plug-ins SnapCenter sur des instances de serveur de base de données cloud, assurez-vous que toutes les étapes de configuration ont été effectuées comme indiqué dans la section cloud appropriée pour le déploiement de l'instance de calcul.</block>
  <block id="283aa502c28fe1c9ff8dadd1700955fc" category="paragraph">Les étapes suivantes illustrent comment un hôte de base de données est ajouté à SnapCenter pendant qu'un plug-in SnapCenter est installé sur l'hôte.  La procédure s’applique à l’ajout d’hôtes sur site et d’hôtes cloud.  La démonstration suivante ajoute un hôte Windows ou Linux résidant dans AWS.</block>
  <block id="81ed46777c39c0d0618953601572fc27" category="section-title">Configurer les paramètres globaux de SnapCenter VMware</block>
  <block id="2aa8a40dbbfb6b52621408c81aa5373c" category="paragraph">Accédez à Paramètres &gt; Paramètres globaux.  Sélectionnez « Les machines virtuelles ont des disques iSCSI directement connectés ou NFS pour tous les hôtes » sous Paramètres de l'hyperviseur et cliquez sur Mettre à jour.</block>
  <block id="630d2f2ed5a911f843220a33278bd218" category="paragraph"><block ref="630d2f2ed5a911f843220a33278bd218" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1f63a469619859e4cfab52fd63523aca" category="section-title">Ajout d'un hôte Windows et installation du plugin sur l'hôte</block>
  <block id="997da6deedab4436b559e3a8f7f05a2e" category="list-text">Connectez-vous à SnapCenter avec un identifiant utilisateur doté des privilèges SnapCenterAdmin.</block>
  <block id="97e7f600216a2e9ae18423777e11ad9c" category="list-text">Cliquez sur l’onglet Hôtes dans le menu de gauche, puis cliquez sur Ajouter pour ouvrir le flux de travail Ajouter un hôte.</block>
  <block id="35314bae57d7ff62ab36156211c1cc71" category="list-text">Choisissez Windows comme type d’hôte ; le nom d’hôte peut être un nom d’hôte ou une adresse IP.  Le nom d'hôte doit être résolu en l'adresse IP d'hôte correcte à partir de l'hôte SnapCenter .  Choisissez les informations d’identification de l’hôte créées à l’étape 2.  Choisissez Microsoft Windows et Microsoft SQL Server comme packages de plug-ins à installer.</block>
  <block id="43c147a0be605e0cc8ffded299f5c93f" category="paragraph"><block ref="43c147a0be605e0cc8ffded299f5c93f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31efcd689861354799bb539ab2571ebe" category="list-text">Une fois le plugin installé sur un hôte Windows, son état général est affiché comme « Configurer le répertoire des journaux ».</block>
  <block id="1a913d932659d3d35b4180759a773272" category="paragraph"><block ref="1a913d932659d3d35b4180759a773272" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d2aeaa4503c6d72513c0dbe0f205ee3b" category="list-text">Cliquez sur le nom d’hôte pour ouvrir la configuration du répertoire de journaux SQL Server.</block>
  <block id="4980596e0ec39fa5b3da0c04d170c15e" category="paragraph"><block ref="4980596e0ec39fa5b3da0c04d170c15e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8cb2b40646a77b4f044e7fa04ea20306" category="list-text">Cliquez sur « Configurer le répertoire des journaux » pour ouvrir « Configurer le plug-in pour SQL Server ».</block>
  <block id="3478df9e78b0299e0e178a5930a40303" category="paragraph"><block ref="3478df9e78b0299e0e178a5930a40303" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7143b5d162d385dfb1af07f61c59f65" category="list-text">Cliquez sur Parcourir pour découvrir le stockage NetApp afin qu'un répertoire de journaux puisse être défini ; SnapCenter utilise ce répertoire de journaux pour regrouper les fichiers journaux des transactions du serveur SQL.  Cliquez ensuite sur Enregistrer.</block>
  <block id="5c0d12eb9a2ddfa9290c6622825ca9c2" category="paragraph"><block ref="5c0d12eb9a2ddfa9290c6622825ca9c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0d88588bdb07dd412a4ba1d08348b29" category="admonition">Pour que le stockage NetApp provisionné sur un hôte de base de données soit découvert, le stockage (sur site ou CVO) doit être ajouté à SnapCenter, comme illustré à l'étape 6 pour CVO à titre d'exemple.</block>
  <block id="d744af12906d55ab51aa932b3ffcd121" category="list-text">Une fois le répertoire du journal configuré, l'état général du plug-in hôte Windows est modifié sur En cours d'exécution.</block>
  <block id="938b6bc2586cc7e65b6bfe8e127627c9" category="paragraph"><block ref="938b6bc2586cc7e65b6bfe8e127627c9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f41517f2e270a138f4ae92988a4cbdd2" category="list-text">Pour affecter l'hôte à l'ID utilisateur de gestion de base de données, accédez à l'onglet Accès sous Paramètres et Utilisateurs, cliquez sur l'ID utilisateur de gestion de base de données (dans notre cas, le sqldba auquel l'hôte doit être affecté) et cliquez sur Enregistrer pour terminer l'affectation des ressources de l'hôte.</block>
  <block id="f5992d2f2d3cd160bef3a5808ea9c7a8" category="paragraph"><block ref="f5992d2f2d3cd160bef3a5808ea9c7a8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6365b1367d600687545af5ce78d7db70" category="paragraph"><block ref="6365b1367d600687545af5ce78d7db70" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2fe19c733a6342990513e02264db163" category="section-title">Ajout d'un hôte Unix et installation du plugin sur l'hôte</block>
  <block id="6a0f36be9f208d20c3c1145c3a09b876" category="list-text">Cliquez sur l’onglet Hôtes dans le menu de gauche, puis cliquez sur Ajouter pour ouvrir le flux de travail Ajouter un hôte.</block>
  <block id="dd8c6d773e31c4254eb58b4b5e2ae1be" category="list-text">Choisissez Linux comme type d’hôte.  Le nom d'hôte peut être soit le nom d'hôte, soit une adresse IP.  Cependant, le nom d'hôte doit être résolu pour corriger l'adresse IP de l'hôte SnapCenter .  Choisissez les informations d’identification de l’hôte créées à l’étape 2.  Les informations d'identification de l'hôte nécessitent des privilèges sudo.  Cochez Oracle Database comme plug-in à installer, qui installe les plug-ins hôtes Oracle et Linux.</block>
  <block id="80d821bdc7cae847f4be7da623786019" category="paragraph"><block ref="80d821bdc7cae847f4be7da623786019" category="inline-image-macro-rx" type="image"></block></block>
  <block id="711730391561a228d41f7fede13ca6e8" category="list-text">Cliquez sur Plus d'options et sélectionnez « Ignorer les vérifications de préinstallation ».  Vous êtes invité à confirmer l’omission de la vérification de préinstallation.  Cliquez sur Oui, puis sur Enregistrer.</block>
  <block id="c9d2490259e25f3e50c0258ad77bad7c" category="paragraph"><block ref="c9d2490259e25f3e50c0258ad77bad7c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e095a093138c6b1968d313d5f799255a" category="list-text">Cliquez sur Soumettre pour démarrer l’installation du plugin.  Vous êtes invité à confirmer l'empreinte digitale comme indiqué ci-dessous.</block>
  <block id="291f6500b7d39224bfa92d457c248ccc" category="paragraph"><block ref="291f6500b7d39224bfa92d457c248ccc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53dcda6f2c03efbe73ae5eb311852a8d" category="list-text">SnapCenter effectue la validation et l'enregistrement de l'hôte, puis le plug-in est installé sur l'hôte Linux.  Le statut est passé de Installation du plugin à En cours d'exécution.</block>
  <block id="f81df29b374ae9743afe1d3716f4dc6b" category="paragraph"><block ref="f81df29b374ae9743afe1d3716f4dc6b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="33ea9d9313933c68d640ebb655ec43dc" category="list-text">Affectez l'hôte nouvellement ajouté à l'ID utilisateur de gestion de base de données approprié (dans notre cas, oradba).</block>
  <block id="b1dbe45375d0b7d2baf48b5aed7e8b63" category="paragraph"><block ref="b1dbe45375d0b7d2baf48b5aed7e8b63" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af252eb4b41e7d4cf60750cceafa2713" category="paragraph"><block ref="af252eb4b41e7d4cf60750cceafa2713" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2b4c839521fd41e845e6e8c3158b809b" category="section-title">4. Découverte de ressources de base de données</block>
  <block id="45e46a9524f23884445bf542bf464b93" category="paragraph">Avec une installation réussie du plugin, les ressources de la base de données sur l'hôte peuvent être immédiatement découvertes.  Cliquez sur l’onglet Ressources dans le menu de gauche.  Selon le type de plate-forme de base de données, un certain nombre de vues sont disponibles, telles que la base de données, le groupe de ressources, etc.  Vous devrez peut-être cliquer sur l’onglet Actualiser les ressources si les ressources sur l’hôte ne sont pas découvertes et affichées.</block>
  <block id="7b7e19406faf494c29928bb6d5e54d67" category="paragraph"><block ref="7b7e19406faf494c29928bb6d5e54d67" category="inline-image-macro-rx" type="image"></block></block>
  <block id="66789731e61fd3d4b6024e5fcb0945e1" category="paragraph">Lorsque la base de données est initialement découverte, l'état général est affiché comme « Non protégé ».  La capture d'écran précédente montre une base de données Oracle non encore protégée par une politique de sauvegarde.</block>
  <block id="68148a1249ca9110d03c698ae152932a" category="paragraph">Lorsqu'une configuration ou une politique de sauvegarde est configurée et qu'une sauvegarde a été exécutée, l'état général de la base de données affiche l'état de la sauvegarde comme « Sauvegarde réussie » et l'horodatage de la dernière sauvegarde.  La capture d’écran suivante montre l’état de sauvegarde d’une base de données utilisateur SQL Server.</block>
  <block id="1089618247726f9460b3a543d1a6c812" category="paragraph"><block ref="1089618247726f9460b3a543d1a6c812" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9c9616324bc00808729d46fba94ad75" category="paragraph">Si les informations d'identification d'accès à la base de données ne sont pas correctement configurées, un bouton de verrouillage rouge indique que la base de données n'est pas accessible.  Par exemple, si les informations d’identification Windows ne disposent pas d’un accès administrateur système à une instance de base de données, les informations d’identification de la base de données doivent être reconfigurées pour déverrouiller le verrou rouge.</block>
  <block id="262b33baf188a7ac429e46f8ed441b1f" category="paragraph"><block ref="262b33baf188a7ac429e46f8ed441b1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e12fdcefc6e3b3694659412d66fd46b0" category="paragraph"><block ref="e12fdcefc6e3b3694659412d66fd46b0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0024854a814ddd68bcf3907357c46bc2" category="paragraph">Une fois les informations d’identification appropriées configurées au niveau Windows ou au niveau de la base de données, le cadenas rouge disparaît et les informations de type SQL Server sont collectées et examinées.</block>
  <block id="8c5ca337f7fe77045b6b45a8d2362283" category="paragraph"><block ref="8c5ca337f7fe77045b6b45a8d2362283" category="inline-image-macro-rx" type="image"></block></block>
  <block id="864f4d2595d06e5e8b46b08edb3899e6" category="section-title">5. Configurer l'appairage des clusters de stockage et la réplication des volumes de base de données</block>
  <block id="785196ec55a9e713ad1a4f962baa31dd" category="paragraph">Pour protéger vos données de base de données sur site en utilisant un cloud public comme destination cible, les volumes de base de données de cluster ONTAP sur site sont répliqués sur le CVO cloud à l'aide de la technologie NetApp SnapMirror .  Les volumes cibles répliqués peuvent ensuite être clonés pour DEV/OPS ou la reprise après sinistre.  Les étapes de haut niveau suivantes vous permettent de configurer l’appairage de cluster et la réplication des volumes de base de données.</block>
  <block id="1f1927293f04e4cf0fc91a7e389612eb" category="list-text">Configurez les LIF intercluster pour l’appairage de cluster sur le cluster local et l’instance de cluster CVO.  Cette étape peut être réalisée avec ONTAP System Manager.  Un déploiement CVO par défaut a des LIF inter-cluster configurés automatiquement.</block>
  <block id="9547803d96e78bbc38305e6300f7a800" category="paragraph">Cluster sur site :</block>
  <block id="28eb75cb56ac4175ecce720173939cac" category="paragraph"><block ref="28eb75cb56ac4175ecce720173939cac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3c5b3e342f57b792e2263e69e41677a" category="paragraph">Cluster CVO cible :</block>
  <block id="47606021eb1d565acf6479f493e74c8f" category="paragraph"><block ref="47606021eb1d565acf6479f493e74c8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="79d372933b80ed2ca8ca14d8458828af" category="inline-link-macro">Premiers pas - Cloud public AWS</block>
  <block id="0ef3d64368b20c785b5a1ab6823ac793" category="list-text">Une fois les LIF intercluster configurés, l'appairage de cluster et la réplication de volume peuvent être configurés à l'aide de la fonction glisser-déposer dans NetApp Cloud Manager.  Voir<block ref="f96690c3cd38947f0a81f723268654a2" category="inline-link-macro-rx"></block> pour plus de détails.</block>
  <block id="d1567c6c8f0752cbc7deb6d9f639ba12" category="paragraph">Alternativement, l'appairage de cluster et la réplication de volume de base de données peuvent être effectués à l'aide d' ONTAP System Manager comme suit :</block>
  <block id="494c0b53ff31502c0c1105881e2e389a" category="list-text">Connectez-vous à ONTAP System Manager.  Accédez à Cluster &gt; Paramètres et cliquez sur Cluster homologue pour configurer l’appairage de cluster avec l’instance CVO dans le cloud.</block>
  <block id="c316f4b63a7964f3f7835cdfe46965de" category="paragraph"><block ref="c316f4b63a7964f3f7835cdfe46965de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="54de72c782c4b4ccc7f2914a858d5356" category="list-text">Accédez à l’onglet Volumes.  Sélectionnez le volume de base de données à répliquer et cliquez sur Protéger.</block>
  <block id="a620ebb290809125fe594a9be0359963" category="paragraph"><block ref="a620ebb290809125fe594a9be0359963" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0aace069b478e8b2b0753f855f2be94" category="list-text">Définissez la politique de protection sur Asynchrone.  Sélectionnez le cluster de destination et le SVM de stockage.</block>
  <block id="4ef6d9836c61eceec7758ddd5c16188f" category="paragraph"><block ref="4ef6d9836c61eceec7758ddd5c16188f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a2a64fe8af0790615a9344069794e2e" category="list-text">Validez que le volume est synchronisé entre la source et la cible et que la relation de réplication est saine.</block>
  <block id="65e7e4f999fa65ed9a789399a590bf72" category="paragraph"><block ref="65e7e4f999fa65ed9a789399a590bf72" category="inline-image-macro-rx" type="image"></block></block>
  <block id="36097c4ad6058de288de8992f89adbb8" category="section-title">6. Ajouter un stockage de base de données CVO SVM à SnapCenter</block>
  <block id="ebcf85d67af3f672ade8bd7b224a8a2b" category="list-text">Cliquez sur l'onglet Système de stockage dans le menu, puis cliquez sur Nouveau pour ajouter une SVM de stockage CVO qui héberge des volumes de base de données cibles répliqués à SnapCenter.  Saisissez l’adresse IP de gestion du cluster dans le champ Système de stockage, puis saisissez le nom d’utilisateur et le mot de passe appropriés.</block>
  <block id="ae9439d1532092362c8f3b8303476016" category="paragraph"><block ref="ae9439d1532092362c8f3b8303476016" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a27406b63f99780f65572b95f2f72348" category="list-text">Cliquez sur Plus d’options pour ouvrir des options de configuration de stockage supplémentaires.  Dans le champ Plateforme, sélectionnez Cloud Volumes ONTAP, cochez Secondaire, puis cliquez sur Enregistrer.</block>
  <block id="b5399383fbd5f0b8ac64078cd608ed01" category="paragraph"><block ref="b5399383fbd5f0b8ac64078cd608ed01" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b474a0a2de59b8e3013112beb48af7b7" category="list-text">Affectez les systèmes de stockage aux ID utilisateur de gestion de base de données SnapCenter comme indiqué dans<block ref="8a46cbc3838a53b9205abb25a577bbc8" category="inline-xref-macro-rx"></block> .</block>
  <block id="46ffdf610903ff8e06610b7bc5f9189f" category="paragraph"><block ref="46ffdf610903ff8e06610b7bc5f9189f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39ec95149453e7bb6b73f1c03228e85c" category="section-title">7. Configurer la politique de sauvegarde de la base de données dans SnapCenter</block>
  <block id="37d9f685e375f77a2231e13c88ccc606" category="paragraph">Les procédures suivantes montrent comment créer une politique de sauvegarde complète de base de données ou de fichier journal.  La politique peut ensuite être mise en œuvre pour protéger les ressources des bases de données.  L'objectif de point de récupération (RPO) ou l'objectif de temps de récupération (RTO) dicte la fréquence des sauvegardes de la base de données et/ou du journal.</block>
  <block id="739184f368f13e142dd034fcdc853594" category="section-title">Créer une politique de sauvegarde complète de la base de données pour Oracle</block>
  <block id="94b39254a7aba068b68fec64f6331b0b" category="list-text">Connectez-vous à SnapCenter en tant qu’ID utilisateur de gestion de base de données, cliquez sur Paramètres, puis sur Politiques.</block>
  <block id="597029eb56a33e7df07c2acfef695a2e" category="paragraph"><block ref="597029eb56a33e7df07c2acfef695a2e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a1d144b8c78fc8541b57aa9f0ca863a6" category="list-text">Cliquez sur Nouveau pour lancer un nouveau flux de travail de création de politique de sauvegarde ou choisissez une politique existante à modifier.</block>
  <block id="89baf6cf5c890597c9ffff0454f8cc23" category="paragraph"><block ref="89baf6cf5c890597c9ffff0454f8cc23" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8c9dac29c26006ce512153a9bdabcc95" category="list-text">Sélectionnez le type de sauvegarde et la fréquence de planification.</block>
  <block id="e606119e88a509a0eba656724e81371b" category="paragraph"><block ref="e606119e88a509a0eba656724e81371b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4df94ad44381c9fb7fe2f8d01dcd16d8" category="list-text">Définissez le paramètre de conservation des sauvegardes.  Cela définit le nombre de copies de sauvegarde complètes de la base de données à conserver.</block>
  <block id="793d3dfb27d9493b47c700cf38d91870" category="paragraph"><block ref="793d3dfb27d9493b47c700cf38d91870" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fd634020906b35a41e0ba633eddeb96a" category="list-text">Sélectionnez les options de réplication secondaire pour pousser les sauvegardes de snapshots principaux locaux à répliquer vers un emplacement secondaire dans le cloud.</block>
  <block id="b671175e47abd949c3f803072031d77f" category="paragraph"><block ref="b671175e47abd949c3f803072031d77f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2e3af55a4355bc46e91425ac5701174" category="list-text">Spécifiez tout script facultatif à exécuter avant et après une exécution de sauvegarde.</block>
  <block id="8229fb3c24d23e3eadfd3f10cc3c5afe" category="paragraph"><block ref="8229fb3c24d23e3eadfd3f10cc3c5afe" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd009bc210e371d36d466b592179e883" category="list-text">Exécutez la vérification de sauvegarde si vous le souhaitez.</block>
  <block id="57bf5cb4144425b86f38426b7e9400ed" category="paragraph"><block ref="57bf5cb4144425b86f38426b7e9400ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dba73d3ec3f929ff18665087076291ac" category="list-text">Résumé.</block>
  <block id="833f169640e7aae8d9c8237462dbae9e" category="paragraph"><block ref="833f169640e7aae8d9c8237462dbae9e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3594f2789840eda9633139ca530384a" category="section-title">Créer une politique de sauvegarde du journal de base de données pour Oracle</block>
  <block id="be763ec2afcb0358426bb0abcae4dd60" category="list-text">Connectez-vous à SnapCenter avec un ID utilisateur de gestion de base de données, cliquez sur Paramètres, puis sur Politiques.</block>
  <block id="b0e663a3d363868d6c71ab9ec37940c6" category="list-text">Cliquez sur Nouveau pour lancer un nouveau flux de travail de création de politique de sauvegarde ou choisissez une politique existante à modifier.</block>
  <block id="6e6bc8382b822de936fe02f51082b927" category="paragraph"><block ref="6e6bc8382b822de936fe02f51082b927" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e82bddb75849367c6b805cf5828e7dc" category="paragraph"><block ref="6e82bddb75849367c6b805cf5828e7dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="59480846ec23463481d361bf3026235e" category="list-text">Définissez la période de conservation du journal.</block>
  <block id="89e49e7adbb1d972bbf6798f79893ae0" category="paragraph"><block ref="89e49e7adbb1d972bbf6798f79893ae0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04ba33c0584145006ca637b4556aa919" category="list-text">Activer la réplication vers un emplacement secondaire dans le cloud public.</block>
  <block id="b79a4461ef310e85fddb55227f4f3555" category="paragraph"><block ref="b79a4461ef310e85fddb55227f4f3555" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ab9406cbd3a8f082700523fdac8a0c1d" category="list-text">Spécifiez les scripts facultatifs à exécuter avant et après la sauvegarde du journal.</block>
  <block id="e6e3ef8e512c79dadb11169085c93c4f" category="paragraph"><block ref="e6e3ef8e512c79dadb11169085c93c4f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f4b55e05a9ae89fe14377b98bc8a8166" category="list-text">Spécifiez tous les scripts de vérification de sauvegarde.</block>
  <block id="5aaccd70e671edd43b639ae58f22b475" category="paragraph"><block ref="5aaccd70e671edd43b639ae58f22b475" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1192400fde3ce64af2088554b7a471ec" category="paragraph"><block ref="1192400fde3ce64af2088554b7a471ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe147647227dfec6603bc76daf30463e" category="section-title">Créer une politique de sauvegarde complète de la base de données pour SQL</block>
  <block id="b652338a3c504c4175444b89658c7fd5" category="paragraph"><block ref="b652338a3c504c4175444b89658c7fd5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b270f32bae28c6a5f4154dd957765b80" category="paragraph"><block ref="b270f32bae28c6a5f4154dd957765b80" category="inline-image-macro-rx" type="image"></block></block>
  <block id="30637cfd5a5cc820d6bc4116fccfff7e" category="list-text">Définissez l'option de sauvegarde et la fréquence de planification.  Pour SQL Server configuré avec un groupe de disponibilité, une réplique de sauvegarde préférée peut être définie.</block>
  <block id="9840dcea2084bc211485cc5880cf05d3" category="paragraph"><block ref="9840dcea2084bc211485cc5880cf05d3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f74ada8393aecd40e892de04b5b30f8" category="list-text">Définissez la période de conservation des sauvegardes.</block>
  <block id="ddce79f0bfda935c386e6b2bf81fc461" category="paragraph"><block ref="ddce79f0bfda935c386e6b2bf81fc461" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f1a67a80a7ad9403781b210983ea778d" category="list-text">Activer la réplication de la copie de sauvegarde vers un emplacement secondaire dans le cloud.</block>
  <block id="8cac64b8ffdc5a8d8504720bab0fd0ce" category="paragraph"><block ref="8cac64b8ffdc5a8d8504720bab0fd0ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="17b7b360fc2163537795a34cd8d14d6a" category="list-text">Spécifiez les scripts facultatifs à exécuter avant ou après une tâche de sauvegarde.</block>
  <block id="b057844f0ff6b9888172c07f396657c0" category="paragraph"><block ref="b057844f0ff6b9888172c07f396657c0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb836d972496d965dd2170ed1480917b" category="list-text">Spécifiez les options pour exécuter la vérification de sauvegarde.</block>
  <block id="786513f2732486a860f0d19c24ed3c3c" category="paragraph"><block ref="786513f2732486a860f0d19c24ed3c3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca4323b2096ce652ce339ab2102fb2f8" category="paragraph"><block ref="ca4323b2096ce652ce339ab2102fb2f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02b67ed2348002e614d5a35151577632" category="section-title">Créez une politique de sauvegarde du journal de base de données pour SQL.</block>
  <block id="b405195aec7cf62440373fcdc490dec6" category="list-text">Connectez-vous à SnapCenter avec un ID utilisateur de gestion de base de données, cliquez sur Paramètres &gt; Politiques, puis sur Nouveau pour lancer un nouveau flux de travail de création de politique.</block>
  <block id="2bb934d5ab773065a4fe72a2bcd8485a" category="paragraph"><block ref="2bb934d5ab773065a4fe72a2bcd8485a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="acdaf46fc90606d68f3f2b52cca5e95b" category="list-text">Définissez l’option de sauvegarde du journal et la fréquence de planification.  Pour SQL Server configuré avec un groupe de disponibilité, une réplique de sauvegarde préférée peut être définie.</block>
  <block id="0c2b36e2aaf86977df623ddabd7dfac5" category="paragraph"><block ref="0c2b36e2aaf86977df623ddabd7dfac5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da00d968a5d810d846ddc815b8f405a4" category="list-text">La politique de sauvegarde des données du serveur SQL définit la conservation des sauvegardes de journaux ; acceptez les valeurs par défaut ici.</block>
  <block id="70fc1fbbf6810bb237bf48905035ba75" category="paragraph"><block ref="70fc1fbbf6810bb237bf48905035ba75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d04d89062d3ed67bbc9c4aee35bdba7f" category="list-text">Activer la réplication de sauvegarde du journal vers le secondaire dans le cloud.</block>
  <block id="9431d781d41c5c49274ca6ab4086fdaa" category="paragraph"><block ref="9431d781d41c5c49274ca6ab4086fdaa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1bd8b4104fa57ba3111251fa36502eb5" category="paragraph"><block ref="1bd8b4104fa57ba3111251fa36502eb5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3162e10ba6e069802f0785d7d4924827" category="paragraph"><block ref="3162e10ba6e069802f0785d7d4924827" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f28f6c36698b3a4cd47cbeead15eddf2" category="section-title">8. Mettre en œuvre une politique de sauvegarde pour protéger la base de données</block>
  <block id="37b889cc1b57f66ae9018b6eacb891ba" category="paragraph">SnapCenter utilise un groupe de ressources pour sauvegarder une base de données dans un regroupement logique de ressources de base de données, comme plusieurs bases de données hébergées sur un serveur, une base de données partageant les mêmes volumes de stockage, plusieurs bases de données prenant en charge une application métier, etc.  La protection d’une seule base de données crée son propre groupe de ressources.  Les procédures suivantes montrent comment mettre en œuvre une politique de sauvegarde créée dans la section 7 pour protéger les bases de données Oracle et SQL Server.</block>
  <block id="0603dbbe978e4cd3ee1c45ba96a1aa6f" category="section-title">Créer un groupe de ressources pour la sauvegarde complète d'Oracle</block>
  <block id="5f4e02f34bcd7993867c4b3297a171d0" category="list-text">Connectez-vous à SnapCenter avec un ID utilisateur de gestion de base de données et accédez à l’onglet Ressources.  Dans la liste déroulante Affichage, choisissez Base de données ou Groupe de ressources pour lancer le flux de travail de création du groupe de ressources.</block>
  <block id="d9af3d5b820b53bef952a82d15e6d0e9" category="paragraph"><block ref="d9af3d5b820b53bef952a82d15e6d0e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="98dcf41bcde9cb6c4235a6a7dfe69346" category="list-text">Fournissez un nom et des balises pour le groupe de ressources.  Vous pouvez définir un format de dénomination pour la copie instantanée et contourner la destination du journal d'archive redondant si elle est configurée.</block>
  <block id="20d167c24bfbb26f3e843648a56367bf" category="paragraph"><block ref="20d167c24bfbb26f3e843648a56367bf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0cd85a82e6f02b779006b158b9c5f828" category="list-text">Ajoutez des ressources de base de données au groupe de ressources.</block>
  <block id="38cc48f8929dfd1d38f1f8f4a0bca497" category="paragraph"><block ref="38cc48f8929dfd1d38f1f8f4a0bca497" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cee52cb6702e7590fbef45eccc8fb2df" category="list-text">Sélectionnez une politique de sauvegarde complète créée dans la section 7 dans la liste déroulante.</block>
  <block id="9732e70a09e06a4ae9b606ba59db0561" category="paragraph"><block ref="9732e70a09e06a4ae9b606ba59db0561" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8fe872cd84ea2e9051770379e63f9caf" category="list-text">Cliquez sur le signe (+) pour configurer la planification de sauvegarde souhaitée.</block>
  <block id="c7e7766da7dbdb0a18d97ecdf1996d22" category="paragraph"><block ref="c7e7766da7dbdb0a18d97ecdf1996d22" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdc27a4c5d48dbfc04f81ecac85acd64" category="list-text">Cliquez sur Charger les localisateurs pour charger le volume source et de destination.</block>
  <block id="83bfeb05c82d9fe2a1a13c23121cfad5" category="paragraph"><block ref="83bfeb05c82d9fe2a1a13c23121cfad5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a752afaf144d06159ca3eec8bb23455f" category="list-text">Configurez le serveur SMTP pour la notification par e-mail si vous le souhaitez.</block>
  <block id="174a808cd5a71e9c98a86d9c3f0399d5" category="paragraph"><block ref="174a808cd5a71e9c98a86d9c3f0399d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ee83a4b079ebbdc3a6096475af3a8edc" category="paragraph"><block ref="ee83a4b079ebbdc3a6096475af3a8edc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f7192b9766e6f09c261f3ca3d3bddc8" category="section-title">Créer un groupe de ressources pour la sauvegarde des journaux d'Oracle</block>
  <block id="2710a21662d5ec623abb0f7692600526" category="paragraph"><block ref="2710a21662d5ec623abb0f7692600526" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd7919cfbed777253c203996449d8258" category="paragraph"><block ref="bd7919cfbed777253c203996449d8258" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d57fffdfa4c7e51147b5cb012bf531f9" category="paragraph"><block ref="d57fffdfa4c7e51147b5cb012bf531f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03955b73285eab0d68e90c627da9726d" category="list-text">Sélectionnez une politique de sauvegarde de journal créée dans la section 7 dans la liste déroulante.</block>
  <block id="4555180b9d93bbb9ca93ec97c28d0af5" category="paragraph"><block ref="4555180b9d93bbb9ca93ec97c28d0af5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="88c73129e9a418955658ce5c48d9d8b5" category="list-text">Cliquez sur le signe (+) pour configurer la planification de sauvegarde souhaitée.</block>
  <block id="156aa910d609c0938379b7d442d924bc" category="paragraph"><block ref="156aa910d609c0938379b7d442d924bc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eacfd6f10777b8dfb41199e4d4dfa915" category="list-text">Si la vérification de sauvegarde est configurée, elle s'affiche ici.</block>
  <block id="63752bb01664701cab74a20166d29b1f" category="paragraph"><block ref="63752bb01664701cab74a20166d29b1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a27fac4b1d49d5468930a56c3a6de56" category="list-text">Configurez un serveur SMTP pour la notification par e-mail si vous le souhaitez.</block>
  <block id="9edc30e4946421a9f350df9de13bcd5c" category="paragraph"><block ref="9edc30e4946421a9f350df9de13bcd5c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22784afa00b680fac09086672674be63" category="paragraph"><block ref="22784afa00b680fac09086672674be63" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf688c7a95f421447e84a47fd03f3aa2" category="section-title">Créer un groupe de ressources pour la sauvegarde complète de SQL Server</block>
  <block id="d08ef097ee33c4a3506183adeb51c5e7" category="list-text">Connectez-vous à SnapCenter avec un ID utilisateur de gestion de base de données et accédez à l’onglet Ressources.  Dans la liste déroulante Affichage, choisissez une base de données ou un groupe de ressources pour lancer le flux de travail de création du groupe de ressources.  Fournissez un nom et des balises pour le groupe de ressources.  Vous pouvez définir un format de dénomination pour la copie Snapshot.</block>
  <block id="27c68a455881c491f8014eea4dba4a09" category="paragraph"><block ref="27c68a455881c491f8014eea4dba4a09" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec1ace5324d60cb3faa1863efd675149" category="list-text">Sélectionnez les ressources de base de données à sauvegarder.</block>
  <block id="de605e47e64882cd1472999214eeb660" category="paragraph"><block ref="de605e47e64882cd1472999214eeb660" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2fc1974f486effa4a60bf216e63a88d5" category="list-text">Sélectionnez une politique de sauvegarde SQL complète créée dans la section 7.</block>
  <block id="6a35fb4c619e8438042022bd4f09fc35" category="paragraph"><block ref="6a35fb4c619e8438042022bd4f09fc35" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12b70beeb570488ba753a620378cacd8" category="list-text">Ajoutez le timing exact des sauvegardes ainsi que la fréquence.</block>
  <block id="029f37d34402b41abc57c0b2c46385be" category="paragraph"><block ref="029f37d34402b41abc57c0b2c46385be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49252579bd8140847f4bbac20ef89b07" category="list-text">Choisissez le serveur de vérification pour la sauvegarde sur le serveur secondaire si la vérification de la sauvegarde doit être effectuée.  Cliquez sur Charger le localisateur pour renseigner l’emplacement de stockage secondaire.</block>
  <block id="64138f207c14d41c50db1da8ac387a29" category="paragraph"><block ref="64138f207c14d41c50db1da8ac387a29" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97b1053da205a969928291f595ac1687" category="paragraph"><block ref="97b1053da205a969928291f595ac1687" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3526098f9d53a45dddc103ba9614f316" category="paragraph"><block ref="3526098f9d53a45dddc103ba9614f316" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4dd921984d3a8a89e7df5c97875b923" category="section-title">Créer un groupe de ressources pour la sauvegarde des journaux de SQL Server</block>
  <block id="4e94ca9b995e68691b4e67b82b9f5bce" category="list-text">Connectez-vous à SnapCenter avec un ID utilisateur de gestion de base de données et accédez à l’onglet Ressources.  Dans la liste déroulante Affichage, choisissez une base de données ou un groupe de ressources pour lancer le flux de travail de création du groupe de ressources.  Fournissez le nom et les balises du groupe de ressources.  Vous pouvez définir un format de dénomination pour la copie Snapshot.</block>
  <block id="90cf6ccd30fd4717588b3b48e3a64efc" category="paragraph"><block ref="90cf6ccd30fd4717588b3b48e3a64efc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="01713bba13042fa78b83b68ab4ef7f3a" category="paragraph"><block ref="01713bba13042fa78b83b68ab4ef7f3a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23e15d7c127e66b1da1d72072a29e9eb" category="list-text">Sélectionnez une politique de sauvegarde du journal SQL créée dans la section 7.</block>
  <block id="946640462547395bbd0efaf4bb06baf8" category="paragraph"><block ref="946640462547395bbd0efaf4bb06baf8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7e7cac98c16b45d7e4ebec8786b8fda1" category="list-text">Ajoutez le timing exact de la sauvegarde ainsi que la fréquence.</block>
  <block id="64b394b18ab2dd833920d12e77f7d11a" category="paragraph"><block ref="64b394b18ab2dd833920d12e77f7d11a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="68398b6746dde91649e96505d97acc40" category="list-text">Choisissez le serveur de vérification pour la sauvegarde sur le serveur secondaire si la vérification de la sauvegarde doit être effectuée.  Cliquez sur le localisateur de charge pour renseigner l’emplacement de stockage secondaire.</block>
  <block id="d2a868ac351c10befe825800013e5d1f" category="paragraph"><block ref="d2a868ac351c10befe825800013e5d1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3f05f6b76364c6ce8ded407abcad74cc" category="paragraph"><block ref="3f05f6b76364c6ce8ded407abcad74cc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39d0db5f03e8e439a895cffab82b9cfb" category="paragraph"><block ref="39d0db5f03e8e439a895cffab82b9cfb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9c72629a46c2e88cf7f6a012167bb16" category="section-title">9. Valider la sauvegarde</block>
  <block id="d1c55c296cbdaa8d88eda765a6158b62" category="paragraph">Une fois les groupes de ressources de sauvegarde de base de données créés pour protéger les ressources de base de données, les tâches de sauvegarde s'exécutent selon la planification prédéfinie.  Vérifiez l’état d’exécution du travail sous l’onglet Surveiller.</block>
  <block id="ecb0d5aeea0387706628bbd3df34067c" category="paragraph"><block ref="ecb0d5aeea0387706628bbd3df34067c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57882e224a8cbe8f694da9b1d8fa503e" category="paragraph">Accédez à l’onglet Ressources, cliquez sur le nom de la base de données pour afficher les détails de la sauvegarde de la base de données et basculez entre les copies locales et les copies miroir pour vérifier que les sauvegardes Snapshot sont répliquées vers un emplacement secondaire dans le cloud public.</block>
  <block id="cfd69a51fa8231de8ad8980aef5355f3" category="paragraph"><block ref="cfd69a51fa8231de8ad8980aef5355f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28268d417882b5cf7a3d3ee3a15834c8" category="paragraph">À ce stade, les copies de sauvegarde de la base de données dans le cloud sont prêtes à être clonées pour exécuter des processus de développement/test ou pour la reprise après sinistre en cas de panne principale.</block>
  <block id="d83342bb55cac062a4841a3b7a62a7fd" category="summary">Cette section fournit un résumé des tâches qui doivent être accomplies pour répondre aux exigences préalables décrites dans la section précédente.  La section suivante fournit une liste de tâches de haut niveau pour les opérations sur site et dans le cloud public.  Les processus et procédures détaillés sont accessibles en cliquant sur les liens correspondants.</block>
  <block id="21475c5fe4cf73cfbf7756ed71e43375" category="doc">Présentation de la mise en route</block>
  <block id="f0e69ccbb7ad96f546f7924206944bfa" category="section-title">Sur site</block>
  <block id="b2e7ae8381268c9d97dc3576aa67da04" category="list-text">Configurer l'utilisateur administrateur de la base de données dans SnapCenter</block>
  <block id="e1c4efcd7b5b155c8a6e57d348b6c071" category="list-text">Conditions préalables à l'installation du plugin SnapCenter</block>
  <block id="cf69df8da81eda7b468d606f3e9aff06" category="list-text">Installation du plug-in hôte SnapCenter</block>
  <block id="2a6faa57bc6cc0f7a4c90cebd5e63344" category="list-text">Découverte des ressources de la base de données</block>
  <block id="2a36af746a3cc41f6964edac717b5206" category="list-text">Configurer l'appairage de clusters de stockage et la réplication de volumes de bases de données</block>
  <block id="a227a5da83d0a04e6e8e7e76a89eba09" category="list-text">Ajouter un stockage de base de données CVO SVM à SnapCenter</block>
  <block id="c615eed91e2ab578525394d0ff0138d9" category="list-text">Configurer la politique de sauvegarde de la base de données dans SnapCenter</block>
  <block id="8ecb914dad4186dafb38268be6fc8a1f" category="list-text">Mettre en œuvre une politique de sauvegarde pour protéger la base de données</block>
  <block id="3041fe5faf49efefd030e278790b4faf" category="list-text">Valider la sauvegarde</block>
  <block id="0bcf61b20ebca1ef90cb7982284867a6" category="list-text">Contrôle pré-vol</block>
  <block id="c27b238e54d27696cafed4684c6f1335" category="list-text">Étapes pour déployer Cloud Manager et Cloud Volumes ONTAP dans AWS</block>
  <block id="2bb50575568fc6429e2c1cef751d40f4" category="list-text">Déployer une instance de calcul EC2 pour la charge de travail de la base de données</block>
  <block id="bc2dcb446bec0ecd131a2e612dbd1ecd" category="paragraph">Cliquez sur les liens suivants pour plus de détails :</block>
  <block id="21aa279d0a145dcaab5feaa02df2c02a" category="inline-link-macro">Cloud public - AWS</block>
  <block id="4c3ec3c7fc32bc9cb169188e153d067b" category="paragraph"><block ref="0c369d4ca5388d640f4bc3a3eb7ef247" category="inline-link-macro-rx"></block>,<block ref="a338b576ea1760b44a3f6fbf9b4967f2" category="inline-link-macro-rx"></block></block>
  <block id="d0bb28dcc0cc1b523a41bbb46875db9e" category="summary">Avant d’installer le connecteur Cloud Manager et Cloud Volumes ONTAP et de configurer SnapMirror, nous devons effectuer certaines préparations pour notre environnement cloud.  Cette page décrit le travail à effectuer ainsi que les considérations à prendre en compte lors du déploiement de Cloud Volumes ONTAP.</block>
  <block id="8c6fb9ece3bad11d3e76d1344d9ed9ab" category="doc">Prérequis pour le cloud public</block>
  <block id="5a2798d22185b0e40ea502bbbb171d38" category="section-title">Liste de contrôle des prérequis pour le déploiement de Cloud Manager et Cloud Volumes ONTAP</block>
  <block id="1e094e6477be231098329b0096c7221f" category="list-text">Une connexion NetApp Cloud Central</block>
  <block id="b59e275c4ece2430dff67db92845ab7f" category="list-text">Accès réseau depuis un navigateur Web vers plusieurs points de terminaison</block>
  <block id="d2ed5c7ede8a1ce9d218ec60b0f03935" category="list-text">Un emplacement réseau pour un connecteur</block>
  <block id="0d07862d67097acd517fe27c0de099d7" category="list-text">Autorisations du fournisseur de cloud</block>
  <block id="203802866ac2835e79bd76c94a3761c2" category="list-text">Mise en réseau pour les services individuels</block>
  <block id="c4d5e1cbdfc47a0fdcb4a1a9dddd9e17" category="inline-link">documentation sur le cloud</block>
  <block id="1a22a3f7b690b2ec8919c8806633fb26" category="paragraph">Pour plus d'informations sur ce dont vous avez besoin pour commencer, visitez notre<block ref="247d95fa755d21bb8790cc6d7a2fc412" category="inline-link-rx"></block> .</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">Considérations</block>
  <block id="176ca67b83510a1281a4cfc749a3543a" category="section-title">1. Qu'est-ce qu'un connecteur Cloud Manager ?</block>
  <block id="1681641037afae45bd6074dcde9eed00" category="paragraph">Dans la plupart des cas, un administrateur de compte Cloud Central doit déployer un connecteur dans votre réseau cloud ou sur site.  Le connecteur permet à Cloud Manager de gérer les ressources et les processus au sein de votre environnement de cloud public.</block>
  <block id="8a78be5d168f00b24bf1625de3d5409c" category="paragraph">Pour plus d'informations sur les connecteurs, visitez notre<block ref="f39c14bbbbdd46ca70a63fb06046c789" category="inline-link-rx"></block> .</block>
  <block id="fcc2bf38b8157a22b5fc6975b7054acc" category="section-title">2. Dimensionnement et architecture de Cloud Volumes ONTAP</block>
  <block id="1c09b5154aa1f43cb9ebcbd6fea5eadc" category="paragraph">Lors du déploiement de Cloud Volumes ONTAP, vous avez le choix entre un package prédéfini ou la création de votre propre configuration.  Bien que bon nombre de ces valeurs puissent être modifiées ultérieurement sans interruption, certaines décisions clés doivent être prises avant le déploiement en fonction des charges de travail à déployer dans le cloud.</block>
  <block id="d76a4ab0a55e4cce0b92ec2adcef2d62" category="inline-link">Calculateur de coût total de possession</block>
  <block id="e525512d8e8df679389265cf77783692" category="paragraph">Chaque fournisseur de cloud dispose de différentes options de déploiement et presque chaque charge de travail possède ses propres propriétés uniques.  NetApp a un<block ref="0c467b50efa749a5a4e7d6c99c2fa4bc" category="inline-link-rx"></block> qui peut aider à dimensionner correctement les déploiements en fonction de la capacité et des performances, mais il a été construit autour de certains concepts de base qui méritent d'être pris en compte :</block>
  <block id="145c90afb7955854f2371e9decf3de9b" category="list-text">Capacité requise</block>
  <block id="f1521b662bf51f1af6c2d38bd610afae" category="list-text">Capacité réseau de la machine virtuelle cloud</block>
  <block id="f75d8ba5edc8017382d5df68baf9e30f" category="list-text">Caractéristiques de performance du stockage cloud</block>
  <block id="af9d66ea3132fcfeb46b85557bc1af1b" category="paragraph">La clé est de planifier une configuration qui non seulement répond aux exigences actuelles de capacité et de performances, mais qui prend également en compte la croissance future.  C'est ce que l'on appelle généralement la marge de capacité et la marge de performance.</block>
  <block id="4847e034bb0a55fcbc8a3380d6a3ab80" category="inline-link">AWS</block>
  <block id="3a580f142203677f1f0bc30898f63f53" category="inline-link">Azuré</block>
  <block id="c731f72e1d22a7c5e01a7cb789a8885e" category="inline-link">BPC</block>
  <block id="180f0326dff3a03aecf5e184943d108a" category="paragraph">Si vous souhaitez plus d'informations, lisez la documentation sur la planification correcte pour<block ref="af5d70b69c3436f8bcf6f7b9579c4e83" category="inline-link-rx"></block> ,<block ref="c2e85b51d3015b4c720388e64a3de23e" category="inline-link-rx"></block> , et<block ref="b1068926334a08925797774f64291db4" category="inline-link-rx"></block> .</block>
  <block id="c50ea1f0c6dcf02fbdd39e1e6b5befc2" category="section-title">3. Nœud unique ou haute disponibilité ?</block>
  <block id="eadb13b9c72271dbf16967e78059fea4" category="paragraph">Dans tous les clouds, il existe la possibilité de déployer CVO soit dans un seul nœud, soit dans une paire de clusters à haute disponibilité avec deux nœuds.  Selon le cas d'utilisation, vous souhaiterez peut-être déployer un seul nœud pour réduire les coûts ou une paire HA pour offrir davantage de disponibilité et de redondance.</block>
  <block id="9cbd119b18cd836b6020fcfd3bfbe37f" category="paragraph">Pour un cas d'utilisation DR ou pour la mise en place d'un stockage temporaire à des fins de développement et de test, les nœuds uniques sont courants, car l'impact d'une panne soudaine de zone ou d'infrastructure est plus faible.  Cependant, pour tout cas d'utilisation de production, lorsque les données se trouvent dans un seul emplacement ou lorsque l'ensemble de données doit avoir plus de redondance et de disponibilité, une haute disponibilité est recommandée.</block>
  <block id="83d2ad0cda1f71c52878284cc7c1f713" category="paragraph">Pour plus d'informations sur l'architecture de la version de haute disponibilité de chaque cloud, consultez la documentation de<block ref="4344469628657b2a6a0d147e5e6fbc9a" category="inline-link-rx"></block> ,<block ref="28a8305eced80cb5b1351f5cffb268ae" category="inline-link-rx"></block> et<block ref="1b945d178a8347e94e5c5456dc9e6db8" category="inline-link-rx"></block> .</block>
  <block id="c94d29f1f4f8ef37e9d27f30b7d7c67d" category="summary">Les tâches décrites dans cette section doivent être effectuées sur site pour préparer l'environnement de charge de travail de la base de données cloud hybride SnapCenter .</block>
  <block id="f6a196d9d3a941e76765e4a9395630c4" category="doc">Prérequis sur site</block>
  <block id="40931dcd4d9132545ec0faf2c5fb1b64" category="paragraph">Les tâches suivantes doivent être effectuées sur site pour préparer l’environnement de charge de travail de la base de données cloud hybride SnapCenter .</block>
  <block id="79daf399b9626cde309801f41a1e2e14" category="section-title">Installation et configuration de SnapCenter</block>
  <block id="49fd917369dcf2b31d4f023bba0625a0" category="paragraph">L'outil NetApp SnapCenter est une application Windows qui s'exécute généralement dans un environnement de domaine Windows, bien que le déploiement de groupe de travail soit également possible.  Il est basé sur une architecture à plusieurs niveaux qui comprend un serveur de gestion centralisé (le serveur SnapCenter ) et un plug-in SnapCenter sur les hôtes du serveur de base de données pour les charges de travail de base de données.  Voici quelques considérations clés pour le déploiement d’un cloud hybride.</block>
  <block id="9f8c0bcd11d7afd1dd2ee818191cb914" category="list-text">*Instance unique ou déploiement HA.*  Le déploiement HA fournit une redondance en cas de défaillance d'un seul serveur d'instance SnapCenter .</block>
  <block id="1bfa2867d5aa49106efbf3ac752f3084" category="list-text">*Résolution de nom.*  Le DNS doit être configuré sur le serveur SnapCenter pour résoudre tous les hôtes de base de données ainsi que sur le SVM de stockage pour la recherche directe et inverse.  Le DNS doit également être configuré sur les serveurs de base de données pour résoudre le serveur SnapCenter et le SVM de stockage pour la recherche directe et inverse.</block>
  <block id="41f54308d86c1d7b525475d6ead22892" category="list-text">*Configuration du contrôle d'accès basé sur les rôles (RBAC).*  Pour les charges de travail de base de données mixtes, vous souhaiterez peut-être utiliser RBAC pour séparer la responsabilité de gestion pour différentes plates-formes de base de données, telles qu'un administrateur pour la base de données Oracle ou un administrateur pour SQL Server.  Les autorisations nécessaires doivent être accordées à l'utilisateur administrateur de la base de données.</block>
  <block id="5aee5dffd2e329652ec35995add763ae" category="list-text">*Activer la stratégie de sauvegarde basée sur des politiques.*  Pour garantir la cohérence et la fiabilité des sauvegardes.</block>
  <block id="dde4790e572aa9d01cd58fcfd8498766" category="list-text">*Ouvrez les ports réseau nécessaires sur le pare-feu.*  Pour que le serveur SnapCenter sur site communique avec les agents installés sur l'hôte de base de données cloud.</block>
  <block id="e2962676531ebdcf62cb2a7b96042e77" category="list-text">*Les ports doivent être ouverts pour autoriser le trafic SnapMirror entre le cloud local et le cloud public.*  Le serveur SnapCenter s'appuie sur ONTAP SnapMirror pour répliquer les sauvegardes Snapshot sur site vers les SVM de stockage CVO cloud.</block>
  <block id="5ec6e06db1720ca3b517643f92ad748e" category="inline-link-macro">Prérequis d'installation de SnapCenter</block>
  <block id="7d409546f13da568d73d1cf93ba4de82" category="paragraph">Après une planification et une réflexion minutieuses avant l'installation, cliquez ici<block ref="76a3e8de747ec65461865abe9011a915" category="inline-link-macro-rx"></block> pour plus de détails sur l'installation et la configuration de SnapCenter .</block>
  <block id="df3fb602185c77a88bab186791d02636" category="section-title">Configuration du stockage du serveur de base de données sur site</block>
  <block id="f7f3a649be867b87ccb26789453199db" category="paragraph">Les performances de stockage jouent un rôle important dans les performances globales des bases de données et des applications.  Une disposition de stockage bien conçue peut non seulement améliorer les performances de la base de données, mais également faciliter la gestion de la sauvegarde et de la récupération de la base de données.  Plusieurs facteurs doivent être pris en compte lors de la définition de votre configuration de stockage, notamment la taille de la base de données, le taux de modification des données attendu pour la base de données et la fréquence à laquelle vous effectuez des sauvegardes.</block>
  <block id="8481231881c8e64b34aa3c7e29510a25" category="paragraph">La connexion directe des LUN de stockage à la machine virtuelle invitée via NFS ou iSCSI pour les charges de travail de base de données virtualisées offre généralement de meilleures performances que le stockage alloué via VMDK.  NetApp recommande la disposition de stockage pour une grande base de données SQL Server sur les LUN illustrée dans la figure suivante.</block>
  <block id="39d8e2145d1f0d10bd3f6c2ec17ab9c0" category="paragraph"><block ref="39d8e2145d1f0d10bd3f6c2ec17ab9c0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99aea05cf884bfdec230afa5250968b2" category="paragraph">La figure suivante montre la disposition de stockage recommandée par NetApp pour les bases de données SQL Server de petite ou moyenne taille sur les LUN.</block>
  <block id="d7768ec0712c652418bd1ff715cfed36" category="paragraph"><block ref="d7768ec0712c652418bd1ff715cfed36" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76ecde8f778d0dd0676f392793ce4382" category="admonition">Le répertoire Log est dédié à SnapCenter pour effectuer la récupération du journal des transactions pour la récupération de la base de données.  Pour une base de données extra-large, plusieurs LUN peuvent être alloués à un volume pour de meilleures performances.</block>
  <block id="ee9158729a15dbd90d166650ba285d0e" category="paragraph">Pour les charges de travail de base de données Oracle, SnapCenter prend en charge les environnements de base de données sauvegardés par le stockage ONTAP qui sont montés sur l'hôte en tant que périphériques physiques ou virtuels.  Vous pouvez héberger l’intégralité de la base de données sur un ou plusieurs périphériques de stockage en fonction de la criticité de l’environnement.  En règle générale, les clients isolent les fichiers de données sur un stockage dédié de tous les autres fichiers tels que les fichiers de contrôle, les fichiers de rétablissement et les fichiers journaux d'archivage.  Cela aide les administrateurs à restaurer rapidement (fichier unique ONTAP SnapRestore) ou à cloner une grande base de données critique (échelle pétaoctet) à l'aide de la technologie Snapshot en quelques secondes à quelques minutes.</block>
  <block id="8d1d8980b28a79123d17d3fc6de5c48a" category="paragraph"><block ref="8d1d8980b28a79123d17d3fc6de5c48a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="959a3405dfdfb0469534f5276ffb8e5e" category="paragraph">Pour les charges de travail critiques sensibles à la latence, un volume de stockage dédié doit être déployé sur différents types de fichiers Oracle pour obtenir la meilleure latence possible.  Pour une base de données volumineuse, plusieurs LUN (NetApp recommande jusqu'à huit) par volume doivent être alloués aux fichiers de données.</block>
  <block id="c934419b6361c84ad604a812343f13b2" category="paragraph"><block ref="c934419b6361c84ad604a812343f13b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2702ce3d59ec94853fa030462b309f2f" category="paragraph">Pour les bases de données Oracle plus petites, SnapCenter prend en charge les dispositions de stockage partagé dans lesquelles vous pouvez héberger plusieurs bases de données ou une partie d'une base de données sur le même volume de stockage ou LUN.  À titre d’exemple de cette disposition, vous pouvez héberger des fichiers de données pour toutes les bases de données sur un groupe de disques +DATA ASM ou un groupe de volumes.  Le reste des fichiers (fichiers de rétablissement, journaux d'archivage et fichiers de contrôle) peut être hébergé sur un autre groupe de disques ou groupe de volumes dédié (LVM).  Un tel scénario de déploiement est illustré ci-dessous.</block>
  <block id="3cf0fdb257926c14675b2b90a427d751" category="paragraph"><block ref="3cf0fdb257926c14675b2b90a427d751" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93cf45b97655292e0536b810cb248828" category="paragraph">Pour faciliter le déplacement des bases de données Oracle, le binaire Oracle doit être installé sur un LUN distinct inclus dans la politique de sauvegarde régulière.  Cela garantit qu'en cas de déplacement de la base de données vers un nouvel hôte de serveur, la pile Oracle peut être démarrée pour la récupération sans aucun problème potentiel dû à un binaire Oracle désynchronisé.</block>
  <block id="1e69a4a8adec0842d1e110e970112268" category="section-title">Conditions d'obtention de licence</block>
  <block id="7f59934b2c0edd33f0d981f3bc4d12e7" category="paragraph">SnapCenter est un logiciel sous licence de NetApp.  Il est généralement inclus dans une licence ONTAP sur site.  Cependant, pour le déploiement de cloud hybride, une licence cloud pour SnapCenter est également requise pour ajouter CVO à SnapCenter en tant que destination de réplication de données cible.  Veuillez consulter les liens suivants pour la licence standard basée sur la capacité de SnapCenter pour plus de détails :</block>
  <block id="9e86ae6c96041e3cb31e88116102ee35" category="inline-link-macro">Licences standard SnapCenter basées sur la capacité</block>
  <block id="30a7dd2f33dbf8c793ab27dd0b00e818" category="paragraph"><block ref="30a7dd2f33dbf8c793ab27dd0b00e818" category="inline-link-macro-rx"></block></block>
  <block id="85db56d490cdd7a31d40697ad1c9be3c" category="section-title">Réseau et sécurité</block>
  <block id="254215e6d18fb5582ba78464fa468553" category="paragraph">Dans une opération de base de données hybride qui nécessite une base de données de production sur site extensible vers le cloud pour le développement/test et la reprise après sinistre, la mise en réseau et la sécurité sont des facteurs importants à prendre en compte lors de la configuration de l'environnement et de la connexion au cloud public à partir d'un centre de données sur site.</block>
  <block id="1e356fab450b44971b6cdbd1c25586b8" category="paragraph">Les clouds publics utilisent généralement un cloud privé virtuel (VPC) pour isoler différents utilisateurs au sein d'une plate-forme de cloud public.  Au sein d'un VPC individuel, la sécurité est contrôlée à l'aide de mesures telles que des groupes de sécurité configurables en fonction des besoins des utilisateurs pour le verrouillage d'un VPC.</block>
  <block id="5192a6d33c7a0127a67cbd7e07801735" category="paragraph">La connectivité du centre de données sur site au VPC peut être sécurisée via un tunnel VPN.  Sur la passerelle VPN, la sécurité peut être renforcée à l'aide de règles NAT et de pare-feu qui bloquent les tentatives d'établissement de connexions réseau entre les hôtes sur Internet et les hôtes à l'intérieur du centre de données de l'entreprise.</block>
  <block id="04a3995237c020c6a587d8a7723af6a6" category="paragraph">Pour les considérations de mise en réseau et de sécurité, examinez les règles CVO entrantes et sortantes pertinentes pour le cloud public de votre choix :</block>
  <block id="d15513a147fbd525b88805bee9ea17ea" category="inline-link-macro">Règles de groupe de sécurité pour CVO - AWS</block>
  <block id="f8d1f085169118c4d407be16136389c6" category="list-text"><block ref="f8d1f085169118c4d407be16136389c6" category="inline-link-macro-rx"></block></block>
  <block id="39f48b44d100d16ed6e2b931111663b7" category="inline-link-macro">Règles de groupe de sécurité pour CVO - Azure</block>
  <block id="bcde746324630d82052a4fc9861cfea6" category="list-text"><block ref="bcde746324630d82052a4fc9861cfea6" category="inline-link-macro-rx"></block></block>
  <block id="7b20c547f2fd113499deaa3c0e418282" category="inline-link-macro">Règles de pare-feu pour CVO - GCP</block>
  <block id="acde731d82a437ab33cb200791f7a197" category="list-text"><block ref="acde731d82a437ab33cb200791f7a197" category="inline-link-macro-rx"></block></block>
  <block id="d9446a69434b7c7fdec5c9e35d222834" category="section-title">Utilisation de l'automatisation Ansible pour synchroniser les instances de base de données entre les locaux et le cloud (facultatif)</block>
  <block id="1c7c9b49a62ea0dc765d1439120cfc8f" category="paragraph">Pour simplifier la gestion d'un environnement de base de données cloud hybride, NetApp recommande fortement, mais n'exige pas, que vous déployiez un contrôleur Ansible pour automatiser certaines tâches de gestion, telles que la synchronisation des instances de calcul sur site et dans le cloud.  Ceci est particulièrement important car une instance de calcul désynchronisée dans le cloud peut rendre la base de données récupérée dans le cloud sujette aux erreurs en raison de packages de noyau manquants et d'autres problèmes.</block>
  <block id="7468552c7fc3a7ca377b7fc2405a9940" category="paragraph">La capacité d'automatisation d'un contrôleur Ansible peut également être utilisée pour augmenter SnapCenter pour certaines tâches, telles que la division de l'instance SnapMirror pour activer la copie des données DR pour la production.</block>
  <block id="76873576c51d008df968086838d03984" category="paragraph">Suivez ces instructions pour configurer votre nœud de contrôle Ansible pour les machines RedHat ou CentOS :</block>
  <block id="b3cc847e28f05787703481d8da9a8de3" category="paragraph">Suivez ces instructions pour configurer votre nœud de contrôle Ansible pour les machines Ubuntu ou Debian :</block>
  <block id="0f22160e43c900ef7426d8a19e9f482d" category="summary">Certaines conditions préalables doivent être configurées à la fois sur site et dans le cloud avant l’exécution des charges de travail de base de données cloud hybride.  La section suivante fournit un résumé de haut niveau de ce processus et les liens suivants fournissent des informations supplémentaires sur la configuration système nécessaire.</block>
  <block id="1dad826770c4d2c619351c974f725b36" category="doc">Configuration des prérequis</block>
  <block id="4df40e141b0559f15db8f84f78aed013" category="section-title">Sur place</block>
  <block id="caea8340e2d186a540518d08602aa065" category="list-text">Automation</block>
  <block id="761883c0d5c55fba5b200ac8ac0d86e5" category="section-title">Cloud public</block>
  <block id="37aa83a33297d9d16b4423be342598bb" category="list-text">Un emplacement réseau pour un connecteur</block>
  <block id="74c043a4451dd260729a23ce96aa1550" category="paragraph">Considérations importantes :</block>
  <block id="7aee27c83b5e3622c1d8cbd5c2098c60" category="list-text">Où déployer le connecteur Cloud Manager ?</block>
  <block id="43fd5c6fa3d9ba8a215c31f3bf0a9859" category="list-text">Dimensionnement et architecture de Cloud Volume ONTAP</block>
  <block id="7a0e00d70e3b0ff06476a52565f923c4" category="list-text">Nœud unique ou haute disponibilité ?</block>
  <block id="2d0b46fff3ae203a435b167c7111b389" category="paragraph">Les liens suivants fournissent plus de détails :</block>
  <block id="3e3817204201a1a72832318e186660f2" category="paragraph"><block ref="3e3817204201a1a72832318e186660f2" category="inline-link-macro-rx"></block></block>
  <block id="704849d56e695ab8f9df0b106e0d7e33" category="inline-link-macro">Cloud public</block>
  <block id="6262c102819dddec88d8170033aca3a6" category="paragraph"><block ref="6262c102819dddec88d8170033aca3a6" category="inline-link-macro-rx"></block></block>
  <block id="8f7280c86689be0a39cdf74aa673040d" category="summary">Cette solution est conçue dans un environnement de cloud hybride pour prendre en charge les bases de données de production sur site qui peuvent être déployées sur tous les clouds publics populaires pour les opérations de développement/test et de reprise après sinistre.</block>
  <block id="132f2888eb2cfdeef2730212f50c53e3" category="doc">Configuration requise SnapCenter</block>
  <block id="6546814199e52492fa0efe5fbff08d5a" category="paragraph">Cette solution prend en charge toutes les bases de données actuellement prises en charge par SnapCenter, bien que seules les bases de données Oracle et SQL Server soient présentées ici.  Cette solution est validée avec des charges de travail de base de données virtualisées, bien que les charges de travail bare-metal soient également prises en charge.</block>
  <block id="185b108b21dccef917f415be6026c91c" category="paragraph">Nous supposons que les serveurs de base de données de production sont hébergés sur site avec des volumes de base de données présentés aux hôtes de base de données à partir d'un cluster de stockage ONTAP .  Le SnapCenter software est installé sur site pour la sauvegarde de la base de données et la réplication des données vers le cloud.  Un contrôleur Ansible est recommandé mais pas requis pour l'automatisation du déploiement de la base de données ou la synchronisation de la configuration du noyau du système d'exploitation et de la base de données avec une instance DR de secours ou des instances de développement/test dans le cloud public.</block>
  <block id="47099d9ea153f8abfa5b6b70da253b3a" category="cell">*Sur place*</block>
  <block id="d36407241494bfc1e84614ad1b0dd6a4" category="cell">Toutes les bases de données et versions prises en charge par SnapCenter</block>
  <block id="8c8c8ca7a4093a1210412a3a5e5ad55f" category="cell">SnapCenter v4.4 ou supérieur</block>
  <block id="9d9ebf67dab68c3c892de99e981039cf" category="cell">Ansible v2.09 ou supérieur</block>
  <block id="62dd4f48e99b13c8a00fbaba684f9592" category="cell">Cluster ONTAP 9.x</block>
  <block id="d0fdc58e1e05d6cbc8b1beb072bfa235" category="cell">LIF intercluster configurés</block>
  <block id="7135df562bcb25bfdf20e4317b923b88" category="cell">Connectivité depuis un site local vers un VPC cloud (VPN, interconnexion, etc.)</block>
  <block id="8c27863f5ffd0e66a9304eaca2e47fde" category="cell">Ports réseau ouverts - ssh 22 - tcp 8145, 8146, 10000, 11104, 11105</block>
  <block id="bcb9f3419f724f768e30956a4427261d" category="cell">*Cloud - AWS*</block>
  <block id="61c90d44785278f980592f082ef500f1" category="inline-link">Connecteur Cloud Manager</block>
  <block id="97bc5062dceccb6827b1e3f0522035f0" category="cell"><block ref="97bc5062dceccb6827b1e3f0522035f0" category="inline-link-rx"></block></block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="inline-link">Cloud Volumes ONTAP</block>
  <block id="2f077494ceff1f33085c5b163c3673b3" category="cell"><block ref="2f077494ceff1f33085c5b163c3673b3" category="inline-link-rx"></block></block>
  <block id="59b2c9424963f98d73ec69c59dde54cb" category="cell">Correspondance des instances EC2 DB OS avec les instances sur site</block>
  <block id="e26786a16da88ee829ab76c48fd3b003" category="cell">*Cloud - Azure*</block>
  <block id="c2f8674b07907f393b67a3f9e98d3d56" category="cell"><block ref="c2f8674b07907f393b67a3f9e98d3d56" category="inline-link-rx"></block></block>
  <block id="a8dd724647657a383eb37fd8775ec1a9" category="cell"><block ref="a8dd724647657a383eb37fd8775ec1a9" category="inline-link-rx"></block></block>
  <block id="8bede1f0e559918be01f0646b75b4257" category="cell">Correspondance des machines virtuelles Azure DB OS avec les machines sur site</block>
  <block id="b2a454fb4ff03b84162c59d674fdae25" category="cell">*Cloud - GCP*</block>
  <block id="af072236983e991ab34e773871b10236" category="cell"><block ref="af072236983e991ab34e773871b10236" category="inline-link-rx"></block></block>
  <block id="499477cf7953707f63a1b1313c8c065a" category="cell"><block ref="499477cf7953707f63a1b1313c8c065a" category="inline-link-rx"></block></block>
  <block id="2900c5e1ee191606f20d007194e70edf" category="cell">Correspondance des instances DB OS Google Compute Engine avec les instances sur site</block>
  <block id="012b603d852affe4779f095a5c59f0c5" category="summary">L'agilité du cloud public, le délai de rentabilisation et les économies de coûts sont autant de propositions de valeur significatives pour les entreprises qui adoptent le cloud public pour le développement et les tests d'applications de base de données.  Il n’existe pas de meilleur outil que SnapCenter pour concrétiser ce projet rapidement.  SnapCenter peut non seulement protéger votre base de données de production sur site, mais il peut également cloner rapidement une copie pour le développement d'applications ou les tests de code dans le cloud public tout en consommant très peu de stockage supplémentaire.  Vous trouverez ci-dessous les détails des processus étape par étape utilisant l'outil.</block>
  <block id="38da6679588aeb2754e14dd58994685e" category="doc">Workflow pour le développement/test en explosant vers le cloud</block>
  <block id="4d8a5b6bc9c43ab79e376d1aa4d83217" category="paragraph">L'agilité du cloud public, le délai de rentabilisation et les économies de coûts sont autant de propositions de valeur significatives pour les entreprises qui adoptent le cloud public pour le développement et les tests d'applications de base de données.  Il n’existe pas de meilleur outil que SnapCenter pour faire de cela une réalité.  SnapCenter peut non seulement protéger votre base de données de production sur site, mais peut également cloner rapidement une copie pour le développement d'applications ou les tests de code dans le cloud public tout en consommant très peu de stockage supplémentaire.  Vous trouverez ci-dessous des détails sur les processus étape par étape pour utiliser cet outil.</block>
  <block id="b47b42841be2e173707ab5884714970b" category="section-title">Cloner une base de données Oracle pour le développement/test à partir d'une sauvegarde instantanée répliquée</block>
  <block id="8d90529d1117b8d3781bd6781acf4e91" category="list-text">Connectez-vous à SnapCenter avec un ID utilisateur de gestion de base de données pour Oracle.  Accédez à l’onglet Ressources, qui affiche les bases de données Oracle protégées par SnapCenter.</block>
  <block id="303d7b95b5531dc06ab1c2b378e5cc31" category="paragraph"><block ref="303d7b95b5531dc06ab1c2b378e5cc31" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d539d2e9659870aa79747206fac4769" category="list-text">Cliquez sur le nom de la base de données locale prévue pour la topologie de sauvegarde et la vue détaillée.  Si un emplacement répliqué secondaire est activé, il affiche les sauvegardes miroir liées.</block>
  <block id="59231d25fbe75b7fac6548cb000cbac2" category="paragraph"><block ref="59231d25fbe75b7fac6548cb000cbac2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d4a9c1f33e524696d6f3adebf89947bb" category="list-text">Basculez vers la vue des sauvegardes en miroir en cliquant sur les sauvegardes en miroir.  La ou les sauvegardes miroir secondaires sont alors affichées.</block>
  <block id="a658125bc922edbecb47429add3b1367" category="paragraph"><block ref="a658125bc922edbecb47429add3b1367" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4726a244c3941457e8f62b49c83d35d1" category="list-text">Choisissez une copie de sauvegarde de base de données secondaire en miroir à cloner et déterminez un point de récupération soit par heure et numéro de modification du système, soit par SCN.  En règle générale, le point de récupération doit suivre le temps de sauvegarde complet de la base de données ou le SCN à cloner.  Une fois le point de récupération déterminé, la sauvegarde du fichier journal requise doit être montée pour la récupération.  La sauvegarde du fichier journal doit être montée sur le serveur de base de données cible sur lequel la base de données clonée doit être hébergée.</block>
  <block id="25e155c3f8353c0bde89c48b8e75b357" category="paragraph"><block ref="25e155c3f8353c0bde89c48b8e75b357" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ecc49528e0cc5f8dc38e8bad16f64bea" category="paragraph"><block ref="ecc49528e0cc5f8dc38e8bad16f64bea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22a17e5abcfc4b5e70ebdea098cd1891" category="admonition">Si l'élagage des journaux est activé et que le point de récupération est étendu au-delà du dernier élagage des journaux, plusieurs sauvegardes de journaux d'archive peuvent devoir être montées.</block>
  <block id="e9606676533bbe916f4b4b6824eac195" category="list-text">Mettez en surbrillance la copie de sauvegarde complète de la base de données à cloner, puis cliquez sur le bouton Cloner pour démarrer le flux de travail de clonage de la base de données.</block>
  <block id="4e2ec546ffca4528eb3a18d5692319a1" category="paragraph"><block ref="4e2ec546ffca4528eb3a18d5692319a1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6c06d82b497809fcc0fd06d00c6d91a5" category="list-text">Choisissez un SID de base de données clone approprié pour une base de données de conteneur complète ou un clone CDB.</block>
  <block id="4e3da14809ac93cb4009ada57dd8b3eb" category="paragraph"><block ref="4e3da14809ac93cb4009ada57dd8b3eb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2c50a030b1c5313fca09568edf8c0f9" category="list-text">Sélectionnez l'hôte de clonage cible dans le cloud, et les répertoires de fichiers de données, de fichiers de contrôle et de journaux de rétablissement sont créés par le flux de travail de clonage.</block>
  <block id="2460044d38c11d1009ae24694a7eea8f" category="paragraph"><block ref="2460044d38c11d1009ae24694a7eea8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="701f017aeafb71656cf2bc3a9bd34862" category="list-text">Le nom d'identification None est utilisé pour l'authentification basée sur le système d'exploitation, ce qui rend le port de base de données non pertinent.  Renseignez les champs Oracle Home, Oracle OS User et Oracle OS Group appropriés tels que configurés dans le serveur de base de données clone cible.</block>
  <block id="f003ac371d5f232bdebd4321e54a14a3" category="paragraph"><block ref="f003ac371d5f232bdebd4321e54a14a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26a911f3c85fc3c73d79253e65bf30e3" category="list-text">Spécifiez les scripts à exécuter avant l'opération de clonage.  Plus important encore, le paramètre d’instance de base de données peut être ajusté ou défini ici.</block>
  <block id="9729b447443ac4901c6b4c619101c7f5" category="paragraph"><block ref="9729b447443ac4901c6b4c619101c7f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09d7240367714707474d63a3a574222b" category="list-text">Spécifiez le point de récupération soit par la date et l'heure, soit par le SCN.  Jusqu'à ce que Cancel récupère la base de données jusqu'aux journaux d'archives disponibles.  Spécifiez l’emplacement du journal d’archive externe à partir de l’hôte cible sur lequel le volume du journal d’archive est monté.  Si le propriétaire Oracle du serveur cible est différent du serveur de production local, vérifiez que le répertoire du journal d'archive est lisible par le propriétaire Oracle du serveur cible.</block>
  <block id="9b40de27108f139fdd216f6f03be1bdf" category="paragraph"><block ref="9b40de27108f139fdd216f6f03be1bdf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49f5cdb9736a65ec1db2db78e1032432" category="paragraph"><block ref="49f5cdb9736a65ec1db2db78e1032432" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c2767b20dbecd16663b0249b06eb5466" category="paragraph"><block ref="c2767b20dbecd16663b0249b06eb5466" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0421be6f676ac1ddace9e39eeeb54f0f" category="list-text">Résumé du clone.</block>
  <block id="bf68904799d4967d70ff4a5fac96de1e" category="paragraph"><block ref="bf68904799d4967d70ff4a5fac96de1e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="69d929881b22cd699e243e2343bd707d" category="list-text">Vous devez valider après le clonage pour vous assurer que la base de données clonée est opérationnelle.  Certaines tâches supplémentaires, telles que le démarrage de l'écouteur ou la désactivation du mode d'archivage du journal de la base de données, peuvent être effectuées sur la base de données dev/test.</block>
  <block id="9d46db4ac971cc1db20463ba195f6f03" category="paragraph"><block ref="9d46db4ac971cc1db20463ba195f6f03" category="inline-image-macro-rx" type="image"></block></block>
  <block id="58732c8d9b1293bb6666ef2284840fd3" category="section-title">Cloner une base de données SQL pour le développement/test à partir d'une sauvegarde Snapshot répliquée</block>
  <block id="605f2bb9d099f78e26260848db117df7" category="list-text">Connectez-vous à SnapCenter avec un ID utilisateur de gestion de base de données pour SQL Server.  Accédez à l’onglet Ressources, qui affiche les bases de données utilisateur SQL Server protégées par SnapCenter et une instance SQL de secours cible dans le cloud public.</block>
  <block id="ca1a103b35e781a7d36dc2b62b075911" category="paragraph"><block ref="ca1a103b35e781a7d36dc2b62b075911" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39c34a717e197c67b1fc8d678db5815b" category="list-text">Cliquez sur le nom de la base de données utilisateur SQL Server sur site prévue pour la topologie des sauvegardes et la vue détaillée.  Si un emplacement répliqué secondaire est activé, il affiche les sauvegardes miroir liées.</block>
  <block id="7f41d1786e9c73edfe4c83777b423f56" category="paragraph"><block ref="7f41d1786e9c73edfe4c83777b423f56" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a5910fa5df5b6482c00b15ae683eef0f" category="list-text">Basculez vers la vue Sauvegardes en miroir en cliquant sur Sauvegardes en miroir.  Les sauvegardes miroir secondaires sont alors affichées.  Étant donné que SnapCenter sauvegarde le journal des transactions SQL Server sur un lecteur dédié pour la récupération, seules les sauvegardes complètes de la base de données sont affichées ici.</block>
  <block id="a8d8c5ea6b104184633cb3921639dd25" category="paragraph"><block ref="a8d8c5ea6b104184633cb3921639dd25" category="inline-image-macro-rx" type="image"></block></block>
  <block id="368014bae8201ab49d2207a53c907069" category="list-text">Choisissez une copie de sauvegarde, puis cliquez sur le bouton Cloner pour lancer le flux de travail Cloner à partir de la sauvegarde.</block>
  <block id="eba08e4bbd6b78f38043bce820db3835" category="paragraph"><block ref="eba08e4bbd6b78f38043bce820db3835" category="inline-image-macro-rx" type="image"></block></block>
  <block id="78599f9e73230a8212f30880551b813a" category="paragraph"><block ref="78599f9e73230a8212f30880551b813a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44258030a87117191bde6d62511ddb9a" category="list-text">Sélectionnez un serveur cloud comme serveur clone cible, le nom de l'instance de clonage et le nom de la base de données de clonage.  Choisissez soit un point de montage à attribution automatique, soit un chemin de point de montage défini par l'utilisateur.</block>
  <block id="04b71eaff796b865b737d8c15e38163c" category="paragraph"><block ref="04b71eaff796b865b737d8c15e38163c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18145dc97ae06034ae9aafa8b98cb36e" category="list-text">Déterminez un point de récupération soit par une heure de sauvegarde du journal, soit par une date et une heure spécifiques.</block>
  <block id="fdb1ecfef863749f0f9eb1780e7d739e" category="paragraph"><block ref="fdb1ecfef863749f0f9eb1780e7d739e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0b9becceddf802cada91d9e2aa84ac5a" category="list-text">Spécifiez les scripts facultatifs à exécuter avant et après l’opération de clonage.</block>
  <block id="40913b1d5fee1909218aaf7c15d94e06" category="paragraph"><block ref="40913b1d5fee1909218aaf7c15d94e06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e41b01ffd717fd3d0b5788e608e50b52" category="list-text">Configurez un serveur SMTP si une notification par e-mail est souhaitée.</block>
  <block id="201595ba1d4e645cf16fce237931edd7" category="paragraph"><block ref="201595ba1d4e645cf16fce237931edd7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fc89ae2ec0203249b8e60785a63ca258" category="list-text">Résumé du clone.</block>
  <block id="2eb32fb20393f4cbe6233b791918752e" category="paragraph"><block ref="2eb32fb20393f4cbe6233b791918752e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28725828580a55d904e8b2a39f377eb9" category="list-text">Surveillez l’état du travail et validez que la base de données utilisateur prévue a été attachée à une instance SQL cible dans le serveur de clonage cloud.</block>
  <block id="2e6fba4820c2921c6ea0468bb8b0d709" category="paragraph"><block ref="2e6fba4820c2921c6ea0468bb8b0d709" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d512bf68b17268adfe539f9722d869b4" category="section-title">Configuration post-clonage</block>
  <block id="50d9180ea26c89fbe6506d71d81d3fb1" category="list-text">Une base de données de production Oracle sur site s'exécute généralement en mode d'archivage des journaux.  Ce mode n'est pas nécessaire pour une base de données de développement ou de test.  Pour désactiver le mode d'archivage du journal, connectez-vous à la base de données Oracle en tant que sysdba, exécutez une commande de changement de mode de journal et démarrez la base de données pour y accéder.</block>
  <block id="b205237d51ff9525496f4b2252942213" category="list-text">Configurez un écouteur Oracle ou enregistrez la base de données nouvellement clonée avec un écouteur existant pour l'accès utilisateur.</block>
  <block id="800699a04cdaa75b2219988799b0a048" category="list-text">Pour SQL Server, modifiez le mode de journalisation de Complet à Facile afin que le fichier journal de développement/test SQL Server puisse être facilement réduit lorsqu'il remplit le volume du journal.</block>
  <block id="89e018d207fd292a4926870904035c18" category="section-title">Actualiser la base de données clonée</block>
  <block id="d84550ba9a340ebf4fa6698dff5ba344" category="list-text">Supprimez les bases de données clonées et nettoyez l’environnement du serveur de base de données cloud.  Suivez ensuite les procédures précédentes pour cloner une nouvelle base de données avec de nouvelles données.  Il ne faut que quelques minutes pour cloner une nouvelle base de données.</block>
  <block id="1170d6f09309cb8dc382034a34680937" category="inline-link-macro">Rafraîchir un clone</block>
  <block id="fef062eeb7771b01e620bb2460b1bf9a" category="list-text">Arrêtez la base de données clonée, exécutez une commande d'actualisation de clone à l'aide de la CLI.  Consultez la documentation SnapCenter suivante pour plus de détails :<block ref="1e4035dee07650c706f8f0714c384872" category="inline-link-macro-rx"></block> .</block>
  <block id="2d6962c20ba37b34437afc30e6838e0d" category="inline-link-macro">Canal Slack d'assistance de la communauté NetApp Solution Automation</block>
  <block id="7b88d7d11804db6b079e226a6f043ea7" category="paragraph">Si vous avez besoin d'aide avec cette solution et ces cas d'utilisation, rejoignez le<block ref="f9456f3b54a140d5d3858823c684363f" category="inline-link-macro-rx"></block> et recherchez le canal solution-automatisation pour poster vos questions ou demandes de renseignements.</block>
  <block id="ff9d8653752bd48bb6b73cf97f207af1" category="summary">solutions de bases de données cloud hybrides avec flux de travail SnapCenter DR</block>
  <block id="ac2e8778240cb518ee14b1defbf55765" category="doc">Flux de travail de reprise après sinistre</block>
  <block id="8e84608bd62584b2f262d60fd734714f" category="paragraph">Les entreprises ont adopté le cloud public comme une ressource viable et une destination pour la reprise après sinistre.  SnapCenter rend ce processus aussi transparent que possible.  Ce flux de travail de récupération après sinistre est très similaire au flux de travail de clonage, mais la récupération de la base de données s'exécute sur le dernier journal disponible qui a été répliqué dans le cloud pour récupérer toutes les transactions commerciales possibles.  Cependant, il existe des étapes de pré-configuration et de post-configuration supplémentaires spécifiques à la reprise après sinistre.</block>
  <block id="e230d95c57c5534b3e90b93fddbcb1c9" category="section-title">Cloner une base de données de production Oracle sur site vers le cloud pour la reprise après sinistre</block>
  <block id="db9517755259859dbae095126c803544" category="list-text">Pour valider que la récupération du clone s'exécute via le dernier journal disponible, nous avons créé une petite table de test et inséré une ligne.  Les données de test seront récupérées après une récupération complète du dernier journal disponible.</block>
  <block id="bf9b379030bc827f7fde47d402deb0c3" category="paragraph"><block ref="bf9b379030bc827f7fde47d402deb0c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4fd1337293be82f7472d90bc35f51e90" category="list-text">Connectez-vous à SnapCenter en tant qu'ID utilisateur de gestion de base de données pour Oracle.  Accédez à l’onglet Ressources, qui affiche les bases de données Oracle protégées par SnapCenter.</block>
  <block id="c045754a6f6804ffaa3e8a3349bb61ea" category="paragraph"><block ref="c045754a6f6804ffaa3e8a3349bb61ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e795ef17ab8e08159909afe558c32a1c" category="list-text">Sélectionnez le groupe de ressources de journal Oracle et cliquez sur Sauvegarder maintenant pour exécuter manuellement une sauvegarde du journal Oracle afin de vider la dernière transaction vers la destination dans le cloud.  Dans un scénario DR réel, la dernière transaction récupérable dépend de la fréquence de réplication du volume du journal de la base de données vers le cloud, qui dépend à son tour de la politique RTO ou RPO de l'entreprise.</block>
  <block id="a2b3eebd207287850edd1177521be8c8" category="paragraph"><block ref="a2b3eebd207287850edd1177521be8c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c64c9ffbfbb15dacd22606acf72da44" category="paragraph"><block ref="4c64c9ffbfbb15dacd22606acf72da44" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d77575716b9cd49ab1453e367c405abe" category="admonition">SnapMirror asynchrone perd les données qui n'ont pas atteint la destination cloud dans l'intervalle de sauvegarde du journal de base de données dans un scénario de reprise après sinistre.  Pour minimiser la perte de données, des sauvegardes de journaux plus fréquentes peuvent être planifiées.  Cependant, il existe une limite à la fréquence de sauvegarde des journaux qui est techniquement réalisable.</block>
  <block id="c684c2587fa959f3df40953faab1c1a1" category="list-text">Sélectionnez la dernière sauvegarde du journal sur la ou les sauvegardes du miroir secondaire et montez la sauvegarde du journal.</block>
  <block id="6286aa5686611cc853dc091a6465aa7b" category="paragraph"><block ref="6286aa5686611cc853dc091a6465aa7b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8a8f78b581031f58f587c2c400e2d7e0" category="paragraph"><block ref="8a8f78b581031f58f587c2c400e2d7e0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fbfa0a2a63c1090863dedb14664d443c" category="list-text">Sélectionnez la dernière sauvegarde complète de la base de données et cliquez sur Cloner pour lancer le flux de travail de clonage.</block>
  <block id="a15e54a17fb69aa641ceea5f9aaecabc" category="paragraph"><block ref="a15e54a17fb69aa641ceea5f9aaecabc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3aa765536eeb5bd55823afbb43c9efdc" category="list-text">Sélectionnez un ID de base de données clone unique sur l'hôte.</block>
  <block id="2f61defc08c838dd1776e8384de4d5e7" category="paragraph"><block ref="2f61defc08c838dd1776e8384de4d5e7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d57d235b31b66e982ae6d433fa33948e" category="list-text">Provisionnez un volume de journal et montez-le sur le serveur DR cible pour la zone de récupération flash Oracle et les journaux en ligne.</block>
  <block id="9d13517407750da9676d0eacd64d2f61" category="paragraph"><block ref="9d13517407750da9676d0eacd64d2f61" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37e13ec4617949d1839682f248c29345" category="paragraph"><block ref="37e13ec4617949d1839682f248c29345" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6142419cbd2b279a240db52011ea3cab" category="admonition">La procédure de clonage Oracle ne crée pas de volume de journal, qui doit être provisionné sur le serveur DR avant le clonage.</block>
  <block id="b20da77a777ef0a84d95f447b254387c" category="list-text">Sélectionnez l'hôte de clonage cible et l'emplacement où placer les fichiers de données, les fichiers de contrôle et les journaux de rétablissement.</block>
  <block id="39ecc7e730fd5492ff22572380147383" category="paragraph"><block ref="39ecc7e730fd5492ff22572380147383" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6b126b14adfdc04f12e6a00531155f4a" category="list-text">Sélectionnez les informations d’identification pour le clone.  Renseignez les détails de la configuration Oracle Home sur le serveur cible.</block>
  <block id="2f0654b2d4002cc86dd65a1dd1fdd620" category="paragraph"><block ref="2f0654b2d4002cc86dd65a1dd1fdd620" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c76f59dc52686a71eb5917bbcabfa212" category="list-text">Spécifiez les scripts à exécuter avant le clonage.  Les paramètres de la base de données peuvent être ajustés si nécessaire.</block>
  <block id="ebfae66d0d19783737f56910903b2f4f" category="paragraph"><block ref="ebfae66d0d19783737f56910903b2f4f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7018f70f78c5e3154b2620e31167c12e" category="list-text">Sélectionnez Jusqu'à annulation comme option de récupération afin que la récupération parcoure tous les journaux d'archives disponibles pour récupérer la dernière transaction répliquée vers l'emplacement cloud secondaire.</block>
  <block id="cb6a3f006f851cb8fe602416d51249de" category="paragraph"><block ref="cb6a3f006f851cb8fe602416d51249de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6233d74c8f9820a1029624d60ab66049" category="list-text">Configurez le serveur SMTP pour la notification par e-mail si nécessaire.</block>
  <block id="d1bed69a0f1e8e74876c7069be501886" category="paragraph"><block ref="d1bed69a0f1e8e74876c7069be501886" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99a0cd00abfa258b121d480ce7d27e63" category="list-text">Résumé du clone DR.</block>
  <block id="da46ac31ccf219acaed3d495297a58c7" category="paragraph"><block ref="da46ac31ccf219acaed3d495297a58c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4ff014e6bff5ee06349d607c14fcf9e" category="list-text">Les bases de données clonées sont enregistrées auprès de SnapCenter immédiatement après la fin du clonage et sont ensuite disponibles pour la protection de sauvegarde.</block>
  <block id="1a7649ea290421532d145807093a7772" category="paragraph"><block ref="1a7649ea290421532d145807093a7772" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22d74aee547ad10d104f875521cfa6d7" category="section-title">Validation et configuration du clone post-DR pour Oracle</block>
  <block id="9d58cce71d4c85948ccecfea105367ed" category="list-text">Validez la dernière transaction de test qui a été vidée, répliquée et récupérée à l’emplacement DR dans le cloud.</block>
  <block id="254ca89c210a529d8172395ad07820f4" category="paragraph"><block ref="254ca89c210a529d8172395ad07820f4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="61b3573abc722a493f53ed27503f7eff" category="list-text">Configurer la zone de récupération flash.</block>
  <block id="660e02806b058564a27ae968882bb9d2" category="paragraph"><block ref="660e02806b058564a27ae968882bb9d2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4005d553f013abc53c6a1a65aed1d65f" category="list-text">Configurez l'écouteur Oracle pour l'accès utilisateur.</block>
  <block id="0c79c2a9e4fd1ea908a63d58f1f44917" category="list-text">Séparez le volume cloné du volume source répliqué.</block>
  <block id="42e82bb35283d9f2e2b444419f518667" category="list-text">Réplication inversée du cloud vers le serveur local et reconstruction du serveur de base de données local défaillant.</block>
  <block id="4ce2420dd00dd0b543e2e51bf7c1c135" category="admonition">La division du clone peut entraîner une utilisation temporaire de l'espace de stockage bien supérieure au fonctionnement normal.  Cependant, une fois le serveur de base de données sur site reconstruit, de l'espace supplémentaire peut être libéré.</block>
  <block id="0e70133bb418f4025b82a6a35301e209" category="section-title">Cloner une base de données de production SQL sur site vers le cloud pour la reprise après sinistre</block>
  <block id="32bfa00a92b9f85d791a43f6d70a35cd" category="list-text">De même, pour valider que la récupération du clone SQL a été exécutée via le dernier journal disponible, nous avons créé une petite table de test et inséré une ligne.  Les données de test seront récupérées après une récupération complète du dernier journal disponible.</block>
  <block id="97f3ffe7d5b98c3e08fbbbe98ebefec3" category="paragraph"><block ref="97f3ffe7d5b98c3e08fbbbe98ebefec3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3b7f1fcf93afdd055ec19e230b54347" category="list-text">Connectez-vous à SnapCenter avec un ID utilisateur de gestion de base de données pour SQL Server.  Accédez à l’onglet Ressources, qui affiche le groupe de ressources de protection SQL Server.</block>
  <block id="7b8dfadb61967ada09a2574700fb3679" category="paragraph"><block ref="7b8dfadb61967ada09a2574700fb3679" category="inline-image-macro-rx" type="image"></block></block>
  <block id="608bfa3334f97023b71f6b7a04742bd6" category="list-text">Exécutez manuellement une sauvegarde du journal pour vider la dernière transaction à répliquer vers le stockage secondaire dans le cloud public.</block>
  <block id="3731796124724265e7056364fe97de49" category="paragraph"><block ref="3731796124724265e7056364fe97de49" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9b9ced1d8d8e91eb2606cb7d0932fa4" category="list-text">Sélectionnez la dernière sauvegarde complète de SQL Server pour le clone.</block>
  <block id="4f9447b8f96dd4e69d5420903d0ff31e" category="paragraph"><block ref="4f9447b8f96dd4e69d5420903d0ff31e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="82efcc579f2220a65dbe5cdd64f47253" category="list-text">Définissez les paramètres de clonage tels que le serveur de clonage, l'instance de clonage, le nom de clonage et l'option de montage.  L'emplacement de stockage secondaire où le clonage est effectué est renseigné automatiquement.</block>
  <block id="660b4652e7cc7126e9a114258a40d467" category="paragraph"><block ref="660b4652e7cc7126e9a114258a40d467" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9d84ecf0ed314694d6e3ad9b2a96a198" category="list-text">Sélectionnez toutes les sauvegardes de journaux à appliquer.</block>
  <block id="e91ab26b6566811aeea0708c6e5c268b" category="paragraph"><block ref="e91ab26b6566811aeea0708c6e5c268b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f68fbd76be71ebe267aa207f7bef25f" category="list-text">Spécifiez les scripts facultatifs à exécuter avant ou après le clonage.</block>
  <block id="5b889c873c8e5957d9b60e72df5c2dc7" category="paragraph"><block ref="5b889c873c8e5957d9b60e72df5c2dc7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ac43ede08a0b7154673a619b979f17d" category="list-text">Spécifiez un serveur SMTP si une notification par e-mail est souhaitée.</block>
  <block id="0cf1d9b1b5d8d0430cc2f17eb75e61ee" category="paragraph"><block ref="0cf1d9b1b5d8d0430cc2f17eb75e61ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7338d3af995c4a281de85493129cc18" category="list-text">Résumé du clone DR.  Les bases de données clonées sont immédiatement enregistrées auprès de SnapCenter et disponibles pour la protection de sauvegarde.</block>
  <block id="24ea5f6304d78943cb64b7203c62375b" category="paragraph"><block ref="24ea5f6304d78943cb64b7203c62375b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15f7959b68f914a689bc1bd410c1587a" category="paragraph"><block ref="15f7959b68f914a689bc1bd410c1587a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f01a56e31a650c5bb83408b5238270e" category="section-title">Validation et configuration du clone post-DR pour SQL</block>
  <block id="029640b7bf09578f05703e407e99b8d7" category="list-text">Surveiller l'état du travail de clonage.</block>
  <block id="9b2bc9accae58c4c3564ab1782a3460e" category="paragraph"><block ref="9b2bc9accae58c4c3564ab1782a3460e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="68236fcee9bee8dbdc1c54b7b2d84b34" category="list-text">Validez que la dernière transaction a été répliquée et récupérée avec tous les clones de fichiers journaux et la récupération.</block>
  <block id="84796a21de5593c952d0ae1c4869387f" category="paragraph"><block ref="84796a21de5593c952d0ae1c4869387f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="50159c53d6f87eb33c314abd9f0bd28f" category="list-text">Configurez un nouveau répertoire de journaux SnapCenter sur le serveur DR pour la sauvegarde des journaux SQL Server.</block>
  <block id="50f8c30e062c542679b96127a844db6a" category="paragraph">Si vous avez besoin d'aide avec cette solution et ces cas d'utilisation, veuillez rejoindre le<block ref="f9456f3b54a140d5d3858823c684363f" category="inline-link-macro-rx"></block> et recherchez le canal solution-automatisation pour poster vos questions ou demandes de renseignements.</block>
  <block id="d89002d36151bd13d2bba69f3533ee5f" category="summary">Cette solution fournit aux clients et aux équipes de terrain de NetApp des instructions et des conseils pour la configuration, l'exploitation et la migration de bases de données vers un environnement de cloud hybride à l'aide de l'outil basé sur l'interface graphique utilisateur NetApp SnapCenter et du service de stockage NetApp CVO dans les clouds publics.</block>
  <block id="8269707c3930f3cbcd49193be33bc125" category="doc">TR-4908 : Présentation des solutions de bases de données cloud hybrides avec SnapCenter</block>
  <block id="7c4d94e1b484fb577b0aeafbec788ea1" category="paragraph">Alan Cao, Félix Melligan, NetApp</block>
  <block id="268a30b4d0cad062acd42967ce0fab50" category="paragraph">Cette solution fournit aux clients et aux équipes terrain de NetApp des instructions et des conseils pour la configuration, l'exploitation et la migration de bases de données vers un environnement de cloud hybride à l'aide de l'outil basé sur l'interface graphique utilisateur NetApp SnapCenter et du service de stockage NetApp CVO dans les clouds publics pour les cas d'utilisation suivants :</block>
  <block id="e88a2467c8ad8bf481854b1a745a875b" category="list-text">Opérations de développement et de test de bases de données dans le cloud hybride</block>
  <block id="3c9552536897a076f75b078a5e2a3703" category="list-text">Reprise après sinistre de la base de données dans le cloud hybride</block>
  <block id="a1ac690c228caf22f3228d3a4d8b5cab" category="paragraph">Aujourd’hui, de nombreuses bases de données d’entreprise résident encore dans des centres de données d’entreprise privés pour des raisons de performances, de sécurité et/ou autres.  Cette solution de base de données cloud hybride permet aux entreprises d'exploiter leurs bases de données principales sur site tout en utilisant un cloud public pour les opérations de base de données de développement/test ainsi que pour la reprise après sinistre afin de réduire les coûts de licence et d'exploitation.</block>
  <block id="d900d125b3be40bcb79452d624c38561" category="paragraph">De nombreuses bases de données d’entreprise, telles qu’Oracle, SQL Server, SAP HANA, etc., entraînent des coûts de licence et d’exploitation élevés.  De nombreux clients paient des frais de licence uniques ainsi que des coûts de support annuels en fonction du nombre de cœurs de calcul dans leur environnement de base de données, que les cœurs soient utilisés pour le développement, les tests, la production ou la reprise après sinistre.  Il est possible que bon nombre de ces environnements ne soient pas pleinement utilisés tout au long du cycle de vie de l’application.</block>
  <block id="1f49cc83c5c3735827e3353f320f5f7f" category="paragraph">Les solutions offrent aux clients la possibilité de réduire potentiellement le nombre de cœurs sous licence en déplaçant leurs environnements de base de données dédiés au développement, aux tests ou à la reprise après sinistre vers le cloud.  En utilisant l'évolutivité du cloud public, la redondance, la haute disponibilité et un modèle de facturation basé sur la consommation, les économies de coûts en matière de licences et d'exploitation peuvent être substantielles, sans sacrifier la convivialité ou la disponibilité des applications.</block>
  <block id="1a197dd926608052c7d43edfd09556fa" category="paragraph">Au-delà des économies potentielles sur les coûts de licence de base de données, le modèle de licence CVO basé sur la capacité de NetApp permet aux clients de réduire les coûts de stockage par Go tout en leur offrant un niveau élevé de gestion de base de données qui n'est pas disponible auprès des services de stockage concurrents.  Le graphique suivant présente une comparaison des coûts de stockage des services de stockage populaires disponibles dans le cloud public.</block>
  <block id="67fdaeebde7240c6e8407fc841b36c97" category="paragraph"><block ref="67fdaeebde7240c6e8407fc841b36c97" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e222eb27a0002f2960d1cf1e14bbf7d" category="paragraph">Cette solution démontre qu'en utilisant l'outil logiciel basé sur l'interface graphique SnapCenter et la technologie NetApp SnapMirror , les opérations de base de données cloud hybride peuvent être facilement configurées, mises en œuvre et exploitées.</block>
  <block id="26cc8c416b5c9fd6bec3dc68e6f2f0c8" category="paragraph">Les vidéos suivantes montrent SnapCenter en action :</block>
  <block id="edc6673fe24c4867029921bbe72f25cb" category="inline-link">Sauvegarde d'une base de données Oracle sur un cloud hybride à l'aide de SnapCenter</block>
  <block id="07f8a38c412c09341d1deed9b406043b" category="list-text"><block ref="7b45d70be3a7543eb942cb9a903fbe9c" category="inline-link-rx"></block></block>
  <block id="68d9033a95c0ed286c9b7e0e7454cd86" category="inline-link">SnapCenter- Cloner DEV/TEST vers AWS Cloud pour une base de données Oracle</block>
  <block id="74334272f82b4ca436609109dc29dd1f" category="list-text"><block ref="74334272f82b4ca436609109dc29dd1f" category="inline-link-rx"></block></block>
  <block id="3b04263461ad5a7b57aa872e093ec9fa" category="paragraph">Il est à noter que, bien que les illustrations de ce document présentent CVO comme une instance de stockage cible dans le cloud public, la solution est également entièrement validée pour la nouvelle version du moteur de stockage FSx ONTAP pour AWS.</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">Mentions légales</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">Les mentions légales donnent accès aux déclarations de droits d'auteur, aux marques déposées, aux brevets et bien plus encore.</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">Copyright</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">Marques de commerce</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NETAPP, le logo NETAPP et les marques répertoriées sur la page Marques NetApp sont des marques commerciales de NetApp, Inc. Les autres noms de sociétés et de produits peuvent être des marques commerciales de leurs propriétaires respectifs.</block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">Brevets</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">Une liste actuelle des brevets détenus par NetApp est disponible à l'adresse suivante :</block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">Politique de confidentialité</block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="9ebab86841aaf8d1142cbc9de846ef74" category="summary">Cet exemple de cas d'utilisation client réel illustre les défis, les solutions et les résultats de la migration des charges de travail du serveur SQL sur site vers Amazon FSx ONTAP afin de réduire les coûts.</block>
  <block id="2bb6aceca76309fe8dc1a391905a7797" category="doc">Une entreprise de produits médicaux migre sa charge de travail SQL sur site vers Amazon FSx ONTAP pour réduire ses coûts</block>
  <block id="2899245ece0617ff86d6db5902b5cab9" category="section-title">Le défi</block>
  <block id="ddeb1059d99575170dd0449c38543c71" category="list-text">Le client exécutait des charges de travail SQL Server dans un centre de données privé hébergé par un tiers.  L’augmentation du coût de l’hébergement était devenue un problème.</block>
  <block id="8af70440008c2e1ffe209a0fdf859d92" category="list-text">Il manquait de connaissances tribales sur l’architecture des applications et l’infrastructure existante en raison de l’externalisation et de l’attrition des employés.</block>
  <block id="67c4c601210dd1946cf613171fc89e20" category="list-text">Il avait peu ou pas d’expérience dans la gestion de NetApp ONTAP.</block>
  <block id="e95bdcab85ffd6873d2f0650e693f95e" category="list-text">Le projet est soumis à un calendrier serré avant de prendre une décision concernant le renouvellement des infrastructures existantes.</block>
  <block id="a53f8ff0145160d09034dc91d7044cd4" category="list-text">L'environnement SQL Server est vaste (100 To) et complexe avec HA entre deux centres de données via SQL Always On.  Trois environnements transitoires créés à partir d'une copie de données secondaires à l'aide d'AppSync et de données actualisées quotidiennement/hebdomadairement.  Modifications d'indicateur de données dédiées requises via des scripts SQL après chaque actualisation à partir des données de production.</block>
  <block id="215ffdc2154202bc8e4ac019a43864a7" category="inline-image-macro">Cette image fournit une image détaillée de la configuration de l'environnement client avant la migration.</block>
  <block id="83cc4b36f66d6b47819e8171dd075a36" category="paragraph"><block ref="83cc4b36f66d6b47819e8171dd075a36" category="inline-image-macro-rx" type="image"></block></block>
  <block id="34e74b1c7f4aad91715567cf698912f6" category="section-title">La solution</block>
  <block id="4215ca268463517d967ef74b6bede3eb" category="list-text">Migration depuis un environnement SAN Dell Unity et AppSync hébergé sur site vers AWS Amazon FSx ONTAP avec NetApp SnapCenter.</block>
  <block id="e9c661df21b993c0b7b63dce6feec2e3" category="list-text">La capacité de clonage léger Amazon FSx ONTAP permet de réduire les coûts de stockage tandis que la gestion entièrement automatisée du cycle de vie du clone SnapCenter répond à toutes les autres exigences de l'environnement transitoire.</block>
  <block id="d5410f927ed71956aafce5a6dc3305ac" category="list-text">Base de données SQL Server principale déployée sur AWS EBS et copie secondaire répliquée sur Single-AZ Amazon FSx ONTAP.</block>
  <block id="c2aa7a0b885e6095c021fd891708f12b" category="list-text">La preuve de concept a prouvé que SnapCenter était un remplacement approprié pour AppSync.</block>
  <block id="36ee31347df2745629bdc9ab076623bd" category="list-text">Des partenaires de confiance et expérimentés pour la configuration, la migration et l'assistance continue.  Des guides détaillés de mise en œuvre de solutions ont aidé les utilisateurs novices et inexpérimentés Amazon FSx ONTAP et de SnapCenter .</block>
  <block id="e6167a9415ddc0e437b76be36ead0fd9" category="inline-image-macro">Cette image fournit une image détaillée de la configuration de l'environnement client après la migration.</block>
  <block id="144ee0753661798d189f7b8edfba5d5d" category="paragraph"><block ref="144ee0753661798d189f7b8edfba5d5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="037a407f2bcb6f735326c14ce45a0e3c" category="section-title">Le résultat</block>
  <block id="4894e924def080453ae046c515553627" category="list-text">40 % de réduction des coûts par rapport à l'hébergement continu sur un centre de données privé.</block>
  <block id="afb5ca9be54e0c53d05b5291ae88d538" category="list-text">Service Amazon FSx ONTAP entièrement géré avec SnapCenter pour prendre en charge 300 clients.</block>
  <block id="411edfad09596c7d8c36ef9644cd895e" category="list-text">Maintien de la capacité d'automatiser des clones provisionnés de manière quasi instantanée pour les environnements de préproduction, d'UAT et d'assurance qualité.</block>
  <block id="77ddcbafb32e39924dc0ae5d8e6d9283" category="list-text">Migration dans les délais, évitement des coûts de renouvellement, passage d'une relation fournisseur insatisfaisante à une expérience enrichissante dans le cloud public.</block>
  <block id="9c65aa139183fc57fbe68058471ba5f8" category="list-text">SQL Server sur Amazon FSx a obtenu une couche supplémentaire de redondance des données tout en maintenant les performances.</block>
  <block id="4715903fd66fd676a1eadc1e2fc3c4c9" category="list-text">Possibilité d’activer facilement la reprise après sinistre interrégionale à l’avenir.</block>
  <block id="e890f04973d00c3664a44f4cc586bb5d" category="inline-link-macro">Solutions de bases de données d'entreprise NetApp</block>
  <block id="23680652f2c974bcceb7b9aa43410d20" category="paragraph">Pour en savoir plus sur les solutions de base de données d'entreprise NetApp , consultez le site Web suivant<block ref="8402f2c56712389a2706366603f539c4" category="inline-link-macro-rx"></block></block>
  <block id="3282bd4b5c29b5e9be65469e592bba18" category="doc">Moderniser votre environnement Microsoft SQL Server</block>
  <block id="69015d285622bbd074d7bccf4ea12670" category="paragraph">Optimisez vos opérations et libérez la puissance de vos données, sur site ou dans le cloud.</block>
  <block id="b5b095487ccabae138c7872353cadbe6" category="paragraph"><block ref="b5b095487ccabae138c7872353cadbe6" category="inline-link-macro-rx"></block></block>
  <block id="9ff5e34d13d41849b6450e8addb8d6b9" category="doc">TR-4923 : SQL Server sur AWS EC2 avec Amazon FSx ONTAP</block>
  <block id="5ce204e25db367dee2cd85f469afe6fe" category="paragraph">Cette solution couvre le déploiement de SQL Server sur AWS EC2 à l'aide d' Amazon FSx ONTAP.</block>
  <block id="0b79795d3efc95b9976c7c5b933afce2" category="section-title">Introduction</block>
  <block id="402f75f2702f054c16c5ca8fdd8e3d55" category="paragraph">De nombreuses entreprises qui souhaitent migrer des applications sur site vers le cloud constatent que cet effort est entravé par les différences de capacités offertes par les systèmes de stockage sur site et les services de stockage cloud.  Cet écart a rendu la migration d’applications d’entreprise telles que Microsoft SQL Server beaucoup plus problématique.  En particulier, les lacunes dans les services nécessaires à l’exécution d’une application d’entreprise, tels que les instantanés robustes, les capacités d’efficacité du stockage, la haute disponibilité, la fiabilité et les performances constantes, ont obligé les clients à faire des compromis de conception ou à renoncer à la migration des applications.  Avec FSx ONTAP, les clients n’ont plus besoin de faire de compromis.  FSx ONTAP est un service AWS natif (première partie) vendu, pris en charge, facturé et entièrement géré par AWS.  Il utilise la puissance de NetApp ONTAP pour fournir les mêmes capacités de stockage et de gestion des données de niveau entreprise que NetApp fournit sur site depuis trois décennies dans AWS en tant que service géré.</block>
  <block id="f3eec26de1c09022af7c97255f0dfee6" category="inline-link">AWS FSx ONTAP</block>
  <block id="a2f7f68476a76b6aa359589e4d201707" category="paragraph">Avec SQL Server sur les instances EC2, les administrateurs de base de données peuvent accéder et personnaliser leur environnement de base de données et le système d'exploitation sous-jacent.  Une instance SQL Server sur EC2 en combinaison avec<block ref="3f737fd84a60fb425fdcdb5cf9a593da" category="inline-link-rx"></block> pour stocker les fichiers de base de données, permet des performances élevées, une gestion des données et un chemin de migration simple et facile à l'aide de la réplication au niveau des blocs.  Par conséquent, vous pouvez exécuter votre base de données complexe sur AWS VPC avec une approche lift-and-shift simple, moins de clics et aucune conversion de schéma.</block>
  <block id="7650c209896ebc8342f9cb76784be613" category="section-title">Avantages de l'utilisation d' Amazon FSx ONTAP avec SQL Server</block>
  <block id="1543833f78776c49001619f3d53821e7" category="paragraph">Amazon FSx ONTAP est le stockage de fichiers idéal pour les déploiements SQL Server dans AWS.  Les avantages comprennent les suivants :</block>
  <block id="7b699f0e1a60e419ed7d9173339aa3f5" category="list-text">Des performances et un débit élevés et constants avec une faible latence</block>
  <block id="8a34b0f2109dd0aad0c0c9976717cdd3" category="list-text">Mise en cache intelligente avec cache NVMe pour améliorer les performances</block>
  <block id="b10e27f9d68e001b8aa9369c8d308a8c" category="list-text">Dimensionnement flexible pour que vous puissiez augmenter ou réduire la capacité, le débit et les IOP à la volée</block>
  <block id="169fee7c17564fc51aa8d2e77bcc1ce0" category="list-text">Réplication efficace des blocs sur site vers AWS</block>
  <block id="fd140f04c5bc5f51aff3ea5e1619abaf" category="list-text">L'utilisation d'iSCSI, un protocole bien connu pour l'environnement de base de données</block>
  <block id="e2c00a563e0219fd93fa6f24606dee33" category="list-text">Fonctionnalités d'efficacité du stockage telles que le provisionnement léger et les clones à empreinte zéro</block>
  <block id="4ac0316f1ba409d5cd9684222f9f8ada" category="list-text">Réduction du temps de sauvegarde de quelques heures à quelques minutes, réduisant ainsi le RTO</block>
  <block id="e3168d8a4383357a37460afad2f8878d" category="list-text">Sauvegarde et récupération granulaires des bases de données SQL avec l'interface utilisateur intuitive NetApp SnapCenter</block>
  <block id="935da11069e36e124602b7e23a73ee06" category="list-text">La possibilité d'effectuer plusieurs migrations de test avant la migration réelle</block>
  <block id="15173984ed0ff615a3f0d55c8cd12291" category="list-text">Temps d'arrêt plus courts pendant la migration et résolution des problèmes de migration grâce à une copie au niveau des fichiers ou des E/S</block>
  <block id="0de5f8d5cf18757efac074c02f16a0bb" category="list-text">Réduire le MTTR en trouvant la cause première après une version majeure ou une mise à jour de correctif</block>
  <block id="b2f6cb9b486b8f5aad81044ec7e08d84" category="paragraph">Le déploiement de bases de données SQL Server sur FSx ONTAP avec le protocole iSCSI, comme il est couramment utilisé sur site, fournit un environnement de stockage de base de données idéal avec des performances supérieures, une efficacité de stockage et des capacités de gestion des données.  En utilisant plusieurs sessions iSCSI, en supposant une taille de jeu de travail de 5 %, l'installation d'un cache Flash fournit plus de 100 000 IOP avec le service FSx ONTAP .  Cette configuration offre un contrôle complet des performances pour les applications les plus exigeantes.  SQL Server exécuté sur des instances EC2 plus petites connectées à FSx ONTAP peut effectuer la même chose que SQL Server exécuté sur une instance EC2 beaucoup plus grande, car seules les limites de bande passante réseau sont appliquées à FSx ONTAP.  La réduction de la taille des instances réduit également le coût de calcul, ce qui permet un déploiement optimisé en termes de coût total de possession.  La combinaison de SQL utilisant iSCSI, SMB3.0 avec des partages multicanaux à disponibilité continue sur FSx ONTAP offre de grands avantages pour les charges de travail SQL.</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="section-title">Avant de commencer</block>
  <block id="cefa59f4c31e5a6c2632d4b8f0c20311" category="paragraph">La combinaison d' Amazon FSx ONTAP et de SQL Server sur l'instance EC2 permet la création de conceptions de stockage de base de données au niveau de l'entreprise qui peuvent répondre aux exigences d'application les plus exigeantes d'aujourd'hui.  Pour optimiser les deux technologies, il est essentiel de comprendre les modèles et les caractéristiques d’E/S de SQL Server.  Une disposition de stockage bien conçue pour une base de données SQL Server prend en charge les performances de SQL Server et la gestion de l'infrastructure SQL Server.  Une bonne disposition du stockage permet également au déploiement initial de réussir et à l'environnement de se développer en douceur au fil du temps à mesure que votre entreprise se développe.</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">Prérequis</block>
  <block id="800d285a5a8ca10451f7ace50ac40de5" category="paragraph">Avant de suivre les étapes décrites dans ce document, vous devez disposer des prérequis suivants :</block>
  <block id="69a7abd5a400936f0e1a89910dfa0ba1" category="list-text">Un compte AWS</block>
  <block id="0ccec72ee076a52a2a36cc16443822a6" category="list-text">Rôles IAM appropriés pour provisionner EC2 et FSx ONTAP</block>
  <block id="a76b04166db341ceee35b584673698e9" category="list-text">Un domaine Windows Active Directory sur EC2</block>
  <block id="3084927119ae63d45676d527dfb4a882" category="list-text">Tous les nœuds SQL Server doivent pouvoir communiquer entre eux</block>
  <block id="b1ada0ca0559fff335d482de393b4c70" category="list-text">Assurez-vous que la résolution DNS fonctionne et que les noms d’hôtes peuvent être résolus.  Sinon, utilisez l’entrée du fichier hôte.</block>
  <block id="8413178222467ef68eb68a0644f11c42" category="list-text">Connaissances générales sur l'installation de SQL Server</block>
  <block id="9c69c1668eca3541f0576cdc7fc730f0" category="paragraph">Veuillez également vous référer aux meilleures pratiques NetApp pour les environnements SQL Server pour garantir la meilleure configuration de stockage.</block>
  <block id="49c805233b94175c188c58ebf681a2b9" category="example-title">Configurations des meilleures pratiques pour les environnements SQL Server sur EC2</block>
  <block id="d1d9da06ca1cde6106fef737b522df6e" category="paragraph">Avec FSx ONTAP, l'obtention de stockage est la tâche la plus simple et peut être effectuée en mettant à jour le système de fichiers.  Ce processus simple permet une optimisation dynamique des coûts et des performances selon les besoins, il aide à équilibrer la charge de travail SQL et constitue également un excellent outil pour le provisionnement dynamique.  Le provisionnement léger FSx ONTAP est conçu pour présenter plus de stockage logique aux instances EC2 exécutant SQL Server que ce qui est provisionné dans le système de fichiers.  Au lieu d'allouer de l'espace à l'avance, l'espace de stockage est alloué dynamiquement à chaque volume ou LUN au fur et à mesure que les données sont écrites.  Dans la plupart des configurations, l'espace libre est également libéré lorsque les données du volume ou du LUN sont supprimées (et n'est conservé par aucune copie Snapshot).  Le tableau suivant fournit les paramètres de configuration pour l’allocation dynamique du stockage.</block>
  <block id="51ac4bf63a0c6a9cefa7ba69b4154ef1" category="cell">Paramètre</block>
  <block id="254f642527b45bc260048e30704edb39" category="cell">Configuration</block>
  <block id="f65fd63b63c9e9f25bf6bc141e83de34" category="cell">Garantie de volume</block>
  <block id="db1bfba30dab4f1ed4a13cc586837f1b" category="cell">Aucun (défini par défaut)</block>
  <block id="f6445fd89b0b2c67f0304765c4c9a760" category="cell">Réservation LUN</block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="cell">Activé</block>
  <block id="f1e0735081bab920eff76b08a4600c76" category="cell">réserve fractionnaire</block>
  <block id="856ee920f3261cadbc1c3fc52171d071" category="cell">0% (défini par défaut)</block>
  <block id="99c0f62171e34b4ab6a79265f038e3af" category="cell">snap_reserve</block>
  <block id="9f1ef07877f9d85a82bd500f408b4814" category="cell">0%</block>
  <block id="a85c04491cb5bbcb534dc50b65b97530" category="cell">Suppression automatique</block>
  <block id="4ec86a7059e3d1002a06c51cbec9ad47" category="cell">volume / le plus ancien en premier</block>
  <block id="7c68df7d17c446f99304ee1dc1498bfc" category="cell">Dimensionnement automatique</block>
  <block id="521c36a31c2762741cf0f8890cbe05e3" category="cell">Disponible</block>
  <block id="902c737cbaa1a86889c41fec210c805f" category="cell">essayez_en_premier</block>
  <block id="f4c25546f220bb5d07f94244c9303967" category="cell">Auto-croissance</block>
  <block id="43c4c1dbc452be91829f25ee32c2a956" category="cell">Politique de hiérarchisation des volumes</block>
  <block id="6d576caa9862f6db0177dfaff7abb095" category="cell">Instantané uniquement</block>
  <block id="4c0abf2d4c54820b8d33061abaf30759" category="cell">Politique d'instantané</block>
  <block id="6adf97f83acf6453d4a6a4b1070f3754" category="cell">Aucune</block>
  <block id="e08a486f204620eff1a08fc926316c68" category="paragraph">Avec cette configuration, la taille totale des volumes peut être supérieure au stockage réel disponible dans le système de fichiers.  Si les LUN ou les copies Snapshot nécessitent plus d'espace que celui disponible dans le volume, les volumes augmentent automatiquement, prenant plus d'espace sur le système de fichiers contenant.  La croissance automatique permet à FSx ONTAP d'augmenter automatiquement la taille du volume jusqu'à une taille maximale que vous prédéfinissez.  Il doit y avoir de l'espace disponible dans le système de fichiers contenant pour prendre en charge la croissance automatique du volume.  Par conséquent, avec la croissance automatique activée, vous devez surveiller l'espace libre dans le système de fichiers contenant et mettre à jour le système de fichiers lorsque cela est nécessaire.</block>
  <block id="82373a2016779f9c20fdc0d8b48101a7" category="inline-link">allocation d'espace</block>
  <block id="0c1ee68ee35860bdd8687bc1c127f836" category="paragraph">Parallèlement à cela, définissez le<block ref="9d6ca3a9a42127525354c85d54adc465" category="inline-link-rx"></block> option sur LUN à activer afin que FSx ONTAP avertisse l'hôte EC2 lorsque le volume est à court d'espace et que le LUN du volume ne peut pas accepter les écritures.  De plus, cette option permet à FSx ONTAP de récupérer automatiquement de l'espace lorsque le serveur SQL sur l'hôte EC2 supprime des données.  L'option d'allocation d'espace est désactivée par défaut.</block>
  <block id="afa7be61df3527a5c4b5b7369729dfbc" category="admonition">Si un LUN à espace réservé est créé dans un volume non garanti, le LUN se comporte de la même manière qu'un LUN sans espace réservé.  Cela est dû au fait qu'un volume non garanti n'a pas d'espace à allouer au LUN ; le volume lui-même ne peut allouer de l'espace qu'au fur et à mesure de son écriture en raison de son absence de garantie.</block>
  <block id="cf18df2432b44bda18f67ef6fc93e36f" category="paragraph">Avec cette configuration, les administrateurs FSx ONTAP peuvent généralement dimensionner le volume de manière à devoir gérer et surveiller l'espace utilisé dans le LUN côté hôte et dans le système de fichiers.</block>
  <block id="3e5fc395bc0727ee4a5d50bf7852e11e" category="admonition">NetApp recommande d’utiliser un système de fichiers distinct pour les charges de travail du serveur SQL.  Si le système de fichiers est utilisé pour plusieurs applications, surveillez l'utilisation de l'espace du système de fichiers et des volumes au sein du système de fichiers pour vous assurer que les volumes ne sont pas en concurrence pour l'espace disponible.</block>
  <block id="9bc03cfd47c7deb1375b7e700fba9c1a" category="admonition">Les copies instantanées utilisées pour créer des volumes FlexClone ne sont pas supprimées par l'option de suppression automatique.</block>
  <block id="20292bb9591bce95b16e6ee1415023d3" category="admonition">Le surengagement du stockage doit être soigneusement étudié et géré pour une application critique telle que SQL Server pour laquelle même une panne minimale ne peut être tolérée.  Dans un tel cas, il est préférable de surveiller les tendances de consommation de stockage pour déterminer dans quelle mesure, le cas échéant, un surengagement est acceptable.</block>
  <block id="304d5a3dcf64bf05141ead00f7ec768a" category="paragraph">*Meilleures pratiques*</block>
  <block id="fbaad71632f1f86a6aec0eb25bf981d7" category="list-text">Pour des performances de stockage optimales, provisionnez la capacité du système de fichiers à 1,35 fois la taille totale utilisée par la base de données.</block>
  <block id="e2ec94309dce197f199c6e60cd3070eb" category="list-text">Une surveillance appropriée accompagnée d'un plan d'action efficace est nécessaire lors de l'utilisation du provisionnement léger pour éviter les temps d'arrêt des applications.</block>
  <block id="d7fbab8fe0fe681c9e815507bcdf85c8" category="list-text">Assurez-vous de définir des alertes Cloudwatch et d'autres outils de surveillance afin que les personnes soient contactées avec suffisamment de temps pour réagir lorsque le stockage est rempli.</block>
  <block id="626a89ea253e84625436538e7249e94d" category="section-title">Configurer le stockage pour SQL Server et déployer Snapcenter pour les opérations de sauvegarde, de restauration et de clonage</block>
  <block id="0a1c2236044192334a3fb3bbc0ab0dcd" category="paragraph">Pour effectuer des opérations de serveur SQL avec SnapCenter, vous devez d’abord créer des volumes et des LUN pour le serveur SQL.</block>
  <block id="0cf06bf086c162ff9027bab7f6f36c93" category="example-title">Créer des volumes et des LUN pour SQL Server</block>
  <block id="ff6ef44023084895f5f22aaf568ee0e3" category="paragraph">Pour créer des volumes et des LUN pour SQL Server, procédez comme suit :</block>
  <block id="0165fcfd32879eacf541aadf086338d2" category="list-text">Ouvrez la console Amazon FSx à<block ref="977f5adc4374191d0e48b9c0a8830158" category="inline-link-rx"></block></block>
  <block id="1e33ad7579c798ce6033c144ac99b840" category="list-text">Créez un Amazon FSx pour le système de fichiers NetApp ONTAP à l’aide de l’option Création standard sous Méthode de création.  Cela vous permet de définir les informations d'identification FSxadmin et vsadmin.</block>
  <block id="51f380869c70c40eff15cdbd4d4a6e9b" category="paragraph"><block ref="51f380869c70c40eff15cdbd4d4a6e9b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="269452df07db5e5d5fb10125ef2dfc42" category="list-text">Spécifiez le mot de passe pour fsxadmin.</block>
  <block id="3cebde7747bac9b46baf88a6b962cfc9" category="paragraph"><block ref="3cebde7747bac9b46baf88a6b962cfc9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dea5db34596930d023317e03284777e1" category="list-text">Spécifiez le mot de passe pour les SVM.</block>
  <block id="7b7fc47e17cbec35480a32f2da2a9642" category="paragraph"><block ref="7b7fc47e17cbec35480a32f2da2a9642" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2bc6640e4dfc5de2fb0076fe009c8d72" category="inline-link">Création d'un volume sur FSx ONTAP</block>
  <block id="bcfe525f1945594d4e3a18903ce33cc2" category="list-text">Créez des volumes en suivant les étapes répertoriées dans<block ref="a30412ed9707add26aa026ab621cb532" category="inline-link-rx"></block> .</block>
  <block id="1c472a7f2f4380895c82bc2ed43d727b" category="paragraph">*Meilleures pratiques*</block>
  <block id="17288ccd1a2a55fccc24e084bec74a89" category="list-text">Désactiver les planifications de copie d'instantanés de stockage et les stratégies de conservation.  Utilisez plutôt NetApp SnapCenter pour coordonner les copies Snapshot des volumes de données et de journaux SQL Server.</block>
  <block id="c5023b4b04bc0ddc3d77e81fee7d99bb" category="list-text">Configurez des bases de données sur des LUN individuels sur des volumes distincts pour tirer parti d'une fonctionnalité de restauration rapide et granulaire.</block>
  <block id="6cb174042332f6d15cedab79c1f88bac" category="list-text">Placez les fichiers de données utilisateur (.mdf) sur des volumes séparés, car il s'agit de charges de travail de lecture/écriture aléatoires.  Il est courant de créer des sauvegardes de journaux de transactions plus fréquemment que des sauvegardes de bases de données.  Pour cette raison, placez les fichiers journaux de transactions (.ldf) sur un volume distinct des fichiers de données afin que des planifications de sauvegarde indépendantes puissent être créées pour chacun.  Cette séparation isole également les E/S d’écriture séquentielles des fichiers journaux des E/S de lecture/écriture aléatoires des fichiers de données et améliore considérablement les performances de SQL Server.</block>
  <block id="0588cef8958d83f61aed452f853f5852" category="list-text">Tempdb est une base de données système utilisée par Microsoft SQL Server comme espace de travail temporaire, en particulier pour les opérations DBCC CHECKDB intensives en E/S.  Placez donc cette base de données sur un volume dédié.  Dans les environnements de grande taille où le nombre de volumes est un défi, vous pouvez consolider tempdb en moins de volumes et le stocker dans le même volume que les autres bases de données système après une planification minutieuse.  La protection des données pour tempdb n’est pas une priorité élevée car cette base de données est recréée à chaque redémarrage de Microsoft SQL Server.</block>
  <block id="0f33b537ada1b2dcb95880741120d7b6" category="list-text">Utilisez la commande SSH suivante pour créer des volumes :</block>
  <block id="4272c7e0323a62da36a59d8db2457c11" category="list-text">Démarrez le service iSCSI avec PowerShell à l’aide de privilèges élevés dans les serveurs Windows.</block>
  <block id="91d0d079f1c5a2183c1012cd2c2e59ab" category="list-text">Installez Multipath-IO avec PowerShell à l’aide de privilèges élevés dans les serveurs Windows.</block>
  <block id="4dee8d84e86540a5c4c302b3d75c32bc" category="list-text">Recherchez le nom de l’initiateur Windows avec PowerShell à l’aide de privilèges élevés dans les serveurs Windows.</block>
  <block id="31135a9096c7ec17c4591166bc97e819" category="paragraph"><block ref="31135a9096c7ec17c4591166bc97e819" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1fcce0650c7bce1532fc57b6af299dba" category="list-text">Connectez-vous aux machines virtuelles de stockage (SVM) à l’aide de Putty et créez un iGroup.</block>
  <block id="a260444f9f7265e7da0cffa861246e93" category="list-text">Utilisez la commande SSH suivante pour créer des LUN :</block>
  <block id="3d05062c53d156d602296b7fd5690b44" category="paragraph"><block ref="3d05062c53d156d602296b7fd5690b44" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52f5ef787d84b4ec1b5183cffdef5b56" category="list-text">Pour obtenir un alignement des E/S avec le schéma de partitionnement du système d’exploitation, utilisez windows_2008 comme type de LUN recommandé.  Référer<block ref="ff5fd3b71f5cd8b1a4e2fe23ad6d92ae" category="inline-link-rx"></block> pour plus d'informations.</block>
  <block id="4f10474fd5677d7f5caee5944cfd1a79" category="list-text">Utilisez la commande SSH suivante pour mapper l'igroup aux LUN que vous venez de créer.</block>
  <block id="48c4925b376ee796138447edf8c6c10b" category="paragraph"><block ref="48c4925b376ee796138447edf8c6c10b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0108f548c7bfba3ca19e227db2ad81d9" category="list-text">Pour un disque partagé qui utilise le cluster de basculement Windows, exécutez une commande SSH pour mapper le même LUN au groupe i qui appartient à tous les serveurs qui participent au cluster de basculement Windows.</block>
  <block id="88c4f29ad54bd37fb1b7a1491b7af990" category="list-text">Connectez Windows Server à un SVM avec une cible iSCSI.  Recherchez l’adresse IP cible à partir du portail AWS.</block>
  <block id="40848a1a6d2b9ff082a8631d6e227af9" category="paragraph"><block ref="40848a1a6d2b9ff082a8631d6e227af9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="df9eaa73034109b21c143e8c209823c2" category="list-text">Dans le Gestionnaire de serveur et le menu Outils, sélectionnez l’initiateur iSCSI.  Sélectionnez l’onglet Découverte, puis sélectionnez Découvrir le portail.  Fournissez l’adresse IP iSCSI de l’étape précédente et sélectionnez Avancé.  À partir de l’adaptateur local, sélectionnez Initiateur Microsoft iSCSI.  À partir de l’IP de l’initiateur, sélectionnez l’IP du serveur.  Sélectionnez ensuite OK pour fermer toutes les fenêtres.</block>
  <block id="9c801f3ce3d3624ee2295fdb5f8b4e01" category="paragraph"><block ref="9c801f3ce3d3624ee2295fdb5f8b4e01" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bd432f2fc3bb1fab0023bf42f7b4108" category="list-text">Répétez l’étape 12 pour la deuxième adresse IP iSCSI du SVM.</block>
  <block id="5648333e8838336553b385e488639863" category="list-text">Sélectionnez l'onglet *Cibles*, sélectionnez *Connecter* et sélectionnez *Activer les chemins multiples*.</block>
  <block id="ed19e435fddf6da1d807ce924c621811" category="paragraph"><block ref="ed19e435fddf6da1d807ce924c621811" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f94de8933712f5d52ca62caf7fef6eb5" category="list-text">Pour de meilleures performances, ajoutez davantage de sessions ; NetApp recommande de créer cinq sessions iSCSI.  Sélectionnez *Propriétés *&gt; *Ajouter une session *&gt; *Avancé* et répétez l'étape 12.</block>
  <block id="32ad539c2431f91a35344daadfa34149" category="paragraph"><block ref="32ad539c2431f91a35344daadfa34149" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c762aaec425b12667f2a575012e48905" category="list-text">Configurez cinq sessions iSCSI par interface cible pour des performances optimales.</block>
  <block id="72a53f90bcbaa031cad1c79575c53094" category="list-text">Configurez une stratégie de round-robin pour obtenir les meilleures performances iSCSI globales.</block>
  <block id="168b03d713c83578e3c90be8e0a76a8e" category="list-text">Assurez-vous que la taille de l'unité d'allocation est définie sur 64 Ko pour les partitions lors du formatage des LUN</block>
  <block id="a196b0bfd5261a81ff3d40a2043f792c" category="list-text">Exécutez la commande PowerShell suivante pour vous assurer que la session iSCSI est conservée.</block>
  <block id="b4f9dfe5978f567a9f00e7a1ccc10f88" category="paragraph"><block ref="b4f9dfe5978f567a9f00e7a1ccc10f88" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22ae84abced8e9e1236160d982616772" category="list-text">Initialisez les disques avec la commande PowerShell suivante.</block>
  <block id="24f0357ad0ccea6c22a1fe2518f4d211" category="paragraph"><block ref="24f0357ad0ccea6c22a1fe2518f4d211" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b1e9edc2d6e907049df14a10a6fcc404" category="list-text">Exécutez les commandes Créer une partition et Formater le disque avec PowerShell.</block>
  <block id="79484e9f2e5f0589c78f273edd80759f" category="paragraph">Vous pouvez automatiser la création de volumes et de LUN à l’aide du script PowerShell de l’annexe B. Les LUN peuvent également être créés à l’aide de SnapCenter.</block>
  <block id="d05ae24753b4098046ae8369c5618b97" category="paragraph">Une fois les volumes et les LUN définis, vous devez configurer SnapCenter pour pouvoir effectuer les opérations de base de données.</block>
  <block id="6309043436d4e7e5bad9a81c89ff15e4" category="example-title">Présentation de SnapCenter</block>
  <block id="419a08c6fdce80a29b8f8aeb7524f0e2" category="paragraph">NetApp SnapCenter est un logiciel de protection des données de nouvelle génération pour les applications d'entreprise de niveau 1.  SnapCenter, avec son interface de gestion à panneau unique, automatise et simplifie les processus manuels, complexes et chronophages associés à la sauvegarde, à la récupération et au clonage de plusieurs bases de données et autres charges de travail d'application.  SnapCenter exploite les technologies NetApp , notamment NetApp Snapshots, NetApp SnapMirror, SnapRestore et NetApp FlexClone.  Cette intégration permet aux organisations informatiques de faire évoluer leur infrastructure de stockage, de respecter des engagements SLA de plus en plus stricts et d’améliorer la productivité des administrateurs dans toute l’entreprise.</block>
  <block id="aa7c84b8a1ac7c27cbd3e14740e96214" category="example-title">Configuration requise pour le serveur SnapCenter</block>
  <block id="4ee08603c9fd8ece4f670310954cdde6" category="paragraph">Le tableau suivant répertorie la configuration minimale requise pour l’installation de SnapCenter Server et du plug-in sur Microsoft Windows Server.</block>
  <block id="05bbb43b3d923283e0b6ffafd088f41f" category="cell">Composants</block>
  <block id="9b97b7bd5e0a87be7bf218224ada83cf" category="cell">Exigence</block>
  <block id="44e5a606cb3fbfaed79ce8eb853ed886" category="paragraph">Nombre minimum de CPU</block>
  <block id="ea54f01387bc5362f6e287ba66d656a8" category="paragraph">Quatre cœurs/vCPU</block>
  <block id="4789f23283b3a61f858b641a1bef19a3" category="paragraph">Mémoire</block>
  <block id="99880291d6a6b72b928a1847a6135c88" category="paragraph">Minimum : 8 Go Recommandé : 32 Go</block>
  <block id="96e1506a8b72a455b990ffe403eea2cf" category="paragraph">Espace de stockage</block>
  <block id="39b4c2fc16a74430850f1b767f816bdd" category="paragraph">Espace minimum pour l'installation : 10 Go Espace minimum pour le référentiel : 10 Go</block>
  <block id="2e71b3fb71d89f18906d4807a6011e20" category="cell">Système d'exploitation pris en charge</block>
  <block id="00aae0645113cb861020a7a42ded48c2" category="list-text">Windows Server 2012</block>
  <block id="96bc7f42979153694e05a6a2b867772e" category="list-text">Windows Server 2012 R2</block>
  <block id="ed590cb2453f0683b64cb528f78610a2" category="list-text">Windows Server 2016</block>
  <block id="31f8757839909e87266f2b53482c86ef" category="list-text">Windows Server 2019</block>
  <block id="7c01fa88a74580e7e4f62ca6bfe7ee83" category="cell">Progiciels</block>
  <block id="aab81d3c2e898a19cf0f270cdb285a21" category="list-text">.NET 4.5.2 ou version ultérieure</block>
  <block id="43de0ba571a51d1adc60e6d05ecf8d70" category="list-text">Windows Management Framework (WMF) 4.0 ou version ultérieure</block>
  <block id="fd6133b32592ca288e63c1b1257f656d" category="list-text">PowerShell 4.0 ou version ultérieure</block>
  <block id="627b3c41fe5df988246e05db6908af86" category="inline-link-macro">exigences d'espace et de dimensionnement</block>
  <block id="182f4f46a2b148fe3842ce5e12def358" category="paragraph">Pour des informations détaillées, reportez-vous à<block ref="bab1d0c00645b2d02bb11c94e55012b0" category="inline-link-macro-rx"></block> .</block>
  <block id="9ed4a475dd3705157a9fed8811f63ce2" category="inline-link">Outil de matrice d'interopérabilité NetApp</block>
  <block id="a19fb58a9ea7e8409b13e971960fdbf8" category="paragraph">Pour la compatibilité des versions, voir le<block ref="b7322bec4509d45107de6de43ca1f517" category="inline-link-rx"></block> .</block>
  <block id="00324c8ea6b2abc68414748e587e15ec" category="example-title">Disposition du stockage de la base de données</block>
  <block id="a02dce187534c84aa16d8849406a60eb" category="paragraph">La figure suivante illustre certaines considérations pour la création de la disposition de stockage de la base de données Microsoft SQL Server lors de la sauvegarde avec SnapCenter.</block>
  <block id="fdc770458695fd7759d6b148f5ebca57" category="paragraph"><block ref="fdc770458695fd7759d6b148f5ebca57" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ebfae4b9e090c4988616a73ffc71415e" category="list-text">Placez les bases de données avec des requêtes gourmandes en E/S ou avec une taille de base de données importante (par exemple 500 Go ou plus) sur un volume séparé pour une récupération plus rapide.  Ce volume doit également être sauvegardé par des tâches distinctes.</block>
  <block id="4916b57b0128fd5a0a4300f0a8763292" category="list-text">Consolidez les bases de données de petite à moyenne taille qui sont moins critiques ou qui ont moins d’exigences d’E/S sur un seul volume.  La sauvegarde d'un grand nombre de bases de données résidant dans le même volume entraîne une diminution du nombre de copies Snapshot à conserver.  Il est également recommandé de consolider les instances Microsoft SQL Server afin d’utiliser les mêmes volumes pour contrôler le nombre de copies de snapshots de sauvegarde effectuées.</block>
  <block id="8db6b23eddd61aa572ca93a39703d4a8" category="list-text">Créez des LUN distincts pour stocker les fichiers liés au texte intégral et les fichiers liés au streaming de fichiers.</block>
  <block id="cb11fd215e0c541cb65535e582b9b273" category="list-text">Attribuez des LUN distincts par hôte pour stocker les sauvegardes de journaux Microsoft SQL Server.</block>
  <block id="48b8325fd70d83c2d4e99987e23b07ef" category="list-text">Les bases de données système qui stockent la configuration des métadonnées du serveur de base de données et les détails des tâches ne sont pas mises à jour fréquemment.  Placez les bases de données système/tempdb sur des lecteurs ou des LUN séparés.  Ne placez pas les bases de données système dans le même volume que les bases de données utilisateur.  Les bases de données utilisateur ont une politique de sauvegarde différente et la fréquence de sauvegarde de la base de données utilisateur n'est pas la même pour les bases de données système.</block>
  <block id="1be01a12dc77b3099b16d258c12db3f9" category="list-text">Pour la configuration du groupe de disponibilité Microsoft SQL Server, placez les fichiers de données et les fichiers journaux des réplicas dans une structure de dossiers identique sur tous les nœuds.</block>
  <block id="a586cfc38b79b6539a9723b4d2f5af66" category="paragraph">Outre l'avantage de performance que représente la séparation de la disposition de la base de données utilisateur en différents volumes, la base de données affecte également de manière significative le temps nécessaire à la sauvegarde et à la restauration.  Le fait de disposer de volumes séparés pour les données et les fichiers journaux améliore considérablement le temps de restauration par rapport à un volume hébergeant plusieurs fichiers de données utilisateur.  De même, les bases de données utilisateur avec une application à forte intensité d’E/S sont sujettes à une augmentation du temps de sauvegarde.  Une explication plus détaillée sur les pratiques de sauvegarde et de restauration est fournie plus loin dans ce document.</block>
  <block id="ded063089a7be685811c0ae13b02874f" category="admonition">À partir de SQL Server 2012 (11.x), les bases de données système (Master, Model, MSDB et TempDB) et les bases de données utilisateur du moteur de base de données peuvent être installées avec un serveur de fichiers SMB comme option de stockage.  Cela s’applique aux installations SQL Server autonomes et aux installations de cluster de basculement SQL Server.  Cela vous permet d'utiliser FSx ONTAP avec toutes ses fonctionnalités de gestion des performances et des données, y compris la capacité de volume, l'évolutivité des performances et les fonctionnalités de protection des données, dont SQL Server peut tirer parti.  Les partages utilisés par les serveurs d'applications doivent être configurés avec l'ensemble de propriétés disponibles en continu et le volume doit être créé avec le style de sécurité NTFS.  NetApp Snapcenter ne peut pas être utilisé avec des bases de données placées sur des partages SMB à partir de FSx ONTAP.</block>
  <block id="9e45010900186b3cbbe04f954a6f3562" category="admonition">Pour les bases de données SQL Server qui n’utilisent pas SnapCenter pour effectuer des sauvegardes, Microsoft recommande de placer les données et les fichiers journaux sur des lecteurs distincts.  Pour les applications qui mettent à jour et demandent simultanément des données, le fichier journal nécessite beaucoup d'écriture et le fichier de données (selon votre application) nécessite beaucoup de lecture/écriture.  Pour la récupération des données, le fichier journal n'est pas nécessaire.  Par conséquent, les demandes de données peuvent être satisfaites à partir du fichier de données placé sur son propre lecteur.</block>
  <block id="41a264a984b034248073a80093913e60" category="admonition">Lorsque vous créez une nouvelle base de données, Microsoft recommande de spécifier des lecteurs distincts pour les données et les journaux.  Pour déplacer des fichiers après la création de la base de données, celle-ci doit être mise hors ligne.  Pour plus de recommandations Microsoft, consultez Placer les données et les fichiers journaux sur des lecteurs distincts.</block>
  <block id="f4ea2029dd0e694cde33838315883930" category="example-title">Installation et configuration de SnapCenter</block>
  <block id="1155d165aa176b6275b67036497cd8e6" category="inline-link">Installation du plug-in SnapCenter pour Microsoft SQL Server</block>
  <block id="067f687182a68fccec4a3840e67fc889" category="paragraph">Suivez le<block ref="4144149cc24a91f915be2d3b14f23c22" category="inline-link-rx"></block> et<block ref="7e24f6ba39e2c63512c07f20cb1a71c0" category="inline-link-rx"></block> pour installer et configurer SnapCenter.</block>
  <block id="3ab2ad2898088a813669db2948590562" category="paragraph">Après avoir installé SnapCenter, procédez comme suit pour le configurer.</block>
  <block id="dd0c654d5a8ede80984b9526335bddc9" category="list-text">Pour configurer les informations d’identification, sélectionnez *Paramètres* &gt; *Nouveau*, puis saisissez les informations d’identification.</block>
  <block id="72fbc6e5252af995615620a70fc2f714" category="paragraph"><block ref="72fbc6e5252af995615620a70fc2f714" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f68e2f9e3be05e4ced40099aec5493d4" category="list-text">Ajoutez le système de stockage en sélectionnant Systèmes de stockage &gt; Nouveau et fournissez les informations de stockage FSx ONTAP appropriées.</block>
  <block id="8c20ebf197669dd9077f7b860fca81da" category="paragraph"><block ref="8c20ebf197669dd9077f7b860fca81da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c0e0b904d3c7826b806c48118543142c" category="list-text">Ajoutez des hôtes en sélectionnant *Hôtes* &gt; *Ajouter*, puis fournissez les informations sur l'hôte.  SnapCenter installe automatiquement le plug-in Windows et SQL Server. Ce processus peut prendre un certain temps.</block>
  <block id="d3094f6fccd0bceb835738c86127b158" category="paragraph"><block ref="d3094f6fccd0bceb835738c86127b158" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23dd2805cf2d7b26334d0678ab4e99b4" category="paragraph">Une fois tous les plug-ins installés, vous devez configurer le répertoire du journal.  Il s’agit de l’emplacement où réside la sauvegarde du journal des transactions.  Vous pouvez configurer le répertoire des journaux en sélectionnant l'hôte, puis en sélectionnant configurer le répertoire des journaux.</block>
  <block id="5c5fb88ff793d01c8b1a283f1ee88749" category="admonition">SnapCenter utilise un répertoire de journaux d'hôtes pour stocker les données de sauvegarde du journal des transactions.  Cela se produit au niveau de l'hôte et de l'instance.  Chaque hôte SQL Server utilisé par SnapCenter doit disposer d'un répertoire de journaux d'hôte configuré pour effectuer des sauvegardes de journaux.  SnapCenter dispose d'un référentiel de base de données. Les métadonnées liées aux opérations de sauvegarde, de restauration ou de clonage sont donc stockées dans un référentiel de base de données central.</block>
  <block id="0fc057cb39ba1a444dbc365c0161d31f" category="paragraph">La taille du répertoire du journal de l'hôte est calculée comme suit :</block>
  <block id="e067558831f8381f0970051292e0a02a" category="paragraph">Taille du répertoire du journal de l'hôte = ((taille de la base de données système + (taille maximale du LDF de la base de données × taux de modification quotidien du journal %)) × (rétention de la copie des instantanés) ÷ (1 – espace de surcharge LUN %)</block>
  <block id="1b5bc043867e6da78577571c1070e56a" category="paragraph">La formule de dimensionnement du répertoire du journal de l'hôte suppose ce qui suit :</block>
  <block id="fa7afec3a90f55ad9aea3b76f336302f" category="list-text">Une sauvegarde de base de données système qui n'inclut pas la base de données tempdb</block>
  <block id="f550013c290c4a21af7974f7440d758a" category="list-text">Un espace de surcharge LUN de 10 %Placez le répertoire du journal de l'hôte sur un volume dédié ou un LUN.  La quantité de données dans le répertoire du journal de l'hôte dépend de la taille des sauvegardes et du nombre de jours pendant lesquels les sauvegardes sont conservées.</block>
  <block id="4a49b3d7ae0cb7741886ac9a4bb593cc" category="paragraph"><block ref="4a49b3d7ae0cb7741886ac9a4bb593cc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd9dfb7fc6f502e70f86a8c1f2d66aa1" category="paragraph">Si les LUN ont déjà été provisionnés, vous pouvez sélectionner le point de montage pour représenter le répertoire du journal de l'hôte.</block>
  <block id="9ce41ca9b58cd2f37beee344ca0d8d3d" category="paragraph"><block ref="9ce41ca9b58cd2f37beee344ca0d8d3d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9a708f2af7ec6f7c7ae489cca832c811" category="paragraph">Vous êtes maintenant prêt à effectuer des opérations de sauvegarde, de restauration et de clonage pour SQL Server.</block>
  <block id="7bfeafaf85908b711b618c069c66e99c" category="example-title">Sauvegarde de la base de données avec SnapCenter</block>
  <block id="fc197cb26aec21d091eb6791c0d7cbff" category="paragraph">Après avoir placé la base de données et les fichiers journaux sur les LUN FSx ONTAP , SnapCenter peut être utilisé pour sauvegarder les bases de données.  Les processus suivants sont utilisés pour créer une sauvegarde complète.</block>
  <block id="f52f437d3282493fd1855bba366c482a" category="list-text">En termes SnapCenter , le RPO peut être identifié comme la fréquence de sauvegarde, par exemple, la fréquence à laquelle vous souhaitez planifier la sauvegarde afin de réduire la perte de données à quelques minutes.  SnapCenter vous permet de planifier des sauvegardes aussi fréquemment que toutes les cinq minutes.  Cependant, il peut y avoir quelques cas dans lesquels une sauvegarde ne peut pas être terminée dans les cinq minutes pendant les heures de pointe de transaction ou lorsque le taux de changement des données est plus élevé dans le temps imparti.  Une bonne pratique consiste à planifier des sauvegardes fréquentes du journal des transactions plutôt que des sauvegardes complètes.</block>
  <block id="7b99ea666dfc26516833c088400741e6" category="list-text">Il existe de nombreuses approches pour gérer le RPO et le RTO.  Une alternative à cette approche de sauvegarde consiste à avoir des politiques de sauvegarde distinctes pour les données et les journaux avec des intervalles différents.  Par exemple, à partir de SnapCenter, planifiez des sauvegardes de journaux à des intervalles de 15 minutes et des sauvegardes de données à des intervalles de 6 heures.</block>
  <block id="14b0febccc904523871b9498c72ab705" category="list-text">Utilisez un groupe de ressources pour une configuration de sauvegarde pour l’optimisation des snapshots et le nombre de tâches à gérer.</block>
  <block id="45be64dc5372d4c03684e301633c794c" category="list-text">Sélectionnez *Ressources*, puis sélectionnez *Microsoft SQL Server *dans le menu déroulant en haut à gauche.  Sélectionnez *Actualiser les ressources*.</block>
  <block id="3759f5820f94130af2af9c26b6206ccd" category="paragraph"><block ref="3759f5820f94130af2af9c26b6206ccd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="92a02c3e922aecfbb22227bc7a4f73e8" category="list-text">Sélectionnez la base de données à sauvegarder, puis sélectionnez *Suivant* et (**) pour ajouter la politique si aucune n'a été créée.  Suivez la *Nouvelle politique de sauvegarde SQL Server* pour créer une nouvelle politique.</block>
  <block id="e83a19b8756179126d10e0db8cccf50f" category="paragraph"><block ref="e83a19b8756179126d10e0db8cccf50f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="89f2e11b6c9317605c01622834d4853d" category="list-text">Sélectionnez le serveur de vérification si nécessaire.  Ce serveur est le serveur sur lequel SnapCenter exécute DBCC CHECKDB après la création d'une sauvegarde complète.  Cliquez sur *Suivant* pour recevoir une notification, puis sélectionnez *Résumé* pour consulter.  Après avoir vérifié, cliquez sur *Terminer*.</block>
  <block id="8a6ec4fc9aaca6d859fcc918fbf4666c" category="paragraph"><block ref="8a6ec4fc9aaca6d859fcc918fbf4666c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="919295932fd1084fb39c4a1be23b37ed" category="list-text">Cliquez sur *Sauvegarder maintenant* pour tester la sauvegarde.  Dans les fenêtres contextuelles, sélectionnez *Sauvegarde*.</block>
  <block id="4fdbd7cb3dda43c8f112fe494ea07e02" category="paragraph"><block ref="4fdbd7cb3dda43c8f112fe494ea07e02" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9c738a74e68034a98f4a38a1b41ef2d4" category="list-text">Sélectionnez *Surveiller* pour vérifier que la sauvegarde a été effectuée.</block>
  <block id="b6ed04e6bbbfb4b7b238fe5b3761150d" category="paragraph"><block ref="b6ed04e6bbbfb4b7b238fe5b3761150d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67459542a38abe56e00d4512bb475f05" category="list-text">Sauvegardez le journal des transactions à partir de SnapCenter afin que pendant le processus de restauration, SnapCenter puisse lire tous les fichiers de sauvegarde et les restaurer automatiquement en séquence.</block>
  <block id="54d8d459dfb725a307f3bb54495de3e3" category="list-text">Si des produits tiers sont utilisés pour la sauvegarde, sélectionnez Copier la sauvegarde dans SnapCenter pour éviter les problèmes de séquence de journaux et testez la fonctionnalité de restauration avant de passer en production.</block>
  <block id="83b7215bcd7cc73d11f34b95b4026718" category="example-title">Restaurer la base de données avec SnapCenter</block>
  <block id="7172cc34c1510c3891870c7c009c94e1" category="paragraph">L’un des principaux avantages de l’utilisation de FSx ONTAP avec SQL Server sur EC2 est sa capacité à effectuer une restauration rapide et granulaire à chaque niveau de base de données.</block>
  <block id="5afcacb3783eeead2b5317d1c455b3bc" category="paragraph">Suivez les étapes suivantes pour restaurer une base de données individuelle à un moment précis ou à la minute près avec SnapCenter.</block>
  <block id="a028f8b44f91b1338df98ed3237d093a" category="list-text">Sélectionnez Ressources, puis sélectionnez la base de données que vous souhaitez restaurer.</block>
  <block id="2aaf91b17a6f6726032133885004282f" category="paragraph"><block ref="2aaf91b17a6f6726032133885004282f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eb395b310e199ca7ef6b36360302bc50" category="list-text">Sélectionnez le nom de la sauvegarde à partir de laquelle la base de données doit être restaurée, puis sélectionnez Restaurer.</block>
  <block id="e99d25ac3998e8701f51a1990c8d8785" category="list-text">Suivez les fenêtres contextuelles *Restaurer* pour restaurer la base de données.</block>
  <block id="8bdb6d6fe719d2506b9b5f86bda88b43" category="list-text">Sélectionnez *Surveiller* pour vérifier que le processus de restauration a réussi.</block>
  <block id="ab1acae42a89132d0dc0e18db99db938" category="paragraph"><block ref="ab1acae42a89132d0dc0e18db99db938" category="inline-image-macro-rx" type="image"></block></block>
  <block id="459c0a4ca065bbbedc6304d4c6903cc5" category="example-title">Considérations pour une instance avec un grand nombre de bases de données de petite à grande taille</block>
  <block id="0be8a2d7e2996a1641824fa4250d2fd3" category="paragraph">SnapCenter peut sauvegarder un grand nombre de bases de données volumineuses dans une instance ou un groupe d'instances au sein d'un groupe de ressources.  La taille d’une base de données n’est pas le facteur principal du temps de sauvegarde.  La durée d'une sauvegarde peut varier en fonction du nombre de LUN par volume, de la charge sur Microsoft SQL Server, du nombre total de bases de données par instance et, plus précisément, de la bande passante et de l'utilisation des E/S.  Lors de la configuration de la stratégie de sauvegarde des bases de données à partir d'une instance ou d'un groupe de ressources, NetApp recommande de limiter le nombre maximal de bases de données sauvegardées par copie Snapshot à 100 par hôte.  Assurez-vous que le nombre total de copies Snapshot ne dépasse pas la limite de 1 023 copies.</block>
  <block id="33f3c567c61942e461392756abce64dc" category="paragraph">NetApp recommande également de limiter les tâches de sauvegarde exécutées en parallèle en regroupant le nombre de bases de données au lieu de créer plusieurs tâches pour chaque base de données ou instance.  Pour des performances optimales de la durée de sauvegarde, réduisez le nombre de tâches de sauvegarde à un nombre capable de sauvegarder environ 100 bases de données ou moins à la fois.</block>
  <block id="ea2e6af969539b040884e9a2ec1fcb49" category="paragraph">Comme mentionné précédemment, l’utilisation des E/S est un facteur important dans le processus de sauvegarde.  Le processus de sauvegarde doit attendre que toutes les opérations d'E/S sur une base de données soient terminées.  Les bases de données avec des opérations d'E/S très intensives doivent être reportées à une autre heure de sauvegarde ou doivent être isolées des autres tâches de sauvegarde pour éviter d'affecter d'autres ressources au sein du même groupe de ressources qui doivent être sauvegardées.</block>
  <block id="e5ad8f936997e1328b1b169bf5c6cc8b" category="paragraph">Pour un environnement comportant six hôtes Microsoft SQL Server hébergeant 200 bases de données par instance, en supposant quatre LUN par hôte et un LUN par volume créé, définissez la stratégie de sauvegarde complète avec le nombre maximal de bases de données sauvegardées par copie instantanée sur 100.  Deux cents bases de données sur chaque instance sont disposées sous forme de 200 fichiers de données répartis de manière égale sur deux LUN, et 200 fichiers journaux sont répartis de manière égale sur deux LUN, soit 100 fichiers par LUN par volume.</block>
  <block id="7804dbf4b7a37ec699db9a31f21bbea7" category="paragraph">Planifiez trois tâches de sauvegarde en créant trois groupes de ressources, chacun regroupant deux instances incluant un total de 400 bases de données.</block>
  <block id="e2ba702320599667af2b18f0fad307e0" category="paragraph">L’exécution des trois tâches de sauvegarde en parallèle permet de sauvegarder 1 200 bases de données simultanément.  En fonction de la charge sur le serveur et de l'utilisation des E/S, l'heure de début et de fin de chaque instance peut varier.  Dans ce cas, un total de 24 copies Snapshot sont créées.</block>
  <block id="2d0d5c636161f9ca31c8ffbfa5ee5d7c" category="paragraph">En plus de la sauvegarde complète, NetApp recommande de configurer une sauvegarde du journal des transactions pour les bases de données critiques.  Assurez-vous que la propriété de la base de données est définie sur le modèle de récupération complète.</block>
  <block id="aac1148375449745ddbbe1709a2375f5" category="list-text">N'incluez pas la base de données tempdb dans une sauvegarde car les données qu'elle contient sont temporaires.  Placez tempdb sur un LUN ou un partage SMB qui se trouve dans un volume de système de stockage dans lequel les copies Snapshot ne seront pas créées.</block>
  <block id="16c5de1581b82a1f8657a3a98ac8fd34" category="list-text">Une instance Microsoft SQL Server avec une application à forte intensité d'E/S doit être isolée dans une tâche de sauvegarde différente pour réduire le temps de sauvegarde global des autres ressources.</block>
  <block id="a9a558ac49f24a2b078812205f07179c" category="list-text">Limitez l'ensemble des bases de données à sauvegarder simultanément à environ 100 et échelonnez l'ensemble restant des sauvegardes de bases de données pour éviter un processus simultané.</block>
  <block id="68086c26b8c1644dfe6ea7d6fb859641" category="list-text">Utilisez le nom de l’instance Microsoft SQL Server dans le groupe de ressources au lieu de plusieurs bases de données, car chaque fois que de nouvelles bases de données sont créées dans l’instance Microsoft SQL Server, SnapCenter considère automatiquement une nouvelle base de données pour la sauvegarde.</block>
  <block id="5e5d80c17369e70061349fffb43b0aa8" category="list-text">Si vous modifiez la configuration de la base de données, par exemple en remplaçant le modèle de récupération de la base de données par le modèle de récupération complet, effectuez immédiatement une sauvegarde pour permettre des opérations de restauration à la minute près.</block>
  <block id="3dce7613a0d76dcf6fcb8e1daf396bbb" category="list-text">SnapCenter ne peut pas restaurer les sauvegardes du journal des transactions créées en dehors de SnapCenter.</block>
  <block id="0007de7aba408b88984eb8eb18044303" category="list-text">Lors du clonage de volumes FlexVol , assurez-vous que vous disposez de suffisamment d’espace pour les métadonnées de clonage.</block>
  <block id="9416a94214ef699335d78087cd9f12c6" category="list-text">Lors de la restauration des bases de données, assurez-vous qu'un espace suffisant est disponible sur le volume.</block>
  <block id="86e3f69ee9647210c14858984e2649ef" category="list-text">Créez une politique distincte pour gérer et sauvegarder les bases de données système au moins une fois par semaine.</block>
  <block id="330337562cd623f5deb5908d4e8af736" category="example-title">Clonage de bases de données avec SnapCenter</block>
  <block id="0a6bfc2082e52dc96430a6b7c0dfc7e7" category="paragraph">Pour restaurer une base de données vers un autre emplacement dans un environnement de développement ou de test ou pour créer une copie à des fins d'analyse commerciale, la meilleure pratique NetApp consiste à exploiter la méthodologie de clonage pour créer une copie de la base de données sur la même instance ou sur une autre instance.</block>
  <block id="1784d101568269c7068d4bd6769d7c47" category="paragraph">Le clonage de bases de données de 500 Go sur un disque iSCSI hébergé sur un environnement FSx ONTAP prend généralement moins de cinq minutes.  Une fois le clonage terminé, l'utilisateur peut alors effectuer toutes les opérations de lecture/écriture requises sur la base de données clonée.  La plupart du temps est consacré à l'analyse du disque (diskpart).  La procédure de clonage NetApp prend généralement moins de 2 minutes, quelle que soit la taille des bases de données.</block>
  <block id="886ef20e3049a00bc0d9a1c734bb90da" category="paragraph">Le clonage d'une base de données peut être effectué avec la double méthode : vous pouvez créer un clone à partir de la dernière sauvegarde ou vous pouvez utiliser la gestion du cycle de vie du clone grâce à laquelle la dernière copie peut être rendue disponible sur l'instance secondaire.</block>
  <block id="870999fc556eadefd7740857b96209c3" category="paragraph">SnapCenter vous permet de monter la copie clonée sur le disque requis pour conserver le format de la structure des dossiers sur l'instance secondaire et continuer à planifier les tâches de sauvegarde.</block>
  <block id="b2face8e1d4561b0ed5b594bfc4c0063" category="example-title">Cloner les bases de données vers le nouveau nom de base de données dans la même instance</block>
  <block id="4a3135e25926365f40a59fd88af69a44" category="paragraph">Les étapes suivantes peuvent être utilisées pour cloner des bases de données vers le nouveau nom de base de données dans la même instance de serveur SQL exécutée sur EC2 :</block>
  <block id="4655b3c9fecfc4d22a59068929be2bec" category="list-text">Sélectionnez Ressources, puis la base de données à cloner.</block>
  <block id="944b75c61851b0ebc427a8aedc83d6f3" category="list-text">Sélectionnez le nom de la sauvegarde que vous souhaitez cloner et sélectionnez Cloner.</block>
  <block id="83d2194c2b06657769054af057f16b0a" category="list-text">Suivez les instructions de clonage des fenêtres de sauvegarde pour terminer le processus de clonage.</block>
  <block id="8fb624c33e03c9d016909a11c669125d" category="list-text">Sélectionnez Surveiller pour vous assurer que le clonage est terminé.</block>
  <block id="0b075fd84c4c4a47346b99d43f9260be" category="example-title">Cloner les bases de données dans la nouvelle instance SQL Server exécutée sur EC2</block>
  <block id="9451e65c3b1fc3fc6cf89a3fc9cf3cfd" category="paragraph">Les étapes suivantes permettent de cloner les bases de données vers la nouvelle instance de serveur SQL exécutée sur EC2 :</block>
  <block id="479cb4cd4ee76801e360aa03ddc20a3a" category="list-text">Créez un nouveau serveur SQL sur EC2 dans le même VPC.</block>
  <block id="e656412cc3adcbff91ebfaefcd504de2" category="list-text">Activez le protocole iSCSI et MPIO, puis configurez la connexion iSCSI à FSx ONTAP en suivant les étapes 3 et 4 de la section « Créer des volumes et des LUN pour SQL Server ».</block>
  <block id="bebd076915c723b002ac43d0bb52ea26" category="list-text">Ajoutez un nouveau serveur SQL sur EC2 dans SnapCenter en suivant l'étape 3 de la section « Installation et configuration de SnapCenter».</block>
  <block id="e7130318e065eddd45ec86565b727731" category="list-text">Sélectionnez Ressource &gt; Afficher l’instance, puis sélectionnez Actualiser la ressource.</block>
  <block id="8be42b1e845c00bcb04c11269072f895" category="list-text">Sélectionnez Ressources, puis la base de données que vous souhaitez cloner.</block>
  <block id="459801927d3c0bd5ddec9c1513f213ec" category="list-text">Sélectionnez le nom de la sauvegarde que vous souhaitez cloner, puis sélectionnez Cloner.</block>
  <block id="367de8f899b43a5b1ef7107f71a5737a" category="paragraph"><block ref="367de8f899b43a5b1ef7107f71a5737a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45d50db35e68c1259b414779e24fdbf5" category="list-text">Suivez les instructions de clonage à partir de la sauvegarde en fournissant la nouvelle instance SQL Server sur EC2 et le nom de l'instance pour terminer le processus de clonage.</block>
  <block id="2474ed795f10bd4a218b466a66f830c8" category="paragraph"><block ref="2474ed795f10bd4a218b466a66f830c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="785e5e204bcb101e73976a8c3ad22887" category="paragraph">Pour en savoir plus sur ce processus, regardez la vidéo suivante :</block>
  <block id="20606e28a0d567be1dabd5cf50a2dc3b" category="section-title">Annexes</block>
  <block id="16dfbb688028526582ec31ab802b9589" category="example-title">Annexe A : fichier YAML à utiliser dans le modèle Cloud Formation</block>
  <block id="4c76ae47de51751cc57a4033d14f2f2a" category="paragraph">Le fichier .yaml suivant peut être utilisé avec le modèle Cloud Formation dans la console AWS.</block>
  <block id="af5a37a09e4cee2968d7fd03f421a0a2" category="inline-link"><block ref="af5a37a09e4cee2968d7fd03f421a0a2" category="inline-link-rx"></block></block>
  <block id="681814eb62cc26ee1c660bd58a9ce6eb" category="list-text"><block ref="681814eb62cc26ee1c660bd58a9ce6eb" category="inline-link-rx"></block></block>
  <block id="f6d8279768d195862ae69a3df8dd51ab" category="inline-link">ce lien GitHub</block>
  <block id="275e63e9a49f296c063604ee4db5723e" category="paragraph">Pour automatiser la création de LUN ISCSI et l'installation de NetApp SnapCenter avec PowerShell, clonez le référentiel à partir de<block ref="a4dae7a3e0d905f7a66835dd216b7b06" category="inline-link-rx"></block> .</block>
  <block id="00867e5f5ae22280c11a2626b65e657b" category="example-title">Annexe B : Scripts Powershell pour le provisionnement des volumes et des LUN</block>
  <block id="0826ee2b94a579e02e80bfcdf26c5648" category="paragraph">Le script suivant est utilisé pour provisionner des volumes et des LUN et également pour configurer iSCSI en fonction des instructions fournies ci-dessus.  Il existe deux scripts PowerShell :</block>
  <block id="81e24f41fbaff249c9819985065173e3" category="list-text"><block ref="2a9a99327bbfb47d37ee76307e959506" prefix="" category="inline-code"></block></block>
  <block id="2ca8201f2a50e4aec0e5ba21f6afed4d" category="list-text"><block ref="d78c8f4fe63dbe3ffd666bbbaf054cd7" prefix="" category="inline-code"></block></block>
  <block id="6385631c0b330c166b540183cec5af78" category="paragraph">Exécutez le fichier<block ref="d2dd03515102971189549a37cb42eb14" prefix=" " category="inline-code"></block> le premier et le deuxième script s'exécutent automatiquement après le redémarrage du serveur.  Ces scripts PowerShell peuvent être supprimés après leur exécution en raison de l’accès aux informations d’identification au SVM.</block>
  <block id="d82c21a48349085e4fd93fb6712e3789" category="inline-link"><block ref="d82c21a48349085e4fd93fb6712e3789" category="inline-link-rx"></block></block>
  <block id="c745303ee8000be162517c239783af70" category="paragraph"><block ref="c745303ee8000be162517c239783af70" category="inline-link-rx"></block></block>
  <block id="b264bfe9bfd0fedb20c7a271df2d9bfc" category="list-text">Premiers pas avec FSx ONTAP</block>
  <block id="90572737558e59a2ecdd4618af07d6f3" category="inline-link"><block ref="90572737558e59a2ecdd4618af07d6f3" category="inline-link-rx"></block></block>
  <block id="7545caf3d97477d3c569d56c512074fa" category="paragraph"><block ref="7545caf3d97477d3c569d56c512074fa" category="inline-link-rx"></block></block>
  <block id="ad65cae8cf2bbd15ac77769974a440ce" category="list-text">Présentation de l'interface SnapCenter</block>
  <block id="e91a1947a841fb6512ed2745315694b6" category="inline-link"><block ref="b69fb4215650a2dac7f11a4db50be2c2" category="inline-link-rx"></block></block>
  <block id="037a7b92d0da86c6bb48d74248e1660b" category="paragraph"><block ref="8ec527ff297932423d30e5ba4a0355fe" category="inline-link-rx"></block></block>
  <block id="1bdf7559e69b81c007496a063e71bca0" category="list-text">Visite guidée des options du volet de navigation de SnapCenter</block>
  <block id="6d5097a2c320359a8d212d07ea067dac" category="inline-link"><block ref="6d5097a2c320359a8d212d07ea067dac" category="inline-link-rx"></block></block>
  <block id="e0ae39eeb7c7d78d56a1292229d1277a" category="paragraph"><block ref="e0ae39eeb7c7d78d56a1292229d1277a" category="inline-link-rx"></block></block>
  <block id="d29a9430434c2654cce06036a4a478b2" category="list-text">Configurer le plug-in SnapCenter 4.0 pour SQL Server</block>
  <block id="76831c1dfcb22a34eed484834f815799" category="inline-link"><block ref="76831c1dfcb22a34eed484834f815799" category="inline-link-rx"></block></block>
  <block id="1ee41cbe7eae46381d37cbc6c3e00c53" category="paragraph"><block ref="1ee41cbe7eae46381d37cbc6c3e00c53" category="inline-link-rx"></block></block>
  <block id="f781a682aea107fb2cdda3a0c1fd3ac5" category="list-text">Comment sauvegarder et restaurer des bases de données à l'aide de SnapCenter avec le plug-in SQL Server</block>
  <block id="35e821b0f036927360188d6b482813cd" category="inline-link"><block ref="35e821b0f036927360188d6b482813cd" category="inline-link-rx"></block></block>
  <block id="1555fac9dc4b20a7c4e81b2c2600f9e9" category="paragraph"><block ref="1555fac9dc4b20a7c4e81b2c2600f9e9" category="inline-link-rx"></block></block>
  <block id="c8e300ff66d94fe7668ff8d5d5e7f1c3" category="list-text">Comment cloner une base de données à l'aide de SnapCenter avec le plug-in SQL Server</block>
  <block id="13ef7741337f79e69a4de98c210bf657" category="inline-link"><block ref="13ef7741337f79e69a4de98c210bf657" category="inline-link-rx"></block></block>
  <block id="6b91e7df9b7d266ccbf54c97ce1a1a47" category="paragraph"><block ref="6b91e7df9b7d266ccbf54c97ce1a1a47" category="inline-link-rx"></block></block>
  <block id="4db58285a0e634acd6843c40f7a6f4e0" category="paragraph">Pour en savoir plus sur les informations décrites dans ce document, reportez-vous aux liens Web suivants :</block>
  <block id="d53a72004974ee8431ee292856c0bba3" category="list-text">Architectures de solutions utilisant Azure NetApp Files</block>
  <block id="653ba0610595f0695c3ceb2c59afed59" category="inline-link"><block ref="653ba0610595f0695c3ceb2c59afed59" category="inline-link-rx"></block></block>
  <block id="d5ec9321fb49816034de6b296ef6baa2" category="paragraph"><block ref="d5ec9321fb49816034de6b296ef6baa2" category="inline-link-rx"></block></block>
  <block id="ba110408cece764b57b56f1129b3ba2e" category="list-text">Avantages de l'utilisation Azure NetApp Files pour le déploiement de SQL Server</block>
  <block id="62b5dbc436fc2540c46476bd8e484c11" category="inline-link"><block ref="62b5dbc436fc2540c46476bd8e484c11" category="inline-link-rx"></block></block>
  <block id="44594562b4f528fe8d864bd3f48ddff6" category="paragraph"><block ref="44594562b4f528fe8d864bd3f48ddff6" category="inline-link-rx"></block></block>
  <block id="75b7d47e2aa19968e092ab7ddb108a3f" category="summary">Que vous cibliez un cloud entièrement cloud ou un cloud hybride avec des bases de données extensibles, Azure NetApp Files offre d'excellentes options pour déployer et gérer les charges de travail de la base de données tout en réduisant votre coût total de possession en rendant les exigences de données transparentes pour la couche applicative.</block>
  <block id="6f8b794f3246b0c1e1780bb4d4d5dc53" category="doc">Conclusion</block>
  <block id="d8d2e6021f496c4e4a31a3d5d51c0a97" category="paragraph">Ce document couvre les recommandations pour la planification, la conception, l’optimisation et la mise à l’échelle des déploiements Microsoft SQL Server avec Azure NetApp Files, qui peuvent varier considérablement selon les implémentations.  La solution adéquate dépend à la fois des détails techniques de la mise en œuvre et des exigences commerciales qui sous-tendent le projet.</block>
  <block id="56925354251a536c23de1174d3001595" category="section-title">Plats à emporter</block>
  <block id="033e6e43f2148e187e072dc7e6585802" category="paragraph">Les points clés de ce document comprennent :</block>
  <block id="b2b363e230905b04f6e9c7263aa93f42" category="list-text">Vous pouvez désormais utiliser Azure NetApp Files pour héberger la base de données et le témoin de partage de fichiers pour le cluster SQL Server.</block>
  <block id="4d6ec76303888bc681d543d1f4593c55" category="list-text">Vous pouvez augmenter les temps de réponse des applications et fournir une disponibilité de 99,9999 % pour fournir un accès aux données SQL Server quand et où cela est nécessaire.</block>
  <block id="408e4b7fbec4ba85e097b9393d2b27a7" category="list-text">Vous pouvez simplifier la complexité globale du déploiement de SQL Server et la gestion continue, comme le striping RAID, avec un redimensionnement simple et instantané.</block>
  <block id="41642b38214243168d907d92759dde36" category="list-text">Vous pouvez compter sur des fonctionnalités d’opérations intelligentes pour vous aider à déployer des bases de données SQL Server en quelques minutes et à accélérer les cycles de développement.</block>
  <block id="61a32d891a5f7bca599a014bc56eec61" category="list-text">Si Azure Cloud est la destination, Azure NetApp Files est la solution de stockage adaptée pour un déploiement optimisé.</block>
  <block id="64899c745691f41e5b1dc01d3a4487d2" category="summary">Cette section décrit les différents problèmes que vous devez prendre en compte lors de Azure NetApp Files avec SQL Server dans le cloud.</block>
  <block id="bb4695a70b92668f0a7927d04580db60" category="doc">Facteurs à prendre en compte</block>
  <block id="4dd91c7652639dacea041fe6033e2627" category="section-title">Performances de la machine virtuelle</block>
  <block id="e6ac657ee6eac68b739c5cc437863922" category="inline-link">mémoire optimisée</block>
  <block id="68e5d4a238cdfe033afa141123484499" category="paragraph">La sélection de la bonne taille de machine virtuelle est importante pour des performances optimales d’une base de données relationnelle dans un cloud public.  Microsoft vous recommande de continuer à utiliser les mêmes options de réglage des performances de base de données applicables à SQL Server dans les environnements de serveur locaux.  Utiliser<block ref="187f54af8632f4f6696d6052e8b74aec" category="inline-link-rx"></block> Tailles de machines virtuelles pour les meilleures performances des charges de travail SQL Server.  Collectez les données de performances du déploiement existant pour identifier l’utilisation de la RAM et du processeur tout en choisissant les bonnes instances.  La plupart des déploiements choisissent entre les séries D, E ou M.</block>
  <block id="fcbd19b726fdd6160dfe2ab43f285a55" category="paragraph">*Remarques :*</block>
  <block id="8b2db846b8ed65b2919d93a68b819a43" category="list-text">Pour des performances optimales des charges de travail SQL Server, utilisez des tailles de machine virtuelle optimisées en mémoire.</block>
  <block id="32a3b4d7b7e6cf1ecde48636119e0288" category="list-text">NetApp et Microsoft recommandent d’identifier les exigences de performances de stockage avant de choisir le type d’instance avec le rapport mémoire/vCore approprié.  Cela permet également de sélectionner un type d’instance inférieure avec la bande passante réseau appropriée pour surmonter les limites de débit de stockage de la machine virtuelle.</block>
  <block id="0abdff1d9e33eca61c14ccafe8012cd5" category="section-title">Redondance des machines virtuelles</block>
  <block id="9fecd525b2d9ad39ac38bbfc4d05ee17" category="inline-link">ensemble de disponibilité</block>
  <block id="26075dbb6cfad683e0d9bd0d29c570b8" category="inline-link">zones de disponibilité</block>
  <block id="e936e004eab3eccfc1e7f46a3187dfd1" category="paragraph">Pour augmenter la redondance et la haute disponibilité, les machines virtuelles SQL Server doivent être dans le même<block ref="47fe032b9b8e985355e53596ae7973ec" category="inline-link-rx"></block> ou différent<block ref="ef39442dc7c0eb954c4472567a9ca1e3" category="inline-link-rx"></block> .  Lors de la création de machines virtuelles Azure, vous devez choisir entre la configuration de groupes de disponibilité et de zones de disponibilité ; une machine virtuelle Azure ne peut pas participer aux deux.</block>
  <block id="05807e454c19f244770adae059b3c330" category="section-title">Haute disponibilité</block>
  <block id="94eeeae1e60f97a446e8c4f69d6d6f43" category="paragraph">Pour une haute disponibilité, la configuration de SQL Server AOAG ou Always On Failover Cluster Instance (FCI) est la meilleure option.  Pour AOAG, cela implique plusieurs instances de SQL Server sur des machines virtuelles Azure dans un réseau virtuel.  Si une haute disponibilité est requise au niveau de la base de données, envisagez de configurer des groupes de disponibilité SQL Server.</block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="section-title">Configuration de stockage</block>
  <block id="fa32aac4116ce1980c311f004157a133" category="paragraph">Microsoft SQL Server peut être déployé avec un partage de fichiers SMB comme option de stockage.  À partir de SQL Server 2012, les bases de données système (master, model, msdb ou tempdb) et les bases de données utilisateur peuvent être installées avec le serveur de fichiers Server Message Block (SMB) comme option de stockage.  Ceci s’applique à la fois à SQL Server autonome et à SQL Server FCI.</block>
  <block id="250548ef00796e6a203215b1d550bb0d" category="admonition">Le stockage de partage de fichiers pour les bases de données SQL Server doit prendre en charge la propriété disponible en continu.  Cela fournit un accès ininterrompu aux données de partage de fichiers.</block>
  <block id="45a6af9c92529e3da9ccdbeae9d692ac" category="paragraph">Azure NetApp Files fournit un stockage de fichiers hautes performances pour répondre à toute charge de travail exigeante et réduit le coût total de possession de SQL Server par rapport aux solutions de stockage en blocs.  Avec le stockage en bloc, les machines virtuelles ont imposé des limites d’E/S et de bande passante pour les opérations de disque ; seules les limites de bande passante réseau sont appliquées à Azure NetApp Files.  En d’autres termes, aucune limite d’E/S au niveau de la machine virtuelle n’est appliquée à Azure NetApp Files.  Sans ces limites d’E/S, SQL Server exécuté sur des machines virtuelles plus petites connectées à Azure NetApp Files peut fonctionner aussi bien que SQL Server exécuté sur des machines virtuelles beaucoup plus grandes.  Azure NetApp Files réduit les coûts de déploiement de SQL Server en réduisant les coûts de calcul et de licence logicielle.  Pour une analyse détaillée des coûts et des avantages en termes de performances liés à l'utilisation Azure NetApp Files pour le déploiement de SQL Server, consultez le<block ref="458fda910151e8d66385b2aabb6cd60e" category="inline-link-rx"></block> .</block>
  <block id="e654f7a86a4458b9cd662267e0f29b52" category="section-title">Avantages</block>
  <block id="9d2b7eb8bc76e60b0d9cd237d67a34fb" category="paragraph">Les avantages de l’utilisation Azure NetApp Files pour SQL Server sont les suivants :</block>
  <block id="8ee22743237d82e9adc18a596977a138" category="list-text">L’utilisation Azure NetApp Files vous permet d’utiliser des instances plus petites, réduisant ainsi les coûts de calcul.</block>
  <block id="3de639403ea86ae87a5883d359deb4ab" category="list-text">Azure NetApp Files réduit également les coûts de licence des logiciels, ce qui réduit le coût total de possession global.</block>
  <block id="46790c8fe72176f6262b4b5531482ee5" category="list-text">La capacité de remodelage du volume et de niveau de service dynamique optimise les coûts en dimensionnant les charges de travail en régime permanent et en évitant le surprovisionnement.</block>
  <block id="860d93b2ef30525111fa6440bf4d5bd7" category="list-text">Pour augmenter la redondance et la haute disponibilité, les machines virtuelles SQL Server doivent être dans le même<block ref="47fe032b9b8e985355e53596ae7973ec" category="inline-link-rx"></block> ou dans un autre<block ref="ef39442dc7c0eb954c4472567a9ca1e3" category="inline-link-rx"></block> .  Tenez compte des exigences de chemin de fichier si des fichiers de données définis par l'utilisateur sont requis ; dans ce cas, sélectionnez SQL FCI plutôt que SQL AOAG.</block>
  <block id="c6fbfcd868e29e37e88eaeff82a7f430" category="inline-link">\\ANFSMB-b4ca.anf.test\SQLDB et \\ANFSMB-b4ca.anf.test\SQLDB\</block>
  <block id="e2bed4e218692d056237b3ae3d24293c" category="list-text">Le chemin UNC suivant est pris en charge :<block ref="cb8cdd6ee3ebeed12086142f1a66cc3e" category="inline-link-rx"></block> .</block>
  <block id="0b4d3828f5dae91cd27e48bffa786d91" category="list-text">Le chemin UNC de bouclage n'est pas pris en charge.</block>
  <block id="db3d2f4f54b992af225801eb51ea7387" category="list-text">Pour le dimensionnement, utilisez les données historiques de votre environnement sur site.  Pour les charges de travail OLTP, faites correspondre les IOPS cibles aux exigences de performances en utilisant les charges de travail aux heures moyennes et de pointe ainsi que les compteurs de performances de lectures de disque/s et d'écritures de disque/s.  Pour les charges de travail d'entrepôt de données et de création de rapports, faites correspondre le débit cible en utilisant les charges de travail aux heures moyennes et de pointe et les octets de lecture et d'écriture sur disque/s.  Les valeurs moyennes peuvent être utilisées conjointement avec les capacités de remodelage du volume.</block>
  <block id="da3259c6aa3dafdc8ca15c687022a5cd" category="section-title">Créer des partages disponibles en continu</block>
  <block id="f7ee3eee4fa679986e37911272d13a29" category="inline-link">Création d'un partage disponible en continu</block>
  <block id="de7d92d6f4ac1f140ac05886ec017f09" category="paragraph">Créez des partages disponibles en continu avec le portail Azure ou Azure CLI.  Dans le portail, sélectionnez l'option de propriété Activer la disponibilité continue. pour l'interface de ligne de commande Azure, spécifiez le partage comme un partage disponible en continu à l'aide de l'<block ref="0be8c8a92e4fe4621be30aa11942bc4d" prefix=" " category="inline-code"></block> option définie sur<block ref="91da4c74e2fced40755d4d3997af3488" prefix=" " category="inline-code"></block> .  Pour en savoir plus sur la création d'un nouveau volume à disponibilité continue, consultez<block ref="86e4b436e8054cc83fccec640f98e218" category="inline-link-rx"></block> .</block>
  <block id="9a3932b7bdfdbb892087fd595ec7acb9" category="list-text">Activez la disponibilité continue pour le volume SMB comme indiqué dans l’image suivante.</block>
  <block id="c012fe8c05a3d9875a4f87cee09d1ca9" category="list-text">Si un compte de domaine non administrateur est utilisé, assurez-vous que le compte dispose du privilège de sécurité requis.</block>
  <block id="762783478495f0889d01a59db256f92c" category="list-text">Définissez les autorisations appropriées au niveau du partage et les autorisations appropriées au niveau du fichier.</block>
  <block id="bfb74db6a55528f52e8ecb83a507a043" category="inline-link-macro">Convertir les volumes SMB existants pour utiliser la disponibilité continue</block>
  <block id="029622eacde8310c84abca3cb32d076a" category="list-text">Une propriété disponible en continu ne peut pas être activée sur des volumes SMB existants.  Pour convertir un volume existant afin d’utiliser un partage disponible en continu, utilisez la technologie NetApp Snapshot. Pour plus d'informations, consultez la section <block ref="a5010901471af228b32b1b902b9cf4f4" category="inline-link-macro-rx"></block> .</block>
  <block id="56470e1c0b9a7128c62ccefc9b2414e8" category="paragraph"><block ref="56470e1c0b9a7128c62ccefc9b2414e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9446a98ad14416153cc4d45ab8b531bf" category="section-title">Performances</block>
  <block id="ee38206503545cf54ad072dee7f8ab1a" category="paragraph">Azure NetApp Files prend en charge trois niveaux de service : Standard (16 Mo/s par téraoctet), Premium (64 Mo/s par téraoctet) et Ultra (128 Mo/s par téraoctet).  Le provisionnement de la taille de volume appropriée est important pour des performances optimales de la charge de travail de la base de données.  Avec Azure NetApp Files, les performances du volume et la limite de débit sont basées sur une combinaison des facteurs suivants :</block>
  <block id="b87f5218989e854f2889f939a4e2ec06" category="list-text">Le niveau de service du pool de capacité auquel appartient le volume</block>
  <block id="9320cce40e9ab4d677bfcc78eddc64d5" category="list-text">Le quota attribué au volume</block>
  <block id="2d98af90367bed299b95066a85be0a17" category="list-text">Le type de qualité de service (QoS) (automatique ou manuel) du pool de capacité</block>
  <block id="a6f08c2897faaf4d449d71d87f473ff1" category="inline-link">Niveaux de service pour Azure NetApp Files</block>
  <block id="ac56170d8576092b90989d467f2d383e" category="paragraph">Pour plus d'informations, consultez la section <block ref="1e8ed0f384e427209ce2e9dfbaed249d" category="inline-link-rx"></block> .</block>
  <block id="2e9717782618d5c2fea11b2f29028556" category="paragraph"><block ref="2e9717782618d5c2fea11b2f29028556" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1eb24bd760e508043a3cfdfe91ba9489" category="section-title">Validation des performances</block>
  <block id="78fe494293decb4e2c7ba5ac2883bb83" category="paragraph">Comme pour tout déploiement, le test de la machine virtuelle et du stockage est essentiel.  Pour la validation du stockage, des outils tels que HammerDB, Apploader ou tout script personnalisé ou FIO avec le mélange lecture/écriture approprié doivent être utilisés.  Gardez toutefois à l’esprit que la plupart des charges de travail SQL Server, même les charges de travail OLTP chargées, sont plus proches de 80 à 90 % en lecture et de 10 à 20 % en écriture.</block>
  <block id="10fde396dd4a669ec17689dd7cf8b599" category="paragraph">Pour démontrer les performances, un test rapide a été effectué sur un volume utilisant des niveaux de service premium.  Dans ce test, la taille du volume a été augmentée de 100 Go à 2 To à la volée sans aucune interruption de l'accès aux applications et sans migration de données.</block>
  <block id="cdb1bfc9dffd846c49ed67e724856699" category="paragraph"><block ref="cdb1bfc9dffd846c49ed67e724856699" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eedfe317eed7692e9d95ba36177a80e9" category="paragraph">Voici un autre exemple de test de performances en temps réel avec HammerDB effectué pour le déploiement couvert dans cet article.  Pour ce test, nous avons utilisé une petite instance avec huit vCPU, un SSD Premium de 500 Go et un volume SMB Azure NetApp Files de 500 Go.  HammerDB a été configuré avec 80 entrepôts et huit utilisateurs.</block>
  <block id="c365893719ad3de45f14fa9c19408eca" category="paragraph">Le graphique suivant montre qu’Azure Azure NetApp Files a pu fournir 2,6 fois plus de transactions par minute avec une latence 4 fois inférieure lors de l’utilisation d’un volume de taille comparable (500 Go).</block>
  <block id="d50d666921da97fdc14e35f752474e41" category="paragraph">Un test supplémentaire a été effectué en redimensionnant vers une instance plus grande avec 32x vCPU et un volume Azure NetApp Files de 16 To.  Il y a eu une augmentation significative des transactions par minute avec une latence constante de 1 ms.  HammerDB a été configuré avec 80 entrepôts et 64 utilisateurs pour ce test.</block>
  <block id="70cfc78bfe7683e1feb2c3339a190028" category="paragraph"><block ref="70cfc78bfe7683e1feb2c3339a190028" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a39ae09f8be4327fc176cfeb76a0e366" category="section-title">Optimisation des coûts</block>
  <block id="892725223bbd64ebec595545eeaf8c28" category="paragraph">Azure NetApp Files permet un redimensionnement de volume transparent et sans interruption et la possibilité de modifier les niveaux de service sans aucun temps d’arrêt et sans effet sur les applications.  Il s’agit d’une capacité unique permettant une gestion dynamique des coûts qui évite d’avoir à effectuer un dimensionnement de base de données avec des métriques de pointe.  Vous pouvez plutôt utiliser des charges de travail stables, ce qui évite les coûts initiaux.  Le remodelage du volume et le changement dynamique du niveau de service vous permettent d’ajuster la bande passante et le niveau de service des volumes Azure NetApp Files à la demande presque instantanément sans interrompre les E/S, tout en conservant l’accès aux données.</block>
  <block id="44aaafbc17f2a4fcbd6d52e1c8ee0cae" category="paragraph">Les offres Azure PaaS telles que LogicApp ou Functions peuvent être utilisées pour redimensionner facilement le volume en fonction d’un déclencheur de règle d’alerte ou de webhook spécifique afin de répondre aux demandes de charge de travail tout en gérant dynamiquement les coûts.</block>
  <block id="d613d5e1ef7a7f52eed191ef1066a08a" category="paragraph">Par exemple, considérons une base de données qui nécessite 250 Mo/s pour un fonctionnement stable ; cependant, elle nécessite également un débit maximal de 400 Mo/s.  Dans ce cas, le déploiement doit être effectué avec un volume de 4 To dans le niveau de service Premium pour répondre aux exigences de performances à l'état stable.  Pour gérer la charge de travail de pointe, augmentez la taille du volume à l’aide des fonctions Azure jusqu’à 7 To pour cette période spécifique, puis réduisez le volume pour rendre le déploiement rentable.  Cette configuration évite le surprovisionnement du stockage.</block>
  <block id="a2810b66f557bf43f1c602ecfe7f52b1" category="summary">Ce document couvre un déploiement en temps réel du groupe de disponibilité SQL Server Always On (AOAG) sur Azure NetApp Files en exploitant les machines virtuelles Azure.</block>
  <block id="0ecccb1d48727b6da357728efe7b6375" category="doc">TR-4897 : SQL Server sur Azure NetApp Files – Vue de déploiement réel</block>
  <block id="4eae423bbc6520b4a8fa4d0d4de28b8a" category="paragraph">Niyaz Mohamed, NetApp</block>
  <block id="8ae2b9aab28b6c00df7581f99f9211ef" category="paragraph">Les organisations informatiques sont confrontées à des changements constants.  Gartner rapporte que près de 75 % de toutes les bases de données nécessiteront un stockage basé sur le cloud d'ici 2022.  En tant que système de gestion de base de données relationnelle (SGBDR) de premier plan, Microsoft SQL Server est le choix incontournable pour les applications conçues sur la plate-forme Windows et les organisations qui s'appuient sur SQL Server pour tout, de la planification des ressources d'entreprise (ERP) à l'analyse en passant par la gestion de contenu.  SQL Server a contribué à révolutionner la façon dont les entreprises gèrent des ensembles de données massifs et alimentent leurs applications pour répondre aux exigences de performances des schémas et des requêtes.</block>
  <block id="eae371fd2d593d80849fab02c4e8b90b" category="paragraph">La plupart des organisations informatiques adoptent une approche axée sur le cloud.  Les clients en phase de transformation évaluent leur paysage informatique actuel, puis migrent leurs charges de travail de base de données vers le cloud sur la base d'un exercice d'évaluation et de découverte.  Certains facteurs qui poussent les clients vers la migration vers le cloud incluent l'élasticité/l'explosion, la sortie du centre de données, la consolidation du centre de données, les scénarios de fin de vie, les fusions, les acquisitions, etc.  La raison de la migration peut varier en fonction de chaque organisation et de ses priorités commerciales respectives.  Lors du passage au cloud, le choix du stockage cloud approprié est très important afin de libérer la puissance du déploiement cloud de la base de données SQL Server.</block>
  <block id="f9468c81b3d59ac0030570c4f58e95f1" category="section-title">Cas d'utilisation</block>
  <block id="9f56e1bc4128b7f39fae7796e07859f9" category="paragraph">Le déplacement du parc SQL Server vers Azure et l'intégration de SQL Server à la vaste gamme de fonctionnalités de plate-forme en tant que service (PaaS) d'Azure, telles qu'Azure Data Factory, Azure IoT Hub et Azure Machine Learning, créent une valeur commerciale considérable pour soutenir la transformation numérique.  L'adoption du cloud permet également à l'unité commerciale concernée de se concentrer sur la productivité et de fournir de nouvelles fonctionnalités et améliorations plus rapidement (cas d'utilisation DevTest) qu'en s'appuyant sur le modèle CAPEX ou les modèles de cloud privé traditionnels.  Ce document couvre un déploiement en temps réel du groupe de disponibilité SQL Server Always On (AOAG) sur Azure NetApp Files en exploitant les machines virtuelles Azure.</block>
  <block id="239a02aaaf9289a3093f682835f65f88" category="paragraph">Azure NetApp Files fournit un stockage de niveau entreprise avec des partages de fichiers disponibles en continu.  Les bases de données de production SQL Server sur le partage de fichiers SMB nécessitent des partages disponibles en continu pour garantir que le nœud a toujours accès au stockage de la base de données, y compris lors de scénarios perturbateurs tels que les mises à niveau ou les pannes du contrôleur.  Les partages de fichiers disponibles en continu éliminent le besoin de répliquer les données entre les nœuds de stockage.  Azure NetApp Files utilise la mise à l’échelle SMB 3.0, les handles persistants et le basculement transparent pour prendre en charge les opérations non perturbatrices (NDO) pour les événements d’arrêt planifiés et non planifiés, y compris de nombreuses tâches administratives.</block>
  <block id="f47a858d79de9725a0d6881541748e9b" category="paragraph">Lors de la planification des migrations vers le cloud, vous devez toujours évaluer la meilleure approche à utiliser.  L’approche la plus courante et la plus simple pour la migration d’applications est le réhébergement (également connu sous le nom de lift and shift).  L'exemple de scénario fourni dans ce document utilise la méthode de réhébergement.  SQL Server sur les machines virtuelles Azure avec Azure NetApp Files vous permet d’utiliser des versions complètes de SQL Server dans le cloud sans avoir à gérer le matériel sur site.  Les machines virtuelles (VM) SQL Server simplifient également les coûts de licence lorsque vous payez au fur et à mesure et offrent des capacités d'élasticité et d'éclatement pour les scénarios de développement, de test et d'actualisation du domaine.</block>
  <block id="9b64a6dfae1f3fa326b750c2790c79fe" category="summary">Cette section couvre un déploiement en temps réel d’un parc de bases de données SQL dans une configuration AOAG à l’aide d’un volume SMB Azure NetApp Files .</block>
  <block id="5ca1071c67ab704b04ed27747f213551" category="doc">Conception de référence de haut niveau en temps réel</block>
  <block id="bb0357d1c0b3b8ebd31a43c9b30f3745" category="list-text">Nombre de nœuds : 4</block>
  <block id="7f4f30d96e1d0a820a6962ad6ac994ee" category="list-text">Nombre de bases de données : 21</block>
  <block id="f28735e3e5e57049aa575b3f0ec83c61" category="list-text">Nombre de groupes de disponibilité : 4</block>
  <block id="96fb94ba9fad0b4452c212b21df61eab" category="list-text">Conservation des sauvegardes : 7 jours</block>
  <block id="a8d1485807d36562316fb8b2254bca57" category="list-text">Archives de sauvegarde : 365 jours</block>
  <block id="4afa49afd4ebc3638f3e000d65825370" category="admonition">Le déploiement de FCI avec SQL Server sur des machines virtuelles Azure avec un partage Azure NetApp Files fournit un modèle rentable avec une seule copie des données.  Cette solution peut empêcher les problèmes d’opération d’ajout de fichier si le chemin du fichier diffère de celui de la réplique secondaire.</block>
  <block id="57ae06a25f863456d800e1732607d89e" category="paragraph"><block ref="57ae06a25f863456d800e1732607d89e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4822d9597460a9166778308da312709c" category="paragraph">L'image suivante montre les bases de données au sein d'AOAG réparties sur les nœuds.</block>
  <block id="21b7a4e91464da32af3d983fb61fd5a3" category="paragraph"><block ref="21b7a4e91464da32af3d983fb61fd5a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d22a890163762fcf7a4cb7605c29b7e6" category="section-title">Disposition des données</block>
  <block id="35c33dd0c5565dbdba04dc2b313d7a2e" category="paragraph">Les fichiers de base de données utilisateur (.mdf) et les fichiers journaux de transactions de base de données utilisateur (.ldf) ainsi que tempDB sont stockés sur le même volume.  Le niveau de service est Ultra.</block>
  <block id="9b7d6479a15395afefc6d7f9e38a4f17" category="paragraph">La configuration se compose de quatre nœuds et de quatre AG.  Les 21 bases de données (faisant partie de Dynamic AX, SharePoint, du courtier de connexion RDS et des services d’indexation) sont stockées sur les volumes Azure NetApp Files .  Les bases de données sont équilibrées entre les nœuds AOAG pour utiliser efficacement les ressources sur les nœuds.  Quatre instances D32 v3 sont ajoutées dans le WSFC, qui participe à la configuration AOAG.  Ces quatre nœuds sont provisionnés dans le réseau virtuel Azure et ne sont pas migrés depuis le site local.</block>
  <block id="09a10f0ab048cde1d7b704392ba05d9a" category="list-text">Si les journaux nécessitent davantage de performances et de débit en fonction de la nature de l'application et des requêtes exécutées, les fichiers de base de données peuvent être placés au niveau de service Premium et les journaux peuvent être stockés au niveau de service Ultra.</block>
  <block id="51368a236b969e288242f0b0b615cf74" category="list-text">Si les fichiers tempdb ont été placés sur Azure NetApp Files, le volume Azure NetApp Files doit être séparé des fichiers de base de données utilisateur.  Voici un exemple de distribution des fichiers de base de données dans AOAG.</block>
  <block id="2e66f3d288799e6f4235b883bb2f693c" category="list-text">Pour conserver les avantages de la protection des données basée sur la copie Snapshot, NetApp recommande de ne pas combiner les données et les données de journal dans le même volume.</block>
  <block id="1452bcdb4aeb229a2c2e503f9bbba753" category="list-text">Une opération d'ajout de fichier effectuée sur la réplique principale peut échouer sur les bases de données secondaires si le chemin d'accès au fichier d'une base de données secondaire diffère du chemin d'accès de la base de données principale correspondante.  Cela peut se produire si le chemin de partage est différent sur les nœuds principaux et secondaires (en raison de comptes d'ordinateur différents).  Cette défaillance pourrait entraîner la suspension des bases de données secondaires.  Si le modèle de croissance ou de performance ne peut pas être prédit et que le plan consiste à ajouter des fichiers ultérieurement, un cluster de basculement SQL Server avec Azure NetApp Files est une solution acceptable.  Pour la plupart des déploiements, Azure NetApp Files répond aux exigences de performances.</block>
  <block id="19f59b74448f6a27519db281a44e4b12" category="section-title">Migration</block>
  <block id="cd6b4503e07d15cebc0842bb8da7b765" category="paragraph">Il existe plusieurs façons de migrer une base de données utilisateur SQL Server locale vers SQL Server dans une machine virtuelle Azure.  La migration peut être en ligne ou hors ligne.  Les options choisies dépendent de la version de SQL Server, des exigences commerciales et des SLA définis au sein de l’organisation.  Pour minimiser les temps d'arrêt pendant le processus de migration de la base de données, NetApp recommande d'utiliser l'option AlwaysOn ou l'option de réplication transactionnelle.  S’il n’est pas possible d’utiliser ces méthodes, vous pouvez migrer la base de données manuellement.</block>
  <block id="2d4221f1ee93c102ca047daac1fba4a7" category="paragraph">L’approche la plus simple et la plus testée pour déplacer des bases de données entre machines est la sauvegarde et la restauration.  En règle générale, vous pouvez commencer par une sauvegarde de la base de données suivie d’une copie de la sauvegarde de la base de données dans Azure.  Vous pouvez ensuite restaurer la base de données.  Pour des performances de transfert de données optimales, migrez les fichiers de base de données vers la machine virtuelle Azure à l’aide d’un fichier de sauvegarde compressé.  La conception de haut niveau référencée dans ce document utilise l’approche de sauvegarde du stockage de fichiers Azure avec la synchronisation de fichiers Azure, puis la restauration vers les fichiers Azure NetApp .</block>
  <block id="623f8382f97ee8df2d7af54439833812" category="admonition">Azure Migrate peut être utilisé pour découvrir, évaluer et migrer les charges de travail SQL Server.</block>
  <block id="fbc25f1c70f1a9c133715cac6d66b21b" category="paragraph">Pour effectuer une migration, suivez les étapes de haut niveau suivantes :</block>
  <block id="d807caa187d2fea33bab50ed1e1c79bb" category="list-text">En fonction de vos besoins, configurez la connectivité.</block>
  <block id="59f59f1aebe4fc18ab054480b3a1098a" category="list-text">Effectuez une sauvegarde complète de la base de données vers un emplacement de partage de fichiers sur site.</block>
  <block id="4891d727582d5df766ee6737fe7fb761" category="list-text">Copiez les fichiers de sauvegarde sur un partage de fichiers Azure avec la synchronisation de fichiers Azure.</block>
  <block id="135899cc34886eb6ce9baf7211d4adb5" category="list-text">Provisionnez la machine virtuelle avec la version souhaitée de SQL Server.</block>
  <block id="fbef0b11b7ee9e0d709d3d1c6efbd4d4" category="list-text">Copiez les fichiers de sauvegarde sur la machine virtuelle en utilisant le<block ref="12cba3ee81cf4a793796a51b6327c678" prefix=" " category="inline-code"></block> commande à partir d'une invite de commande.</block>
  <block id="b9786aca69df61c5165147929b4ced89" category="list-text">Restaurez les bases de données complètes sur SQL Server sur des machines virtuelles Azure.</block>
  <block id="e937691d64dcb1188cbbcbcd83d87d2f" category="admonition">Pour restaurer 21 bases de données, il a fallu environ neuf heures.  Cette approche est spécifique à ce scénario.  Cependant, d’autres techniques de migration répertoriées ci-dessous peuvent être utilisées en fonction de votre situation et de vos besoins.</block>
  <block id="2b9d85faa379ef985ae3851810db1403" category="paragraph">D'autres options de migration pour déplacer des données d'un serveur SQL local vers Azure NetApp Files incluent les suivantes :</block>
  <block id="90248308f9c24bd3bf817ee129838603" category="list-text">Détachez les données et les fichiers journaux, copiez-les dans le stockage Azure Blob, puis attachez-les à SQL Server dans la machine virtuelle Azure avec un partage de fichiers ANF monté à partir de l’URL.</block>
  <block id="82ce70205698ed956d1fce48af1360c0" category="inline-link">Assistant d'ajout de réplica Azure</block>
  <block id="e5e07f1ff84f0082089e4fec71ed43a4" category="list-text">Si vous utilisez le déploiement du groupe de disponibilité Always On sur site, utilisez le<block ref="aea558e3371e9956f5e03828309464a0" category="inline-link-rx"></block> pour créer une réplique dans Azure, puis effectuer un basculement.</block>
  <block id="eedc53c13a9992999dba36bda1b62255" category="inline-link">réplication transactionnelle</block>
  <block id="47a43d904457c52da2918f290a0ae5cb" category="list-text">Utiliser SQL Server<block ref="21bf5f41b40b598aae9dd55aa9dcb960" category="inline-link-rx"></block> pour configurer l’instance Azure SQL Server en tant qu’abonné, désactiver la réplication et diriger les utilisateurs vers l’instance de base de données Azure.</block>
  <block id="bf4614882fd1000329cfcb76f98f6c17" category="list-text">Expédiez le disque dur à l’aide du service d’importation/exportation Windows.</block>
  <block id="be062cdcabbb3055334e8f19b4bdf378" category="section-title">Sauvegarde et récupération</block>
  <block id="b855582b6472c4fbe2a5f606191e66d6" category="paragraph">La sauvegarde et la récupération sont un aspect important de tout déploiement SQL Server.  Il est obligatoire de disposer d'un filet de sécurité approprié pour récupérer rapidement de divers scénarios de panne et de perte de données en conjonction avec des solutions de haute disponibilité telles que AOAG.  L'outil de mise en veille de la base de données SQL Server, Azure Backup (streaming) ou tout autre outil de sauvegarde tiers tel que Commvault peuvent être utilisés pour effectuer une sauvegarde cohérente des bases de données avec l'application.</block>
  <block id="3896e1102f68b0bc974f324bb134f6e6" category="inline-link">Outil SCSQLAPI</block>
  <block id="e372173044ccba12657b2e3dbff1879b" category="paragraph">La technologie Azure NetApp Files Snapshot vous permet de créer facilement une copie ponctuelle (PiT) des bases de données utilisateur sans affecter les performances ou l’utilisation du réseau.  Cette technologie vous permet également de restaurer une copie Snapshot sur un nouveau volume ou de rétablir rapidement le volume affecté à l'état dans lequel il se trouvait lorsque cette copie Snapshot a été créée à l'aide de la fonction de restauration du volume.  Le processus de capture instantanée Azure NetApp Files est très rapide et efficace, ce qui permet plusieurs sauvegardes quotidiennes, contrairement à la sauvegarde en continu proposée par la sauvegarde Azure.  Avec plusieurs copies Snapshot possibles au cours d'une journée donnée, les temps RPO et RTO peuvent être considérablement réduits.  Pour ajouter de la cohérence à l'application afin que les données soient intactes et correctement vidées sur le disque avant la copie instantanée, utilisez l'outil de mise en veille de la base de données SQL Server.<block ref="b800e9e09a17fc5b41967404ec8e47ac" category="inline-link-rx"></block> ; l'accès à ce lien nécessite les informations de connexion NetApp SSO).  Cet outil peut être exécuté à partir de PowerShell, ce qui met en veille la base de données SQL Server et peut à son tour prendre la copie instantanée du stockage cohérent avec l'application pour les sauvegardes.</block>
  <block id="04666a337d02195d17089298f5773f4c" category="paragraph">*Remarques : *</block>
  <block id="a4d5ac6087b7ce119cfe6b7ad4d77ee5" category="list-text">L'outil SCSQLAPI prend uniquement en charge les versions 2016 et 2017 de SQL Server.</block>
  <block id="fdcb10d4c2db07cf930247a4f9898ec5" category="list-text">L'outil SCSQLAPI ne fonctionne qu'avec une seule base de données à la fois.</block>
  <block id="2f65ae42dc3aa8b735406a2d56ceb6fb" category="list-text">Isolez les fichiers de chaque base de données en les plaçant sur un volume Azure NetApp Files distinct.</block>
  <block id="879351e17b2cd6d740ac0974e9ff8a5a" category="inline-link">Sauvegarde Azure</block>
  <block id="42624b4153bfacce50a468208ab49349" category="paragraph">En raison des vastes limitations de l'API SCSQL,<block ref="10a72c6743c3c6714e03b5537ec15603" category="inline-link-rx"></block> a été utilisé pour la protection des données afin de répondre aux exigences du SLA.  Il offre une sauvegarde basée sur le flux de SQL Server exécuté dans Azure Virtual Machines et Azure NetApp Files.  Azure Backup permet un RPO de 15 minutes avec des sauvegardes fréquentes des journaux et une récupération PiT jusqu’à une seconde.</block>
  <block id="423e555c5ec3885f2bb5d9d2d6627f63" category="section-title">Surveillance</block>
  <block id="fe58430a0bb00057a08eed382c5d82b2" category="paragraph">Azure NetApp Files est intégré à Azure Monitor pour les données de séries chronologiques et fournit des mesures sur le stockage alloué, l'utilisation réelle du stockage, le volume IOPS, le débit, les octets de lecture de disque/s, les octets d'écriture de disque/s, les lectures de disque/s et les écritures de disque/s, ainsi que la latence associée.  Ces données peuvent être utilisées pour identifier les goulots d’étranglement avec des alertes et pour effectuer des contrôles d’intégrité afin de vérifier que votre déploiement SQL Server s’exécute dans une configuration optimale.</block>
  <block id="48419e90c914ae5fa935283404de8a2a" category="paragraph">Dans ce HLD, ScienceLogic est utilisé pour surveiller Azure NetApp Files en exposant les métriques à l’aide du principal de service approprié.  L’image suivante est un exemple de l’option de métrique Azure NetApp Files .</block>
  <block id="6d7cc59a6cbd8c3a31c58dcc9e31e2f6" category="paragraph"><block ref="6d7cc59a6cbd8c3a31c58dcc9e31e2f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6fe292df6373534e554d5a7938bc3c3b" category="section-title">DevTest utilisant des clones épais</block>
  <block id="652f67778e6d02c7b5bfe46a3e579f7f" category="paragraph">Avec Azure NetApp Files, vous pouvez créer des copies instantanées de bases de données pour tester les fonctionnalités qui doivent être implémentées en utilisant la structure et le contenu actuels de la base de données pendant les cycles de développement d'applications, pour utiliser les outils d'extraction et de manipulation de données lors du remplissage des entrepôts de données, ou même pour récupérer des données qui ont été supprimées ou modifiées par erreur.  Ce processus n’implique pas de copier des données à partir de conteneurs Azure Blob, ce qui le rend très efficace.  Une fois le volume restauré, il peut être utilisé pour des opérations de lecture/écriture, ce qui réduit considérablement la validation et le délai de mise sur le marché.  Cela doit être utilisé en conjonction avec SCSQLAPI pour la cohérence de l'application.  Cette approche fournit une autre technique d’optimisation continue des coûts avec Azure NetApp Files exploitant l’option Restaurer vers un nouveau volume.</block>
  <block id="e4665dd99280634e4b44ff82666fbb9f" category="list-text">Le volume créé à partir de la copie instantanée à l’aide de l’option Restaurer un nouveau volume consomme la capacité du pool de capacité.</block>
  <block id="0031911d8ba66a79d06b9819afd4f082" category="list-text">Vous pouvez supprimer les volumes clonés à l’aide de REST ou d’Azure CLI pour éviter des coûts supplémentaires (au cas où le pool de capacité doit être augmenté).</block>
  <block id="cb4d46fdcb0881652013c495d90ae732" category="section-title">Options de stockage hybride</block>
  <block id="e6a1767911a937e11cc1750fcc4256c3" category="paragraph">Bien que NetApp recommande d'utiliser le même stockage pour tous les nœuds des groupes de disponibilité SQL Server, il existe des scénarios dans lesquels plusieurs options de stockage peuvent être utilisées.  Ce scénario est possible pour Azure NetApp Files dans lequel un nœud dans AOAG est connecté à un partage de fichiers SMB Azure NetApp Files et le deuxième nœud est connecté à un disque Azure Premium.  Dans ces cas, assurez-vous que le partage SMB Azure NetApp Files contient la copie principale des bases de données utilisateur et que le disque Premium est utilisé comme copie secondaire.</block>
  <block id="009d3d51226fdccd09052934b65100db" category="list-text">Dans de tels déploiements, pour éviter tout problème de basculement, assurez-vous que la disponibilité continue est activée sur le volume SMB.  Sans attribut disponible en continu, la base de données peut échouer en cas de maintenance en arrière-plan au niveau de la couche de stockage.</block>
  <block id="918e9d895272e6a326c6585e05ae4c08" category="list-text">Conservez la copie principale de la base de données sur le partage de fichiers SMB Azure NetApp Files .</block>
  <block id="1a5c3601eda1cd38072323e418968743" category="section-title">Continuité des activités</block>
  <block id="064ea84d2e6072b28bfd7a8b36aed3db" category="paragraph">La reprise après sinistre est généralement une réflexion après coup dans tout déploiement.  Cependant, la reprise après sinistre doit être abordée lors de la phase initiale de conception et de déploiement pour éviter tout impact sur votre entreprise.  Avec Azure NetApp Files, la fonctionnalité de réplication interrégionale (CRR) peut être utilisée pour répliquer les données de volume au niveau du bloc vers la région appariée afin de gérer toute panne régionale inattendue.  Le volume de destination compatible CRR peut être utilisé pour les opérations de lecture, ce qui en fait un candidat idéal pour les simulations de reprise après sinistre.  De plus, la destination CRR peut se voir attribuer le niveau de service le plus bas (par exemple, Standard) pour réduire le coût total de possession global.  En cas de basculement, la réplication peut être interrompue, ce qui rend le volume respectif capable de lire/écrire.  De plus, le niveau de service du volume peut être modifié en utilisant la fonctionnalité de niveau de service dynamique pour réduire considérablement les coûts de reprise après sinistre.  Il s’agit d’une autre fonctionnalité unique d’ Azure NetApp Files avec réplication de blocs dans Azure.</block>
  <block id="86258094262f66b30d10068d1d9c29d4" category="section-title">Archive de copies d'instantanés à long terme</block>
  <block id="65bd92a3b5fcfea7efeb973a0a2483d8" category="inline-link">AzCopy</block>
  <block id="e6bf440e9e7e787ce92e6f8661daf9e9" category="paragraph">De nombreuses organisations doivent effectuer la conservation à long terme des données instantanées des fichiers de base de données en tant qu'exigence de conformité obligatoire.  Bien que ce processus ne soit pas utilisé dans ce HLD, il peut être facilement réalisé en utilisant un simple script batch utilisant<block ref="f326c7b047cd071718d141dba06c550f" category="inline-link-rx"></block> pour copier le répertoire d’instantanés dans le conteneur Azure Blob.  Le script batch peut être déclenché selon un calendrier spécifique à l'aide de tâches planifiées.  Le processus est simple : il comprend les étapes suivantes :</block>
  <block id="dfdc6514d824f948d82ee2ac6515603f" category="list-text">Téléchargez le fichier exécutable AzCopy V10.  Il n'y a rien à installer car c'est un<block ref="98e83379d45538379c2ac4e47c3be81d" prefix=" " category="inline-code"></block> déposer.</block>
  <block id="5434519f37049a19d388fb3edabd08f7" category="list-text">Autorisez AzCopy en utilisant un jeton SAS au niveau du conteneur avec les autorisations appropriées.</block>
  <block id="73facdc1e77927e1c0d4c2f66c6fedf9" category="list-text">Une fois AzCopy autorisé, le transfert de données commence.</block>
  <block id="a2c31034ac77c6ad0ce6dae2a7882d73" category="list-text">Dans les fichiers batch, assurez-vous d'échapper les caractères % qui apparaissent dans les jetons SAS.  Cela peut être fait en ajoutant un caractère % supplémentaire à côté des caractères % existants dans la chaîne de jeton SAS.</block>
  <block id="0eed577952fd376af1fa48aa241e3df7" category="inline-link">Transfert sécurisé requis</block>
  <block id="b2f731ca364e7df30cd69650bdc19d46" category="list-text">Le<block ref="7e9be5c7f255e20f7f3a81046108dcad" category="inline-link-rx"></block> la configuration d'un compte de stockage détermine si la connexion à un compte de stockage est sécurisée avec Transport Layer Security (TLS).  Ce paramètre est activé par défaut.  L'exemple de script batch suivant copie de manière récursive les données du répertoire de copie Snapshot vers un conteneur Blob désigné :</block>
  <block id="f2c225fb316953652d9040f71e76717c" category="paragraph">L'exemple de commande suivant est exécuté dans PowerShell :</block>
  <block id="e7cc24e4ddff469c6304653aea869597" category="list-text">Une fonctionnalité de sauvegarde similaire pour la conservation à long terme sera bientôt disponible dans Azure NetApp Files.</block>
  <block id="03930ecbc2c505278298d571631e23bb" category="list-text">Le script batch peut être utilisé dans n'importe quel scénario nécessitant la copie de données vers un conteneur Blob de n'importe quelle région.</block>
  <block id="07ecdeff0f5a70968e882eb4ace6f576" category="paragraph">Grâce au remodelage du volume et au changement dynamique du niveau de service, totalement transparent pour la base de données, Azure NetApp Files permet des optimisations continues des coûts dans Azure.  Cette capacité est largement utilisée dans ce HLD pour éviter le surprovisionnement de stockage supplémentaire pour gérer les pics de charge de travail.</block>
  <block id="bf511e8b678dd2ecee162930e6c8c9e6" category="paragraph">Le redimensionnement du volume peut être facilement réalisé en créant une fonction Azure conjointement avec les journaux d’alerte Azure.</block>
  <block id="10c7c6ec856268da9f1d2ab6ec5b0984" category="doc">TR-4951 : Sauvegarde et restauration pour Microsoft SQL Server sur AWS FSx ONTAP</block>
  <block id="9475e5d5cafea2648e51c312bfc7f923" category="paragraph">Ce document couvre les étapes nécessaires pour effectuer la sauvegarde et la récupération de Microsoft SQL Server sur AWS FSx ONTAP avec SnapCenter.  Cela comprend les informations suivantes :</block>
  <block id="5bf8a1308ebd487796bd4db12222cf4a" category="list-text">Configuration de NetApp SnapCenter</block>
  <block id="ecc57313124902e4c42227ae61bb9bf1" category="list-text">Opérations de sauvegarde SnapCenter</block>
  <block id="d939d79ed61dbf23169c4f7badcc1788" category="list-text">Opération de sauvegarde d'une base de données FCI</block>
  <block id="cb9f91cd2f1ab77ae604d05be34c3d59" category="list-text">Opération de sauvegarde pour plusieurs bases de données</block>
  <block id="6be8f3086a30e59e908d53eb620b51dd" category="list-text">Restauration et récupération</block>
  <block id="9fa83b367c23a5d2579b5aebdddebe77" category="section-title">Configuration de SnapCenter</block>
  <block id="f979bf3f98ebe58fd55555efea856e3f" category="paragraph">Les étapes suivantes doivent être effectuées pour la configuration de SnapCenter et la protection des ressources Microsoft SQL Server.  Chacune des étapes suivantes est détaillée dans les sections suivantes.</block>
  <block id="7c1e7491c7e3588e56a0b05940cc2840" category="list-text">Configurez les informations d’identification de l’administrateur système pour l’utilisateur de sauvegarde et de restauration de SQL Server.</block>
  <block id="d1347363827a6b0b3093b67bbcdb32a9" category="list-text">Configurer les paramètres de stockage.  Fournissez les informations d'identification de gestion Amazon Web Services (AWS) pour accéder aux machines virtuelles de stockage (SVM) Amazon FSx ONTAP à partir de SnapCenter.</block>
  <block id="bf1e7185f6bb09e0f2b1527acbbb47df" category="list-text">Ajoutez un hôte SQL Server à SnapCenter.  Déployez et installez les plug-ins SnapCenter requis.</block>
  <block id="1e5b163165e28d2c04a5c2cc25406fa0" category="list-text">Configurer les politiques.  Définissez le type d’opération de sauvegarde, la rétention et la réplication facultative de la sauvegarde instantanée.</block>
  <block id="7839511c8247bb78354925ce2771284a" category="list-text">Configurer et protéger la base de données Microsoft SQL Server.</block>
  <block id="1719e3b1afdebd05d1f71b0881a7083c" category="section-title">Interface utilisateur SnapCenter nouvellement installée</block>
  <block id="97504cb249856d98431bd413caeb43ce" category="paragraph">Configurez les informations d’identification pour la sauvegarde SQL Server et restaurez l’utilisateur avec les droits d’administrateur système.</block>
  <block id="263157e38dd7adcf4beb5c0dee14e013" category="paragraph"><block ref="263157e38dd7adcf4beb5c0dee14e013" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a8b4eaab7153d620e4be3372cee492d" category="paragraph">NetApp recommande d'utiliser le contrôle d'accès basé sur les rôles (RBAC) pour déléguer les capacités de protection et de gestion des données à des utilisateurs individuels sur les hôtes SnapCenter et Windows.  L'utilisateur doit avoir accès au serveur SQL hébergeant la base de données.  Pour plusieurs hôtes, le nom d'utilisateur et le mot de passe doivent être les mêmes sur les différents hôtes.  De plus, pour permettre à SnapCenter de déployer le plug-in requis sur les hôtes SQL Server, vous devez enregistrer les informations de domaine pour que SnapCenter valide vos informations d'identification et vos hôtes.</block>
  <block id="2f5eb1bcad8467d8b1a3a761e7a52e7c" category="paragraph">Développez les sections suivantes pour voir les instructions détaillées sur la façon de terminer chaque étape.</block>
  <block id="36bc52aaebad43ec3e49ed9a0efacd43" category="example-title">Ajoutez les informations d'identification</block>
  <block id="994e670ad871a1a1a8968ef47fce1bd2" category="paragraph">Accédez à *Paramètres*, sélectionnez *Informations d’identification* et cliquez sur (*+*).</block>
  <block id="bb598d076da46530ceab0455eb9e5aeb" category="paragraph"><block ref="bb598d076da46530ceab0455eb9e5aeb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ef34a5260859bfffb6bf580955ffb1e" category="paragraph">Le nouvel utilisateur doit disposer de droits d’administrateur sur l’hôte SQL Server.</block>
  <block id="42f53fba169caa3a3b234900730492d9" category="paragraph"><block ref="42f53fba169caa3a3b234900730492d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d25223f4065ca21361aff2e7cdc61203" category="example-title">Configurer le stockage</block>
  <block id="8d4520cc707d4607fe5abe132aecdbf2" category="paragraph">Pour configurer le stockage dans SnapCenter, procédez comme suit :</block>
  <block id="17b1ba0b70ebf5f6fcfd2f39e760ac1c" category="list-text">Dans l'interface utilisateur de SnapCenter , sélectionnez *Systèmes de stockage*.  Il existe deux types de stockage, * ONTAP SVM* et * ONTAP Cluster*.  Par défaut, le type de stockage est * ONTAP SVM*.</block>
  <block id="84bf89b0b19fc811dad7c11f9b65802e" category="list-text">Cliquez sur (*+*) pour ajouter les informations sur le système de stockage.</block>
  <block id="01c53e6bfe960953b32c98f2112f4303" category="paragraph"><block ref="01c53e6bfe960953b32c98f2112f4303" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39de8a13e32575a801c8634fd2877ed4" category="list-text">Fournissez le point de terminaison de gestion *FSx ONTAP *.</block>
  <block id="204b3ab666a5f3f968f405e95b493f8d" category="paragraph"><block ref="204b3ab666a5f3f968f405e95b493f8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c99ac5cbe66f4968da17288cff14037" category="list-text">Le SVM est maintenant configuré dans SnapCenter.</block>
  <block id="8d09c4e9d4c1ccd04e9cec2a690d3659" category="paragraph"><block ref="8d09c4e9d4c1ccd04e9cec2a690d3659" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f4cf5450244ae3361ec7b130b139860" category="example-title">Ajouter un hôte SQL Server à SnapCenter</block>
  <block id="865ea603dd93a3a23cc7e80825b29624" category="paragraph">Pour ajouter un hôte SQL Server, procédez comme suit :</block>
  <block id="e14bea01dc3a10ca47f216a08f68fa85" category="list-text">Dans l’onglet Hôte, cliquez sur (*+*) pour ajouter l’hôte Microsoft SQL Server.</block>
  <block id="eb34c39c9e120bad581790275c4322c7" category="paragraph"><block ref="eb34c39c9e120bad581790275c4322c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c802780a0f54f5e4f22e25de9fa33be" category="list-text">Fournissez le nom de domaine complet (FQDN) ou l’adresse IP de l’hôte distant.</block>
  <block id="fb62a23910339f3168b6b89b4e0f77b7" category="admonition">Les informations d'identification sont renseignées par défaut.</block>
  <block id="65d9345f77faaa3bf7bb8031bb92f814" category="list-text">Sélectionnez l’option pour Microsoft Windows et Microsoft SQL Server, puis soumettez.</block>
  <block id="52f7eb9a848ae3c77eafc593b9260933" category="paragraph"><block ref="52f7eb9a848ae3c77eafc593b9260933" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53b2d796e625fe393f84e48a5c6c6e91" category="paragraph">Les packages SQL Server sont installés.</block>
  <block id="a106f82ac7656050cac2b5d549ddd343" category="paragraph"><block ref="a106f82ac7656050cac2b5d549ddd343" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fa703bd342022eaf92b76d3d4db62f6a" category="list-text">Une fois l'installation terminée, accédez à l'onglet *Ressource* pour vérifier si tous les volumes iSCSI FSx ONTAP sont présents.</block>
  <block id="b08c837e26a420a6727340a737a4380f" category="paragraph"><block ref="b08c837e26a420a6727340a737a4380f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b83af25a71030e8f59b11202c70c1a4" category="example-title">Configurer le répertoire des journaux</block>
  <block id="144931b7282f9d86fce2e97aa69aa046" category="paragraph">Pour configurer un répertoire de journaux d’hôte, procédez comme suit :</block>
  <block id="089f0c00b86bab7c6ce3e455e39b4111" category="list-text">Cliquez sur la case à cocher.  Un nouvel onglet s'ouvre.</block>
  <block id="fc6a6d00b6b99448daebdb2df18a2b14" category="paragraph"><block ref="fc6a6d00b6b99448daebdb2df18a2b14" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57fab4c72318fea3bba8b3c321098ab3" category="list-text">Cliquez sur le lien *configurer le répertoire des journaux*.</block>
  <block id="eb1e0c7702c213472e776e0cc7f8fe6c" category="paragraph"><block ref="eb1e0c7702c213472e776e0cc7f8fe6c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1b06cca5c441f86e0c4ad342dc4949c5" category="list-text">Sélectionnez le lecteur pour le répertoire du journal de l’hôte et le répertoire du journal de l’instance FCI.  Cliquez sur *Enregistrer*.  Répétez le même processus pour le deuxième nœud du cluster.  Ferme la fenêtre.</block>
  <block id="e90ddc4c1a3fa19f8dcadf397bb82c11" category="paragraph"><block ref="e90ddc4c1a3fa19f8dcadf397bb82c11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c36dc3499eaa7955922477da928c37d" category="paragraph">L'hôte est désormais en état d'exécution.</block>
  <block id="27374f4db81a1bef38942d3105168251" category="paragraph"><block ref="27374f4db81a1bef38942d3105168251" category="inline-image-macro-rx" type="image"></block></block>
  <block id="21ff17f2a463836d33f1c25b922e2aad" category="list-text">Depuis l'onglet *Ressources*, nous avons tous les serveurs et bases de données.</block>
  <block id="5d9cc78a1b0cedb3a2e519e4787e2a06" category="paragraph"><block ref="5d9cc78a1b0cedb3a2e519e4787e2a06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43e2457547c492c6001e30b828b6540e" category="section-title">Configurer une politique de sauvegarde</block>
  <block id="94cf5b65d5289e46a9a0d12fe6877c2e" category="paragraph">Une politique de sauvegarde est un ensemble de règles qui régissent la manière de gérer, de planifier et de conserver les sauvegardes.  Il aide à déterminer le type et la fréquence de sauvegarde en fonction du SLA de votre entreprise.</block>
  <block id="e28ebacaa4299d5022a9ce52d607c076" category="example-title">Configurer l'opération de sauvegarde pour une base de données FCI</block>
  <block id="41cc72961a6c592ec36223498c3bd705" category="paragraph">Pour configurer une politique de sauvegarde pour une base de données FCI, procédez comme suit :</block>
  <block id="55e9263abc7e93fbc1274424af911693" category="list-text">Accédez à *Paramètres* et sélectionnez *Politiques* en haut à gauche.  Cliquez ensuite sur *Nouveau*.</block>
  <block id="5ac78e084848f8cc247d598e005c6aa3" category="paragraph"><block ref="5ac78e084848f8cc247d598e005c6aa3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="00f0ce22eac68a6bd05a1b0f221c4870" category="list-text">Saisissez le nom de la politique et une description.  Cliquez sur *Suivant*.</block>
  <block id="84bdfd949bee67cde6dc8e250fb3020b" category="paragraph"><block ref="84bdfd949bee67cde6dc8e250fb3020b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="55efa7fad4afc963d783654da41300bf" category="list-text">Sélectionnez *Sauvegarde complète* comme type de sauvegarde.</block>
  <block id="3dd8f9fd3739a14391fbf8713681641c" category="paragraph"><block ref="3dd8f9fd3739a14391fbf8713681641c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8270c99b48ebbc3928233b0365c4aeef" category="list-text">Sélectionnez la fréquence de planification (celle-ci est basée sur le SLA de l'entreprise).  Cliquez sur *Suivant*.</block>
  <block id="e28272da203be603a1dd273b52ce1c5e" category="paragraph"><block ref="e28272da203be603a1dd273b52ce1c5e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="de3ec07218c2ba18d85a3130b6583520" category="list-text">Configurez les paramètres de conservation pour la sauvegarde.</block>
  <block id="5fd5e3f756e16e4180b5af92cbf86888" category="paragraph"><block ref="5fd5e3f756e16e4180b5af92cbf86888" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e0b22898b3d80ad22f4aec2ecdb63d6" category="list-text">Configurez les options de réplication.</block>
  <block id="6a573546d6190e33fbdfe33ab4f7f0b4" category="paragraph"><block ref="6a573546d6190e33fbdfe33ab4f7f0b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44ea4d24c42b8fec22a7b9816f31e892" category="list-text">Spécifiez un script d'exécution à exécuter avant et après l'exécution d'une tâche de sauvegarde (le cas échéant).</block>
  <block id="73ace21d48efbf10f11c02963b1a74ff" category="paragraph"><block ref="73ace21d48efbf10f11c02963b1a74ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b94cb3e0f4abcd010f6711fe214e35a" category="list-text">Exécutez la vérification en fonction du calendrier de sauvegarde.</block>
  <block id="0f2ec527580ab66098ac0b9adb617223" category="paragraph"><block ref="0f2ec527580ab66098ac0b9adb617223" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbfa414efc5d445675fd9077ba0c56b3" category="list-text">La page *Résumé* fournit des détails sur la politique de sauvegarde.  Toute erreur peut être corrigée ici.</block>
  <block id="b5c2e63df47024e1834717c54e4ac3de" category="paragraph"><block ref="b5c2e63df47024e1834717c54e4ac3de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8e93df919756b105bc83306d032d098" category="section-title">Configurer et protéger la base de données MSSQL Server</block>
  <block id="27db30e5a59f8be2fcb99cf63599a91c" category="list-text">Définissez la date de début et la date d’expiration de la politique de sauvegarde.</block>
  <block id="442ee14e356889b8eaf0873dc785e1c2" category="paragraph"><block ref="442ee14e356889b8eaf0873dc785e1c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3d9d87e495dd4aa1d5bb3efb45285b5" category="list-text">Définissez le calendrier de la sauvegarde.  Pour ce faire, cliquez sur (*+*) pour configurer un planning.  Saisissez la *Date de début* et la date *Expire le*.  Définissez l'heure en fonction du SLA de l'entreprise.</block>
  <block id="8b05c4f43dde3e690e016b6f5239120e" category="paragraph"><block ref="8b05c4f43dde3e690e016b6f5239120e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cae5bd999deab910421c886467a77f95" category="list-text">Configurer le serveur de vérification.  Dans le menu déroulant, sélectionnez le serveur.</block>
  <block id="12689d035facad15cdb7e7df19bd89bf" category="paragraph"><block ref="12689d035facad15cdb7e7df19bd89bf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eafe5ed3ae193bf0df0699f63047967c" category="list-text">Confirmez le planning configuré en cliquant sur le signe plus et confirmez.</block>
  <block id="acbb9c633debb26a3e087f175b289654" category="list-text">Fournir des informations pour la notification par courrier électronique.  Cliquez sur *Suivant*.</block>
  <block id="8ad07a45acf6df5688f612da010273b1" category="paragraph"><block ref="8ad07a45acf6df5688f612da010273b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12c3e31e09364bc821b8b38bfe3fa90b" category="paragraph">Le résumé de la politique de sauvegarde de la base de données SQL Server est désormais configuré.</block>
  <block id="108006178f32b6a576ff38219992ee68" category="paragraph"><block ref="108006178f32b6a576ff38219992ee68" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f93a0490c2398c42ac8bc4c8027da25b" category="paragraph">Pour créer des sauvegardes SQL Server à la demande, procédez comme suit :</block>
  <block id="a27b159fa260ee860202b1a37efb3a24" category="list-text">Dans la vue *Ressource*, sélectionnez la ressource et sélectionnez *Sauvegarder maintenant*.</block>
  <block id="d2a9c6f627387a3566dcb315138dde3a" category="paragraph"><block ref="d2a9c6f627387a3566dcb315138dde3a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8ebbd547f5d127b496961a116deba1b" category="list-text">Dans la boîte de dialogue *Sauvegarde*, cliquez sur *Sauvegarde*.</block>
  <block id="23a7cca160f90b2f02daf16ec91e7237" category="paragraph"><block ref="23a7cca160f90b2f02daf16ec91e7237" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28a70f29b174bb67f6ba18c34afe8917" category="list-text">Un écran de confirmation s'affiche.  Cliquez sur *Oui* pour confirmer.</block>
  <block id="3d920ea8dfaeed2ed58312c989260f7d" category="paragraph"><block ref="3d920ea8dfaeed2ed58312c989260f7d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f8452076484ec284c5858e0a7826acc" category="section-title">Surveiller la tâche de sauvegarde</block>
  <block id="3c171063c0a7e42fe17578dc53e1a362" category="list-text">Dans l'onglet *Moniteur*, cliquez sur la tâche et sélectionnez *Détails* sur la droite pour afficher les tâches.</block>
  <block id="099a696fea151fff4c695aa6b071d682" category="paragraph"><block ref="099a696fea151fff4c695aa6b071d682" category="inline-image-macro-rx" type="image"></block></block>
  <block id="511527506a41d2cc7e67f90f10a3495a" category="paragraph"><block ref="511527506a41d2cc7e67f90f10a3495a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="187d97d7f4855a2e10ce27f378db96dd" category="paragraph">Une fois la sauvegarde terminée, une nouvelle entrée s'affiche dans la vue Topologie.</block>
  <block id="134678acd20d853075ff197c7c9c3fcb" category="paragraph">Pour configurer une politique de sauvegarde pour plusieurs bases de données SQL Server, créez des politiques de groupe de ressources en procédant comme suit :</block>
  <block id="95fea20057274bffe889a463c6617053" category="list-text">Dans l’onglet *Ressources* du menu *Affichage*, passez à un groupe de ressources à l’aide du menu déroulant.</block>
  <block id="f15062590bac57cd4dded3874b730987" category="paragraph"><block ref="f15062590bac57cd4dded3874b730987" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d30ce7f1b8370331622f388e31ba9fd" category="list-text">Cliquez sur (*+*) pour un nouveau groupe de ressources.</block>
  <block id="83b181472f97e7d6567d03936a4d2ced" category="paragraph"><block ref="83b181472f97e7d6567d03936a4d2ced" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2267ba30d8bc4b2cb24be81ba224b9a0" category="list-text">Donnez un nom et une étiquette.  Cliquez sur *Suivant*.</block>
  <block id="4bbe72b07989da20083f75b872a28c45" category="paragraph"><block ref="4bbe72b07989da20083f75b872a28c45" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71128d86107d5d3be141764b52ec6e0a" category="list-text">Ajouter des ressources au groupe de ressources :</block>
  <block id="6938eb21ffd3468679899baee35fc02c" category="list-text">*Hôte.*  Sélectionnez dans le menu déroulant le serveur hébergeant la base de données.</block>
  <block id="d9cab3ec910c4d091f194a6fbe1ce649" category="list-text">*Type de ressource.*  Dans le menu déroulant, sélectionnez *Base de données*.</block>
  <block id="9d00adb9ff02c740bad1655a08befbc8" category="list-text">*Instance SQL Server.*  Sélectionnez le serveur.</block>
  <block id="730521facc86f5fabeda23f81b0ab36e" category="paragraph"><block ref="730521facc86f5fabeda23f81b0ab36e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52cbd1487d8eb5aca62ae227f26154cd" category="paragraph">L'option *Sélectionne automatiquement toutes les ressources du même volume de stockage* est sélectionnée par défaut.  Désactivez l'option et sélectionnez uniquement les bases de données que vous devez ajouter au groupe de ressources. Cliquez sur la flèche pour ajouter et cliquez sur *Suivant*.</block>
  <block id="84c0abbddafd973fe73dd69e371ab4a3" category="paragraph"><block ref="84c0abbddafd973fe73dd69e371ab4a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4bc914d30c298d5a1be5b17d60f91d32" category="list-text">Sur les politiques, cliquez sur (*+*).</block>
  <block id="243d78b6ea4fe741a4fa412198d80066" category="paragraph"><block ref="243d78b6ea4fe741a4fa412198d80066" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0503c62843919fd6d77d98333ddc0d46" category="list-text">Saisissez le nom de la stratégie de groupe de ressources.</block>
  <block id="05b0fe9e56c5bea5ac8ce431cced917e" category="paragraph"><block ref="05b0fe9e56c5bea5ac8ce431cced917e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9260e8aa74e4c11f287ba40caa35f0b0" category="list-text">Sélectionnez *Sauvegarde complète* et la fréquence de planification en fonction du SLA de votre entreprise.</block>
  <block id="f6c2be1530adb5a66375b1dc7d598e9c" category="paragraph"><block ref="f6c2be1530adb5a66375b1dc7d598e9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3d3f39805e6cab1e0c8e41e3a8045d4" category="list-text">Configurez les paramètres de rétention.</block>
  <block id="de6d5dc1aecdbb902a87862a50b9266b" category="paragraph"><block ref="de6d5dc1aecdbb902a87862a50b9266b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="78cef2d99db22d070900dbed35c15a2c" category="paragraph"><block ref="78cef2d99db22d070900dbed35c15a2c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b438cf4e498dc0e4f65b8cf167949153" category="list-text">Configurez les scripts à exécuter avant d’effectuer une sauvegarde.  Cliquez sur *Suivant*.</block>
  <block id="ff1cf37034cd8ef253625b45e35051ca" category="paragraph"><block ref="ff1cf37034cd8ef253625b45e35051ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6504e635a92d1b0a8c52749c309ce7f6" category="list-text">Confirmez la vérification pour les planifications de sauvegarde suivantes.</block>
  <block id="f2eb367ca50e721b000dca52f3b250df" category="paragraph"><block ref="f2eb367ca50e721b000dca52f3b250df" category="inline-image-macro-rx" type="image"></block></block>
  <block id="06919ef230a779cfc26a7b40e58c155f" category="list-text">Sur la page *Résumé*, vérifiez les informations et cliquez sur *Terminer*.</block>
  <block id="c56dfb24cbd84ab2aa638beedfc903df" category="paragraph"><block ref="c56dfb24cbd84ab2aa638beedfc903df" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03db038251d30409b163cac10e15fb64" category="section-title">Configurer et protéger plusieurs bases de données SQL Server</block>
  <block id="60d1f006544fc2635c785f35a2bb75fa" category="list-text">Cliquez sur le signe (*+*) pour configurer la date de début et la date d'expiration.</block>
  <block id="8670dcc752ab05514268acf8a4031067" category="paragraph"><block ref="8670dcc752ab05514268acf8a4031067" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1709dfd12096305753ee7705ead06515" category="list-text">Régler l'heure.</block>
  <block id="098a44366312b953a5d068f9c9829977" category="paragraph"><block ref="098a44366312b953a5d068f9c9829977" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37809c83f3a7be241f15b815b21c4d98" category="paragraph"><block ref="37809c83f3a7be241f15b815b21c4d98" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1dc4c7af7fe0f51e864695931afcc5d" category="list-text">Dans l'onglet *Vérification*, sélectionnez le serveur, configurez la planification et cliquez sur *Suivant*.</block>
  <block id="28107504bea3914bf67b28e84c3755c5" category="paragraph"><block ref="28107504bea3914bf67b28e84c3755c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b91c4ea39a59e7c5891197a3b275c62c" category="list-text">Configurer les notifications pour envoyer un e-mail.</block>
  <block id="b805dff566d3335d804bb465bcc8b48a" category="paragraph"><block ref="b805dff566d3335d804bb465bcc8b48a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="017b37b38c310ea0d90dccec6f86d049" category="paragraph">La politique est désormais configurée pour la sauvegarde de plusieurs bases de données SQL Server.</block>
  <block id="65edb050e309b32337d026f505eb050b" category="paragraph"><block ref="65edb050e309b32337d026f505eb050b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="86b13e5f17a2bd60ebf403962a656abb" category="section-title">Déclencher une sauvegarde à la demande pour plusieurs bases de données SQL Server</block>
  <block id="f7dde35cb7209b4eae92eb8ec9dbe3ea" category="list-text">Dans l’onglet *Ressource*, sélectionnez Afficher.  Dans le menu déroulant, sélectionnez *Groupe de ressources*.</block>
  <block id="2c19763796ab45144962d697bf000ff5" category="paragraph"><block ref="2c19763796ab45144962d697bf000ff5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdbf213e9f1bcad7fef14029eb9b537b" category="list-text">Sélectionnez le nom du groupe de ressources.</block>
  <block id="1ac4dec59e8f8197fb29b8bfa0237d91" category="list-text">Cliquez sur *Sauvegarder maintenant* en haut à droite.</block>
  <block id="1cdf32c91297cf992cc0fd241e17148b" category="paragraph"><block ref="1cdf32c91297cf992cc0fd241e17148b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d29aeb4de3166648265a417a3ebdfa8d" category="list-text">Une nouvelle fenêtre s'ouvre.  Cochez la case *Vérifier après la sauvegarde*, puis cliquez sur sauvegarder.</block>
  <block id="f9f8bdefaa510ecb00dcacadaeebfa4c" category="paragraph"><block ref="f9f8bdefaa510ecb00dcacadaeebfa4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1b01a18ba54b03ab361195cda9e11a04" category="list-text">Un message de confirmation s'affiche.  Cliquez sur *Oui*.</block>
  <block id="cf1faae3398a2472542796e6e1a716ee" category="paragraph"><block ref="cf1faae3398a2472542796e6e1a716ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c39edf183648c1d5db4f2c93fb4eb28" category="section-title">Surveiller les tâches de sauvegarde de plusieurs bases de données</block>
  <block id="1010c73c274c132c818aa34d45372dd5" category="paragraph">Dans la barre de navigation de gauche, cliquez sur *Surveiller*, sélectionnez la tâche de sauvegarde et cliquez sur *Détails* pour afficher la progression de la tâche.</block>
  <block id="a192a442137877f8a2c0cc9e7fb10138" category="paragraph"><block ref="a192a442137877f8a2c0cc9e7fb10138" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf2af39d79fe9b75d3b016a40a1cb886" category="paragraph">Cliquez sur l'onglet *Ressource* pour voir le temps nécessaire à la sauvegarde.</block>
  <block id="a598f2d8c25ebb000d9ea8101d48c872" category="paragraph"><block ref="a598f2d8c25ebb000d9ea8101d48c872" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b702b14abe98f98e647cd791bcb90f8d" category="section-title">Sauvegarde du journal des transactions pour la sauvegarde de plusieurs bases de données</block>
  <block id="26d8c1709e6a02cee73b16f5c2acf6dc" category="paragraph">SnapCenter prend en charge les modèles de récupération complète, journalisée en masse et simple.  Le mode de récupération simple ne prend pas en charge la sauvegarde du journal transactionnel.</block>
  <block id="a60ccf2e4a30da040f5a49732187a6b7" category="paragraph">Pour effectuer une sauvegarde du journal des transactions, procédez comme suit :</block>
  <block id="be7235e7e6dc252e8daebedf54c3b6c7" category="list-text">Depuis l'onglet *Ressources*, changez le menu d'affichage de *Base de données* à *Groupe de ressources*.</block>
  <block id="2d2769239fb96da78529f7fe58541a20" category="paragraph"><block ref="2d2769239fb96da78529f7fe58541a20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c48d8cc9d4f748c135f5b4812c1d7412" category="list-text">Sélectionnez la politique de sauvegarde du groupe de ressources créée.</block>
  <block id="f38bbe0d9131c48ea9ee602675754140" category="list-text">Sélectionnez *Modifier le groupe de ressources* en haut à droite.</block>
  <block id="43947bdb92a7373ee3b41cd8b6200b6a" category="paragraph"><block ref="43947bdb92a7373ee3b41cd8b6200b6a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6d4b5ab9594400df9f8e77cbab0abea7" category="list-text">La section *Nom* contient par défaut le nom et la balise de la politique de sauvegarde.  Cliquez sur *Suivant*.</block>
  <block id="9a35ea0c782dad0d67865885d193f274" category="paragraph">L'onglet *Ressources* met en évidence les bases sur lesquelles la politique de sauvegarde des transactions doit être configurée.</block>
  <block id="458defe062e7ea5d2bcf33c4c9ec6c13" category="paragraph"><block ref="458defe062e7ea5d2bcf33c4c9ec6c13" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6daf111fad11fdef17162a8f8bf18b9c" category="list-text">Entrez le nom de la politique.</block>
  <block id="6b3f52aec1766c70a8f4a47e0b14c3ce" category="paragraph"><block ref="6b3f52aec1766c70a8f4a47e0b14c3ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7f993771df9dbe7cf6b38a0f84b409d7" category="list-text">Sélectionnez les options de sauvegarde de SQL Server.</block>
  <block id="ac47af84d5357e6141e59c1659b4ffb1" category="list-text">Sélectionnez la sauvegarde du journal.</block>
  <block id="e7e910bafda9e74cf082f59a9db69bdd" category="list-text">Définissez la fréquence de planification en fonction du RTO de votre entreprise.  Cliquez sur *Suivant*.</block>
  <block id="ae3884ff49644b7e616c4015f235dee1" category="paragraph"><block ref="ae3884ff49644b7e616c4015f235dee1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6a1a00356a0947050a129ae89c585c9" category="list-text">Configurez les paramètres de conservation de la sauvegarde du journal.  Cliquez sur *Suivant*.</block>
  <block id="ea044ffadb2c0a7f2d8a76ca1855a5c6" category="paragraph"><block ref="ea044ffadb2c0a7f2d8a76ca1855a5c6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46caf3d6b884d110f60cf7f4937e7519" category="list-text">(Facultatif) Configurez les options de réplication.</block>
  <block id="48d01452f102ee972f87e53e03583b85" category="paragraph"><block ref="48d01452f102ee972f87e53e03583b85" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a1a4bc0234ce8dfcbb64e7eeee67fad6" category="list-text">(Facultatif) Configurez tous les scripts à exécuter avant d’effectuer une tâche de sauvegarde.</block>
  <block id="7085433ef1c064681b05d5b77244ce17" category="paragraph"><block ref="7085433ef1c064681b05d5b77244ce17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec35f0f916d59604b82ba19007187115" category="list-text">(Facultatif) Configurez la vérification de sauvegarde.</block>
  <block id="5b1bb67e27c24b68f63f19b213aeeae7" category="paragraph"><block ref="5b1bb67e27c24b68f63f19b213aeeae7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4a7ecfa93fa04065caa7a2ead6d3d113" category="list-text">Sur la page *Résumé*, cliquez sur *Terminer*.</block>
  <block id="49e388563235bc90a78e78dd3ac03e0f" category="paragraph"><block ref="49e388563235bc90a78e78dd3ac03e0f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="21c62f698c67203ca218e38cedd9fd4a" category="section-title">Configurer et protéger plusieurs bases de données MSSQL Server</block>
  <block id="851434acbe50444b77cc093290088e54" category="list-text">Cliquez sur la politique de sauvegarde du journal des transactions nouvellement créée.</block>
  <block id="b1289050b5db1595140e16164088e7d0" category="paragraph"><block ref="b1289050b5db1595140e16164088e7d0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8dc5a42c40277ce2884bea86757d8dda" category="list-text">Définissez la *Date de début* et la date *Expire le*.</block>
  <block id="2137cef28d44fe16621167c38bd398e5" category="list-text">Saisissez la fréquence de la politique de sauvegarde du journal en fonction du SLA, du RTP et du RPO.  Cliquez sur OK.</block>
  <block id="c7fcd07f35aaee60860fce43d2577b32" category="paragraph"><block ref="c7fcd07f35aaee60860fce43d2577b32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eef345e42eb1ff7b7177a232bb1d1247" category="list-text">Vous pouvez voir les deux politiques.  Cliquez sur *Suivant*.</block>
  <block id="9860ad0e974d4cf04e0372784a0ae60f" category="paragraph"><block ref="9860ad0e974d4cf04e0372784a0ae60f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d3d450b94383f42a06333f58c0ffb5a" category="list-text">Configurer le serveur de vérification.</block>
  <block id="87da78d8a5c05fc81ea91000728ba3e4" category="paragraph"><block ref="87da78d8a5c05fc81ea91000728ba3e4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9b705cea4d9eb8b1497ffce97bfe3609" category="list-text">Configurer la notification par e-mail.</block>
  <block id="4cb060d4d1683049149f189ab41d1721" category="paragraph"><block ref="4cb060d4d1683049149f189ab41d1721" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cc7bc6e892891ffd8e8372d60c79de89" category="paragraph"><block ref="cc7bc6e892891ffd8e8372d60c79de89" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1ea4baaafde2e79cfcd31d97b84b1a12" category="section-title">Déclenchement d'une sauvegarde du journal des transactions à la demande pour plusieurs bases de données SQL Server</block>
  <block id="a75cd7342eb195ccea0a0f5ef399cb13" category="paragraph">Pour déclencher une sauvegarde à la demande du journal transactionnel pour plusieurs bases de données SQL Server, procédez comme suit :</block>
  <block id="f790ac7cb18962dff9c720679845e234" category="list-text">Sur la page de politique nouvellement créée, sélectionnez *Sauvegarder maintenant* en haut à droite de la page.</block>
  <block id="406cef8d9aef096206de115c8cd4ed4c" category="paragraph"><block ref="406cef8d9aef096206de115c8cd4ed4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1552095f0c2d2521f14458e1899ee71b" category="list-text">Dans la fenêtre contextuelle de l’onglet *Politique*, sélectionnez le menu déroulant, sélectionnez la politique de sauvegarde et configurez la sauvegarde du journal des transactions.</block>
  <block id="100b9701f6883e83bf6bda43a1ee9f64" category="paragraph"><block ref="100b9701f6883e83bf6bda43a1ee9f64" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0df35ef9b242c9f422a4cc2e1784903" category="list-text">Cliquez sur *Sauvegarder*.  Une nouvelle fenêtre s'affiche.</block>
  <block id="b16f685ee226b95caaad151608f96a19" category="list-text">Cliquez sur *Oui* pour confirmer la politique de sauvegarde.</block>
  <block id="c09c9245d3b407537c8fa8713f23fb75" category="paragraph"><block ref="c09c9245d3b407537c8fa8713f23fb75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d0ccd5722bd3156105a495a57a9fcc19" category="paragraph">Accédez à l’onglet *Surveillance* et surveillez la progression de la tâche de sauvegarde.</block>
  <block id="49d22ab1e258e738c63d0b66999cdf5b" category="paragraph"><block ref="49d22ab1e258e738c63d0b66999cdf5b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a4a58eef11580db01b6b09289a7975b6" category="paragraph">Consultez les conditions préalables suivantes nécessaires à la restauration d’une base de données SQL Server dans SnapCenter.</block>
  <block id="7ddc4eb994d251e5502d17ee020d88ad" category="list-text">L'instance cible doit être en ligne et en cours d'exécution avant qu'une tâche de restauration ne soit terminée.</block>
  <block id="4c5a871f473eb2bc6ade24dc7c9abda4" category="list-text">Les opérations SnapCenter planifiées pour s'exécuter sur la base de données SQL Server doivent être désactivées, y compris toutes les tâches planifiées sur les serveurs de gestion à distance ou de vérification à distance.</block>
  <block id="542e99a23c6a8ebaa0cc7df2db932223" category="list-text">Si vous restaurez des sauvegardes de répertoire de journaux personnalisés sur un autre hôte, le serveur SnapCenter et l'hôte du plug-in doivent avoir la même version de SnapCenter installée.</block>
  <block id="81ec57bf05a69240771c922d647a651c" category="list-text">Vous pouvez restaurer la base de données système sur un autre hôte.</block>
  <block id="ec5b173df4b3313050ca64425e06f516" category="list-text">SnapCenter peut restaurer une base de données dans un cluster Windows sans mettre le groupe de clusters SQL Server hors ligne.</block>
  <block id="042d132354b0d48ad24ee674bebdb6af" category="section-title">Restauration des tables supprimées d'une base de données SQL Server à un moment donné</block>
  <block id="4b4968094e7a3d8c79f9bc8caa8b22e4" category="paragraph">Pour restaurer une base de données SQL Server à un moment donné, procédez comme suit :</block>
  <block id="6df13174e00d0f623a406e9148d1548c" category="list-text">La capture d’écran suivante montre l’état initial de la base de données SQL Server avant les tables supprimées.</block>
  <block id="6b7fa02a488d07abda93c214afd631c5" category="paragraph"><block ref="6b7fa02a488d07abda93c214afd631c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d61cd88cd62206db3a9f9cab1565d3ad" category="paragraph">La capture d'écran montre que 20 lignes ont été supprimées de la table.</block>
  <block id="a8e81bc445fb776723fcc2f4aba88df9" category="paragraph"><block ref="a8e81bc445fb776723fcc2f4aba88df9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d3c565402042673af1d4898a8ff52a9" category="list-text">Connectez-vous au serveur SnapCenter .  Dans l’onglet *Ressources*, sélectionnez la base de données.</block>
  <block id="ef2417d50948fd4128465df5a0044eed" category="paragraph"><block ref="ef2417d50948fd4128465df5a0044eed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a69269402d35f0cccddfd918911a97d9" category="list-text">Sélectionnez la sauvegarde la plus récente.</block>
  <block id="583e868d2c26244722b015fea16af076" category="list-text">Sur la droite, sélectionnez *Restaurer*.</block>
  <block id="2059575a57677d48bc76e7a27b433de7" category="paragraph"><block ref="2059575a57677d48bc76e7a27b433de7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39435af0deb93996df3394c1b2036fd8" category="list-text">Une nouvelle fenêtre s'affiche.  Sélectionnez l'option *Restaurer*.</block>
  <block id="d7020dd530a8bef5050168b840079b00" category="list-text">Restaurez la base de données sur le même hôte où la sauvegarde a été créée.  Cliquez sur *Suivant*.</block>
  <block id="9090e2638adbfd492803ec840c508d8c" category="paragraph"><block ref="9090e2638adbfd492803ec840c508d8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="503e2d366ad9c17a4f549670670ad33e" category="list-text">Pour le *Type de récupération*, sélectionnez *Toutes les sauvegardes de journaux*.  Cliquez sur *Suivant*.</block>
  <block id="96a8afe63f129a191367451f72405a9b" category="paragraph"><block ref="96a8afe63f129a191367451f72405a9b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f62d3af2ed775633744765e13ceea92b" category="paragraph"><block ref="f62d3af2ed775633744765e13ceea92b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e63cae13f4b41b3fe8c7e3fec3319f06" category="paragraph">*Options de pré-restauration :*</block>
  <block id="de181095a646159b289fbcdbcf419e7b" category="list-text">Sélectionnez l'option *Écraser la base de données avec le même nom lors de la restauration*.  Cliquez sur *Suivant*.</block>
  <block id="2fe5e5a15d38cc3a3de56b09639004ca" category="paragraph"><block ref="2fe5e5a15d38cc3a3de56b09639004ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ed71c6a01179057b2d9bf0077204c6b" category="paragraph">*Options de post-restauration :*</block>
  <block id="9cfc344a514e0de0c6b807382b26c075" category="list-text">Sélectionnez l'option *Opérationnel, mais indisponible pour restaurer des journaux de transactions supplémentaires*.  Cliquez sur *Suivant*.</block>
  <block id="b1fa76d6d5e0efb7d7e2524b46e8110a" category="paragraph"><block ref="b1fa76d6d5e0efb7d7e2524b46e8110a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8420a5fc7b326a91c636b314aa454ec6" category="list-text">Fournissez les paramètres de courrier électronique.  Cliquez sur *Suivant*.</block>
  <block id="d218f4b7f9c9719a9243c0b0d76eb083" category="paragraph"><block ref="d218f4b7f9c9719a9243c0b0d76eb083" category="inline-image-macro-rx" type="image"></block></block>
  <block id="189945d7eb38e10b81a89111a89dc07e" category="paragraph"><block ref="189945d7eb38e10b81a89111a89dc07e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4506debb4b8eeba79855725078a52afb" category="section-title">Suivi de la progression de la restauration</block>
  <block id="9aff1c679025b15fa483f8f730686633" category="list-text">Dans l'onglet *Surveillance*, cliquez sur les détails de la tâche de restauration pour afficher la progression de la tâche de restauration.</block>
  <block id="ca90adad798b8064f457e3e227f16626" category="paragraph"><block ref="ca90adad798b8064f457e3e227f16626" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d2f265e204d2aa866e88f009e207aa68" category="list-text">Restaurer les détails du travail.</block>
  <block id="ea058dfa3976575a8bba81e32fca356a" category="paragraph"><block ref="ea058dfa3976575a8bba81e32fca356a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c5d988b8258420ba376fd703ae323bd" category="list-text">Retournez à l'hôte SQL Server &gt; base de données &gt; les tables sont présentes.</block>
  <block id="990f2c472997ae0e656e936d74d82472" category="paragraph"><block ref="990f2c472997ae0e656e936d74d82472" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d5b957cd473f6eaf5ad335a9c63c4ff" category="paragraph">Pour en savoir plus sur les informations décrites dans ce document, consultez les documents et/ou sites Web suivants :</block>
  <block id="425103b894468ffe6015f984f2683d74" category="inline-link">TR-4714 : Guide des meilleures pratiques pour Microsoft SQL Server avec NetApp SnapCenter</block>
  <block id="9c42feba6d2410200720e2ceda752e13" category="list-text"><block ref="9c42feba6d2410200720e2ceda752e13" category="inline-link-rx"></block></block>
  <block id="ee50ef71e7fa5dbc3292cb856c5f8ee5" category="inline-link"><block ref="ee50ef71e7fa5dbc3292cb856c5f8ee5" category="inline-link-rx"></block></block>
  <block id="822d30d1b5bfcb219aa830739d5b89a0" category="paragraph"><block ref="822d30d1b5bfcb219aa830739d5b89a0" category="inline-link-rx"></block></block>
  <block id="818095849ac39056a1077a0f3a155684" category="inline-link">Conditions requises pour la restauration d'une base de données</block>
  <block id="0305a2a48c225d49081b5bccd776b23d" category="list-text"><block ref="0305a2a48c225d49081b5bccd776b23d" category="inline-link-rx"></block></block>
  <block id="9f413d2e154ecad28af03b6125df6837" category="inline-link"><block ref="9f413d2e154ecad28af03b6125df6837" category="inline-link-rx"></block></block>
  <block id="98c7a90e9f834e61987ed9dd4072a0f3" category="paragraph"><block ref="98c7a90e9f834e61987ed9dd4072a0f3" category="inline-link-rx"></block></block>
  <block id="9b256b378583dbf8a4aea7e4d96460ff" category="list-text">Comprendre les cycles de vie des bases de données clonées</block>
  <block id="a35c63f82a8b880dd7d77b8868394548" category="inline-link"><block ref="a35c63f82a8b880dd7d77b8868394548" category="inline-link-rx"></block></block>
  <block id="622d6fd30919e1009adf5b3b6a9b61c4" category="paragraph"><block ref="622d6fd30919e1009adf5b3b6a9b61c4" category="inline-link-rx"></block></block>
  <block id="ebcadd0d5b1096e72d18133b1e0e3098" category="doc">TR-4467 : SAP avec Microsoft SQL Server sous Windows – Bonnes pratiques avec NetApp Clustered Data ONTAP et SnapCenter</block>
  <block id="611a4a6b98272a717f8e1f6bf5ba787b" category="paragraph">Marco Schoen, NetApp</block>
  <block id="dbd408dfbba42c9529974244acc200aa" category="paragraph">TR-4467 fournit aux clients et aux partenaires les meilleures pratiques pour le déploiement de NetApp Data ONTAP en cluster à l'appui des solutions SAP Business Suite exécutées dans un environnement Microsoft SQL Server sur Windows.</block>
  <block id="d90b6dfa1c90883fc207f3309f98b1bf" category="paragraph"><block ref="d90b6dfa1c90883fc207f3309f98b1bf" category="inline-link-macro-rx"></block></block>
  <block id="0502e6755528910223db364699e71622" category="doc">TR-4590 : Guide des meilleures pratiques pour Microsoft SQL Server avec ONTAP</block>
  <block id="7788b16f8e56867380c0e39b9e9a9b73" category="paragraph">Manohar Kulkarni et Pat Sinthusan, NetApp</block>
  <block id="cf2906d4a365d3dbf40f1f495ff7a0eb" category="paragraph">Ce document décrit les meilleures pratiques et offre un aperçu des considérations de conception pour le déploiement de SQL Server sur des systèmes de stockage NetApp exécutant le logiciel NetApp ONTAP , dans le but d'obtenir un déploiement de stockage efficace et efficient et une planification de la protection et de la conservation des données de bout en bout.</block>
  <block id="ddfcd18933c13e026412b8c36996dbaf" category="inline-link-macro">TR-4590 : Guide des meilleures pratiques pour Microsoft SQL Server avec ONTAP</block>
  <block id="49814a6b08319963f5bef4f7ea99cfb5" category="paragraph"><block ref="49814a6b08319963f5bef4f7ea99cfb5" category="inline-link-macro-rx"></block></block>
  <block id="046c9e52934c311f81497ca664d86a24" category="doc">TR-4764 : Meilleures pratiques pour Microsoft SQL Server avec NetApp EF-Series</block>
  <block id="d9cd8ac988f5ea26e28a2da5f3485ff9" category="paragraph">Mitch Blackburn, Pat Sinthusan, NetApp</block>
  <block id="9db08b91ae68a77b71af230b40b31325" category="paragraph">Ce guide des meilleures pratiques est destiné à aider les administrateurs de stockage et les administrateurs de base de données à déployer avec succès Microsoft SQL Server sur le stockage NetApp EF-Series.</block>
  <block id="730874cec0e792d7ebad5a796a90b3be" category="paragraph"><block ref="730874cec0e792d7ebad5a796a90b3be" category="inline-link-macro-rx"></block></block>
  <block id="d79b12332bd4254f1e9cd6c23201a104" category="doc">TR-4722 : Bonnes pratiques pour la base de données MySQL sur NetApp ONTAP</block>
  <block id="ecb384a7266ef6f8f011aa654a810c39" category="paragraph">Anup Bharti, Manohar Kulkarni, Jeffrey Steiner NetApp</block>
  <block id="ccf4f5e223b1332c8f679f6a75664cae" category="paragraph">MySQL et ses variantes, notamment MariaDB et Percona, sont largement utilisés pour de nombreuses applications d'entreprise.  Ces applications vont des sites de réseaux sociaux mondiaux et des systèmes de commerce électronique massifs aux systèmes d'hébergement PME contenant des milliers d'instances de bases de données.  Ce document décrit les exigences de configuration et fournit des conseils sur le réglage et la configuration du stockage pour le déploiement de MySQL sur le logiciel de gestion de données NetApp ONTAP .  Pour déterminer si l'environnement, les configurations et les versions spécifiés dans ce rapport prennent en charge votre environnement, consultez l'outil de matrice d'interopérabilité (IMT).</block>
  <block id="74836ad3df3c237074f67acbd8f54d15" category="paragraph"><block ref="74836ad3df3c237074f67acbd8f54d15" category="inline-link-macro-rx"></block></block>
  <block id="1706135f6c2fde8c4247ce7ca185ca31" category="summary">La solution fournit une boîte à outils d'automatisation basée sur Ansible pour la configuration, le clonage et l'actualisation d'une très grande base de données clonée Oracle (VLDB) à partir d'une copie de sauvegarde d'image de base de données Oracle résidant dans des volumes cloud NetApp , disponibles à partir d'une plate-forme cloud publique.  La boîte à outils prend initialement en charge les Google Cloud NetApp Volumes (GCNV), mais peut être étendue pour prendre en charge d'autres volumes cloud tels qu'Azure Azure NetApp Files (ANF) ou Amazon FSx for ONTAP (FSxN).</block>
  <block id="2d67940d27634da3418e76cfa66225cb" category="doc">Cycle de vie automatisé du clone Oracle VLDB avec sauvegarde d'image sur serveur</block>
  <block id="dbc72de5a3b33e77559867d3a7e8e524" category="paragraph">L'exploitation de la fonctionnalité de clonage rapide (minutes) des volumes NetApp ONTAP pour Oracle VLDB à partir d'une copie de sauvegarde d'image de base de données sur serveur dans le cloud public répond à plusieurs objectifs.  Il fournit une base de données de production en temps quasi réel et en taille réelle pour les cas d'utilisation de reporting, de développement ou d'UAT.  Cela permet de réduire les coûts de stockage, en particulier lorsqu'un clonage fin des volumes de sauvegarde de la base de données principale est une option.  Cette boîte à outils d'automatisation basée sur Ansible permet aux utilisateurs de configurer, cloner et actualiser les bases de données Oracle clonées selon les calendriers souhaités par l'utilisateur pour une gestion simplifiée du cycle de vie.  La boîte à outils est destinée au cas d'utilisation d'Oracle VLDB déployé sur le cloud public de Google et utilise GCNV comme stockage de sauvegarde de base de données sur serveur.</block>
  <block id="868fdcb1d29bcb2b687235f9fbc622c7" category="list-text">Configurez les fichiers de configuration de clonage de base de données pour le clonage automatisé de base de données Oracle.</block>
  <block id="f4e5348def558e4db47cf81abde78bb6" category="list-text">Créez ou actualisez une base de données Oracle clonée à partir d'une copie de sauvegarde d'image de base de données principale à l'aide d'un playbook Ansible sur un planificateur.</block>
  <block id="944c1a2be8795d0d68670959fdd7d6ae" category="list-text">Un propriétaire d'application qui aime cloner des bases de données Oracle à partir d'une copie de sauvegarde d'image de base de données pour d'autres cas d'utilisation.</block>
  <block id="527a240fc9b803bb21adf3d090d97286" category="admonition">Pour simplifier, le serveur Oracle cible du clone doit être configuré de manière identique au serveur Oracle principal, comme la pile logicielle Oracle ainsi que la disposition du répertoire pour Oracle Home, etc.</block>
  <block id="015dba467992caeec1ef3f7bc7ea6797" category="paragraph">La boîte à outils comprend un fichier hosts qui définit les hôtes Oracle source et cible sur lesquels le playbook Ansible s'exécute.  En général, il comprend l'hôte du serveur de base de données principal et l'hôte du serveur de base de données clone cible.  Voici un exemple de fichier.  Une entrée d'hôte inclut l'adresse IP de l'hôte cible ainsi que la clé ssh pour l'accès utilisateur à l'hôte afin d'exécuter une commande de clonage ou d'actualisation.  Le stockage Google Cloud NetApp Volumes est accessible et géré via gcloud cli.</block>
  <block id="342ef9e1a0508a0765f380a419f76f50" category="paragraph">Les variables d'hôte sont définies dans le répertoire host_vars nommé {{ host_name }}.yml qui s'applique uniquement à l'hôte particulier.  Pour cette solution, seul le fichier de paramètres de l'hôte de la base de données clone cible est configuré.  Les paramètres de la base de données principale Oracle sont configurés dans le fichier vars global.  Vous trouverez ci-dessous un exemple de fichier de variable hôte de base de données clone Oracle cible orac.yml qui montre une configuration typique.</block>
  <block id="08f18ffb22434781a2894c117fbb8f87" category="paragraph">Le serveur Oracle cible cloné doit avoir la même pile logicielle Oracle que le serveur Oracle source installé et corrigé.  La variable $ORACLE_HOME doit idéalement correspondre au paramètre du serveur Oracle source.  Si le paramètre ORACLE_HOME cible est différent de la configuration du serveur Oracle principal, créez un lien symbolique pour contourner les différences.</block>
  <block id="e093a58397af4521c44cb6c9e3e287ce" category="paragraph">Si la base de données principale est configurée avec ASM, le groupe principal des fichiers de données peut appartenir au groupe ASM et le même groupe ASM avec le même ID de groupe doit être ajouté à l'hôte clone pour éviter les problèmes d'autorisation.</block>
  <block id="99247d1f4aef664b16648f2ddcf4e6cf" category="paragraph">Pour cloner des bases de données supplémentaires, créez un oracle_bkup_clone_n_gcnv.yml et un oracle_bkup_clone_n_gcnv.sh distincts.  Configurez les hôtes cibles Ansible, les fichiers vars.yml globaux et hostname.yml dans le répertoire host_vars en conséquence.</block>
  <block id="ce7362bea27188fd92bae39021738660" category="section-title">Détails d'exécution du manuel de jeu</block>
  <block id="f40a38fbc1ac57e276f37a9b5baabb1d" category="paragraph">Le fichier journal suivant capture les détails de la sortie d'une exécution complète du playbook pour référence.</block>
  <block id="87561d435f6cd79a59659b543d2991ca" category="summary">Cette section décrit une architecture de solution de déploiement personnalisée RDS Oracle avec un stockage Oracle RDS et FSx ONTAP personnalisé.</block>
  <block id="a40893fa754ed62d5268702b023fea91" category="doc">Architecture de la solution</block>
  <block id="ca449b8ca808c6d325abf6b1a047318c" category="paragraph">Le diagramme d'architecture suivant illustre un déploiement de base de données Oracle hautement disponible sur une instance AWS EC2 avec le service de stockage FSx.  Un schéma de déploiement similaire, mais avec la veille dans une région différente, peut être mis en place pour la reprise après sinistre.</block>
  <block id="312f941d9e8f224f54ae372016e8f35a" category="paragraph">Dans l’environnement, l’instance de calcul Oracle est déployée via une console d’instance AWS EC2.  Plusieurs types d’instances EC2 sont disponibles depuis la console.  NetApp recommande de déployer un type d'instance EC2 orienté base de données, tel qu'une image Ami m5 avec RedHat Enterprise Linux 8 et jusqu'à 10 Gps de bande passante réseau.</block>
  <block id="228488653f80c4dfe7bd79d5f9634ea4" category="paragraph">Le stockage de base de données Oracle sur les volumes FSx, quant à lui, est déployé avec la console AWS FSx ou CLI.  Les volumes binaires, de données ou de journaux Oracle sont ensuite présentés et montés sur un hôte Linux d'instance EC2.  Chaque volume de données ou de journal peut avoir plusieurs LUN alloués en fonction du protocole de stockage sous-jacent utilisé.</block>
  <block id="830579b4d0c33e9e4fa1f11c61cb73a7" category="inline-image-macro">Cette image représente un exemple de diagramme d'architecture comprenant le cluster HA principal, le cluster HA de secours, les nœuds de gestion et les nœuds de connexion associés.</block>
  <block id="b87701d1e5946de8467bd302a04772ae" category="paragraph"><block ref="b87701d1e5946de8467bd302a04772ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e3d0f7ae75ed6e0e3b522ecc7cac710b" category="paragraph">Un cluster de stockage FSx est conçu avec une double redondance, de sorte que les clusters de stockage principal et de secours sont déployés dans deux zones de disponibilité différentes.  Les volumes de base de données sont répliqués d'un cluster FSx principal vers un cluster FSx de secours à un intervalle configurable par l'utilisateur pour tous les volumes binaires, de données et de journaux Oracle.</block>
  <block id="0008c12bed67fcf1f82ece8ff10b5c81" category="paragraph">Cet environnement Oracle haute disponibilité est géré avec un nœud de contrôleur Ansible et un serveur de sauvegarde SnapCenter et un outil d'interface utilisateur.  L'installation, la configuration et la réplication d'Oracle sont automatisées à l'aide de kits d'outils basés sur le playbook Ansible.  Toute mise à jour du système d'exploitation du noyau de l'instance Oracle EC2 ou tout correctif Oracle peut être exécuté en parallèle pour maintenir la synchronisation entre le serveur principal et le serveur de secours.  En fait, la configuration d’automatisation initiale peut être facilement étendue pour effectuer certaines tâches Oracle quotidiennes répétitives si nécessaire.</block>
  <block id="be571c48040d6c3bf764ba40188888d2" category="paragraph">SnapCenter fournit des flux de travail pour la récupération ponctuelle de la base de données Oracle ou pour le clonage de la base de données dans les zones principales ou de secours si nécessaire.  Grâce à l'interface utilisateur SnapCenter , vous pouvez configurer la sauvegarde et la réplication de la base de données Oracle sur le stockage FSx de secours pour une haute disponibilité ou une reprise après sinistre en fonction de vos objectifs RTO ou RPO.</block>
  <block id="be22c0b35f58a932be14c9e55b163ac4" category="paragraph">La solution fournit un processus alternatif qui offre des fonctionnalités similaires à celles disponibles à partir du déploiement d'Oracle RAC et de Data Guard.</block>
  <block id="84f09994e75c5ede8e07c6ab4070faae" category="summary">Cette section fournit des détails sur la validation des performances et les résultats d'analyse comparative d'une charge de travail OLTP simulée Swingbench.</block>
  <block id="d9a4da5bae7f5f09fa9c3850a052c626" category="doc">Validation des performances et résultats de référence</block>
  <block id="4e71b9ce7d16c817e38c3c0b45825062" category="paragraph">Le but de cette validation de performance n’est pas d’établir une note.  Au contraire, si vous suivez les procédures de déploiement et les meilleures pratiques décrites dans cette documentation, vous pouvez vous attendre à des mesures de performances similaires de votre déploiement de base de données Oracle dans un cloud public.</block>
  <block id="0215fc4537f81bbc2d6ff19ba75efeb5" category="paragraph">Nous avons utilisé un module Swingbench Sales Order Entry (SOE) pour simuler une charge de travail de type OLTP, et nous avons appliqué la charge de travail à une base de données Oracle déployée sur une instance M5 EC2 avec des volumes de stockage FSx sur le protocole NFS.  Le profil d'E/S Swingbench SOE par défaut est proche d'une répartition lecture/écriture 80/20, ce qui est proche d'un profil de charge de travail Oracle OLTP réel.</block>
  <block id="611831b4b814ffa8e208ff6b01e797d9" category="paragraph">La charge de travail est augmentée en augmentant le nombre d'utilisateurs simultanés côté client qui effectuent la saisie des commandes, la navigation, les requêtes d'inventaire, etc.  Les nombres testés étaient de 8, 16, 32, 64 et 128 utilisateurs simultanés.  L'algorithme utilisé par Swingbench est lourd côté serveur pour pousser des volumes de transactions raisonnables et tester les limites du serveur Oracle.  Nous avons observé qu'avec 128 utilisateurs simultanés, l'utilisation du processeur de l'instance EC2 atteignait environ 80 à 90 % de sa capacité.</block>
  <block id="a5cbb12f8f9f28c970230ab16d36e184" category="paragraph">Les sections suivantes fournissent des détails sur la configuration et les résultats des tests.</block>
  <block id="e018eaf806fedc0fa46d2acde6f60425" category="section-title">Configuration de l'environnement de test</block>
  <block id="a623a8d0366bf079411aa30be45b2d10" category="section-title">Calculer</block>
  <block id="ff4adf700c0c4ba7e493af033a81ac29" category="paragraph">Nous avons déployé une instance EC2 M5 avec 8vCPU, 32G RAM et 10Gps de bande passante réseau.</block>
  <block id="db98c654e17128cf4bb2dccf030f91d5" category="paragraph"><block ref="db98c654e17128cf4bb2dccf030f91d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5e18ca4731d9d72ae0bd4438c7e84b5" category="section-title">Stockage FSx</block>
  <block id="dc29ebaf5cc1f622aabb0ae70efeced6" category="paragraph">Nous avons créé trois volumes de base de données et monté les volumes avec NFS sur une instance EC2 comme suit :</block>
  <block id="829e4dfdaee315e0cfdba47e5047adf7" category="list-text">/u01 - Binaire Oracle</block>
  <block id="5853f5304485ce536b44cd0dfb18bdbc" category="list-text">/u02 - Fichiers de données Oracle, fichier de contrôle</block>
  <block id="ee6ac3c6792e507ea8c5717f79c8ab46" category="list-text">/u03 - Fichiers journaux Oracle, fichier de contrôle</block>
  <block id="363dd83f018d937efa507464961997c5" category="paragraph">Nous avons conservé deux copies d’un fichier de contrôle critique à des fins de redondance.</block>
  <block id="27809f611e3f3ea83f75a34521d09141" category="paragraph"><block ref="27809f611e3f3ea83f75a34521d09141" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9c8184a7a7a9ecb63af93d93759b393" category="paragraph">Le système de fichiers FSx est configuré avec une capacité de 80 000 IOPS et un débit d'E/S de 2 GioBps.</block>
  <block id="3570146db42993029d30dbd022107030" category="section-title">Configuration Oracle</block>
  <block id="9daecb8faf1751109e100894205a6aef" category="paragraph">Nous avons installé la version Oracle 19c avec le patch RU 19.8. dNFS a été activé sur le serveur.</block>
  <block id="9041eebdfc5395440a43baff789c663b" category="paragraph">La base de données a été déployée en tant que base de données conteneurisée avec trois PDB.  Nous avons utilisé une instance PDB pour les tests de performances.  La figure suivante montre le dimensionnement du stockage Oracle sur les points de montage NFS.</block>
  <block id="a8db43ee55b8a44b31749786182e24fb" category="paragraph"><block ref="a8db43ee55b8a44b31749786182e24fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8da929e8cdb57e8ea66260e3f7090d35" category="section-title">Configuration du banc pivotant</block>
  <block id="6af00d716d36ee74995307e004b66d3f" category="paragraph">Nous avons déployé Swingbench 2.6 (la dernière version) sur un hôte Windows avec 8vCPU et 32G de RAM.  Nous avons utilisé le module de test SOE plsql version 2 pour le benchmark.  Le profil de charge par défaut fournit un rapport lecture/écriture de 80/20 pour simuler la charge de travail des transactions OLTP réelles.</block>
  <block id="5850fdbd1ed0c58b02c8d3797381e7c6" category="paragraph">Le facteur d'échelle du schéma que nous avons utilisé était de 50, ce qui a fourni une taille de chargement de données initiale de 160 Go et 30 Go d'allocation d'espace temporaire.  À cette échelle, le schéma SOE a fourni 1 000 entrepôts et 50 millions de clients pour la simulation du traitement des commandes en ligne.</block>
  <block id="9bc139569eaa30f1804b313d21ab69fa" category="paragraph">La capture d'écran suivante illustre le profil de charge de travail et les mesures d'exécution transactionnelle typiques de l'interface utilisateur Windows de Swingbench.</block>
  <block id="4f2534fa1d3a6bb439e5f443bdd5d3ff" category="paragraph"><block ref="4f2534fa1d3a6bb439e5f443bdd5d3ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5531d1590836e811c3ace97db7e230eb" category="paragraph">Comme le montre ce graphique, le niveau de transaction est resté au même niveau tout au long du test.</block>
  <block id="6c805c8ead51e13766957cbda36fd2c0" category="section-title">Analyse des résultats des tests</block>
  <block id="54f9f904b574caddc93a83f3057be251" category="paragraph">Nous avons capturé les résultats de Swingbench pour chaque exécution de test et obtenu les rapports Oracle AWR correspondants pour l'analyse des performances.</block>
  <block id="9126019861ad7339333760b7b3bd5174" category="paragraph">Du côté de l’utilisateur final, nous avons examiné des indicateurs clés tels que le volume des transactions et le temps de réponse de l’utilisateur.  Les deux mesures montrent combien de transactions les utilisateurs peuvent exécuter à partir du système de saisie des commandes, compte tenu du nombre d'utilisateurs simultanés se connectant au système, ainsi que la rapidité avec laquelle les utilisateurs peuvent terminer les transactions et recevoir une réponse après avoir saisi leur commande.</block>
  <block id="809217313025f03af0a774770ed7688d" category="paragraph">Du côté du serveur Oracle, nous avons analysé le rapport Oracle AWR pour déterminer les principaux événements d’attente susceptibles d’avoir ralenti les transactions des utilisateurs.  Les 10 principaux événements d'attente Oracle ont indiqué que, lors des tests de transaction simulés Swingbench, le serveur Oracle est principalement lié aux E/S, avec jusqu'à 50 à 60 % du temps de base de données consacré à<block ref="235591872ecf336383513d22098a1fa0" prefix=" " category="inline-code"></block> .<block ref="a249b22faad82bdea2a0930347b9e5ac" prefix=" " category="inline-code"></block> est également un facteur contributif car les validations de transaction obligent le processus de journalisation Oracle à vider les E/S du journal du cache tampon vers le fichier journal sur le disque, bien qu'il s'agisse d'un facteur plus petit au niveau du pourcentage de temps de la base de données.</block>
  <block id="4da3501ef8d9ebc196009ef0bf4e4360" category="paragraph">Nous avons représenté graphiquement le volume de transactions des utilisateurs, le temps de réponse des utilisateurs et les principaux événements d'attente Oracle par rapport au nombre d'utilisateurs simultanés lors d'une exécution de transaction.  Les résultats sont présentés ci-dessous :</block>
  <block id="6dc1a88cef659b42f291de3a71a3998b" category="paragraph"><block ref="6dc1a88cef659b42f291de3a71a3998b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b225219fb0a32b17f3f7f3964edfa599" category="paragraph">Ces résultats indiquent que nous pourrions augmenter régulièrement les volumes de transactions des utilisateurs avec un nombre accru d'utilisateurs simultanés tout en maintenant une latence d'E/S et un temps de réponse utilisateur constamment faibles, ce qui constitue des performances appropriées pour une application Oracle.</block>
  <block id="ccc7b98ab0c81e5b7e4033e88910e92e" category="paragraph">La latence d'E/S et le temps de réponse de l'utilisateur ont commencé à augmenter quelque peu lorsque nous avons atteint 128 utilisateurs simultanés.  Cela est attendu car l'instance EC2 approche de la pleine capacité du serveur, comme illustré dans le diagramme suivant :</block>
  <block id="21dc163b185109e6c86fd010bc034278" category="paragraph"><block ref="21dc163b185109e6c86fd010bc034278" category="inline-image-macro-rx" type="image"></block></block>
  <block id="faf8392c1e8a1c488f303b45f48fd31d" category="paragraph">De même, le diagramme suivant montre les IOPS et le débit FSx correspondants tout en répondant aux volumes de transactions utilisateur à ce moment-là.</block>
  <block id="8fdc20fb85a81aa653551faca1e072a9" category="paragraph"><block ref="252446164ef83db058909bdb949247b3" category="inline-image-macro-rx" type="image"></block> <block ref="e0eb37bfb49cfad46839600bb61d38d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d8430502705720b257f565ec9140e72" category="inline-link-macro">Facteurs à prendre en compte pour le déploiement de la base de données Oracle.</block>
  <block id="f65992de3860fff89cfd63788c5aa0cb" category="paragraph">Nous n'avons pas atteint la capacité de stockage FSx provisionnée, ni en termes d'IOPS ni en termes de débit, lorsque l'instance EC2 du serveur Oracle est devenue le facteur limitant.  Par conséquent, vous devez dimensionner correctement le calcul et le stockage en fonction du volume de transactions au niveau de l'application utilisateur, comme nous le démontrons dans la section<block ref="006ce1a5ca923fbeccbfa7766e7ad617" category="inline-link-macro-rx"></block></block>
  <block id="784f4d9bc2efa477eafb911859744478" category="summary">La solution fournit une vue d'ensemble et des détails pour la configuration d'Oracle Data Guard à l'aide d'AWS FSx ONTAP comme site de stockage de base de données Oracle de secours afin de réduire les coûts de licence et d'exploitation de la solution Oracle Data Guard HA/DR dans AWS.</block>
  <block id="d41392db0c7e69ca86a4c8f0c8bc2a8f" category="doc">TR-4981 : Réduction des coûts d'Oracle Active Data Guard avec Amazon FSx ONTAP</block>
  <block id="1e2ef808c756fe2fc18593d9fa502fea" category="paragraph">Cette solution fournit un aperçu et des détails sur la configuration d'Oracle Data Guard à l'aide d'AWS FSx ONTAP comme site de stockage de base de données Oracle de secours afin de réduire les coûts de licence et d'exploitation de la solution Oracle Data Guard HA/DR dans AWS.</block>
  <block id="f9ca3bf31876c6185710d49eac400cfe" category="paragraph">Oracle Data Guard garantit une haute disponibilité, une protection des données et une reprise après sinistre pour les données d'entreprise dans une configuration de réplication de base de données principale et de base de données de secours.  Oracle Active Data Guard permet aux utilisateurs d'accéder aux bases de données de secours pendant que la réplication des données est active de la base de données principale vers les bases de données de secours.  Data Guard est une fonctionnalité d'Oracle Database Enterprise Edition.  Cela ne nécessite pas de licence distincte.  D'autre part, Active Data Guard est une option Oracle Database Enterprise Edition et nécessite donc une licence distincte.  Plusieurs bases de données de secours peuvent recevoir la réplication des données à partir d'une base de données principale dans la configuration Active Data Guard.  Cependant, chaque base de données de secours supplémentaire nécessite une licence Active Data Guard et un stockage supplémentaire en fonction de la taille de la base de données principale.  Les coûts opérationnels s’accumulent rapidement.</block>
  <block id="5afa567381b78444937fdc789ad61e1a" category="paragraph">Si vous souhaitez réduire les coûts de votre exploitation de base de données Oracle et envisagez de configurer un Active Data Guard dans AWS, vous devriez envisager une alternative.  Au lieu d'Active Data Guard, utilisez Data Guard pour répliquer de la base de données principale vers une seule base de données de secours physique sur le stockage Amazon FSx ONTAP .  Par la suite, plusieurs copies de cette base de données de secours peuvent être clonées et ouvertes pour un accès en lecture/écriture afin de servir de nombreux autres cas d'utilisation tels que le reporting, le développement, les tests, etc. Les résultats nets fournissent efficacement les fonctionnalités d'Active Data Guard tout en éliminant la licence Active Data Guard et les coûts de stockage supplémentaires pour chaque base de données de secours supplémentaire.  Dans cette documentation, nous montrons comment configurer un Oracle Data Guard avec votre base de données principale existante dans AWS et placer une base de données de secours physique sur le stockage Amazon FSx ONTAP .  La base de données de secours est sauvegardée via un instantané et clonée pour un accès en lecture/écriture pour les cas d'utilisation souhaités.</block>
  <block id="309cd12bd99b7c9e7ad680fcef778228" category="list-text">Oracle Data Guard entre une base de données principale sur n'importe quel stockage dans AWS et une base de données de secours sur le stockage Amazon FSx ONTAP .</block>
  <block id="1373f5f0167ef176e393747ff34f4b37" category="list-text">Clonez la base de données de secours lorsqu'elle est fermée pour la réplication des données afin de répondre à des cas d'utilisation tels que la création de rapports, le développement, les tests, etc.</block>
  <block id="b7224dd0f37ea7dba810e399e48f1e1f" category="list-text">Un administrateur de base de données qui a configuré Oracle Active Data Guard dans AWS pour la haute disponibilité, la protection des données et la reprise après sinistre.</block>
  <block id="550c8c85ffce2de3188f9704c188de3c" category="list-text">Un architecte de solutions de base de données intéressé par la configuration d'Oracle Active Data Guard dans le cloud AWS.</block>
  <block id="e4efb5457095eb4b55bfc3c725c45bc6" category="list-text">Un administrateur de stockage qui gère le stockage AWS FSx ONTAP prenant en charge Oracle Data Guard.</block>
  <block id="3b6ea806d7ca3ec3483737a2c6b96a47" category="list-text">Un propriétaire d'application qui souhaite mettre en place Oracle Data Guard dans un environnement AWS FSx/EC2.</block>
  <block id="63bec441d029d5ce44b5fda7d69153c0" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement de laboratoire AWS FSx ONTAP et EC2 qui pourrait ne pas correspondre à l'environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="c40f260dcfd75e015bf40c37284fce8d" category="inline-image-macro">Cette image fournit une image détaillée de l'implémentation d'Oracle Data Guard dans AWS avec FSx ONTAP.</block>
  <block id="9d594ede9da506de87af7f3f92ecfa24" category="paragraph"><block ref="9d594ede9da506de87af7f3f92ecfa24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a09dc18a1bff4fa8388afca4627d0911" category="cell">Stockage FSx ONTAP</block>
  <block id="2121dc715f8fee4210e0374eb562c84d" category="cell">Trois instances EC2 T2 xlarge EC2, une comme serveur de base de données principal, une comme serveur de base de données de secours et la troisième comme serveur de base de données clone</block>
  <block id="52359c9653f33c68cd1b454f7d05a27b" category="cell">RHEL-8.6.0_HVM-20220503-x86_64-2-Hourly2-GP2</block>
  <block id="ca8a675d4efb691e78dedc948041f3b6" category="section-title">Configuration d'Oracle Data Guard avec configuration hypothétique de reprise après sinistre de New York à Los Angeles</block>
  <block id="6e63145f93e8264084d51b8487d8bb5a" category="cell">*DB_UNIQUE_NAME*</block>
  <block id="08ede96534ff1efd5b0193eda6efd01c" category="cell">*Nom du service Oracle Net*</block>
  <block id="074de7e7c226d5c60f8af14c20725352" category="cell">Primaire</block>
  <block id="668f361c1cd1909a84f76c9e89450691" category="cell">db1_NY</block>
  <block id="31cedb742316bfb63604cb838e2fbd67" category="cell">db1_NY.demo.netapp.com</block>
  <block id="0bb7066f912b36d8b2abd23b39aea8bf" category="cell">Veille physique</block>
  <block id="3b1ac5a2383d6bae39c010102ab76ec8" category="cell">db1_LA</block>
  <block id="12eea44985687889a715748b159aacb5" category="cell">db1_LA.demo.netapp.com</block>
  <block id="96686b873db5b24893df16faa4703808" category="list-text">*Comment fonctionne Oracle Standby Database FlexClone .*  AWS FSx ONTAP FlexClone fournit des copies partagées des mêmes volumes de base de données de secours qui sont accessibles en écriture.  Les copies des volumes sont en fait des pointeurs qui renvoient aux blocs de données d'origine jusqu'à ce qu'une nouvelle écriture soit lancée sur le clone.  ONTAP alloue ensuite de nouveaux blocs de stockage pour les nouvelles écritures.  Toutes les E/S de lecture sont traitées par des blocs de données d'origine sous réplication active.  Ainsi, les clones sont très efficaces en termes de stockage et peuvent être utilisés pour de nombreux autres cas d'utilisation avec une allocation de stockage minimale et incrémentielle pour les nouvelles E/S d'écriture.  Cela permet de réaliser d’énormes économies de coûts de stockage en réduisant considérablement l’empreinte de stockage d’Active Data Guard.  NetApp recommande de minimiser les activités FlexClone en cas de basculement de la base de données du stockage principal vers le stockage FSx de secours afin de maintenir les performances Oracle à un niveau élevé.</block>
  <block id="714b6519d8509d6b6dd2df24196f06e4" category="inline-link-macro">support.oracle.com</block>
  <block id="dde8156b287d10e91a53b11990c2d067" category="list-text">*Configuration requise pour le logiciel Oracle.*  En général, une base de données de secours physique doit avoir la même version de base de données que la base de données principale, y compris les exceptions de jeu de correctifs (PSE), les mises à jour de correctifs critiques (CPU) et les mises à jour de jeu de correctifs (PSU), sauf si un processus d'application de correctif Oracle Data Guard Standby-First est en cours (comme décrit dans la note My Oracle Support 1265700.1 à l'adresse<block ref="65806ca1a4e44d7565055b2160a952fb" category="inline-link-macro-rx"></block></block>
  <block id="9a74dfee83f901bbb995e7d4d9f21057" category="list-text">*Considérations relatives à la structure du répertoire de la base de données de secours.*  Si possible, les fichiers de données, les fichiers journaux et les fichiers de contrôle sur les systèmes principal et de secours doivent avoir les mêmes noms et chemins d'accès et utiliser les conventions de dénomination OFA (Optimal Flexible Architecture).  Les répertoires d'archivage de la base de données de secours doivent également être identiques entre les sites, y compris la taille et la structure.  Cette stratégie permet à d’autres opérations telles que les sauvegardes, les basculements et les basculements d’exécuter le même ensemble d’étapes, réduisant ainsi la complexité de la maintenance.</block>
  <block id="76d62bcf48e1a8f37c916496440df6b5" category="list-text">*Forcer le mode de journalisation.*  Pour vous protéger contre les écritures directes non enregistrées dans la base de données principale qui ne peuvent pas être propagées vers la base de données de secours, activez FORCE LOGGING sur la base de données principale avant d'effectuer des sauvegardes de fichiers de données pour la création de secours.</block>
  <block id="6aab76a9832cdc4aedf822409a67b715" category="list-text">*Gestion du stockage de la base de données.*  Pour plus de simplicité opérationnelle, Oracle recommande, lorsque vous configurez Oracle Automatic Storage Management (Oracle ASM) et Oracle Managed Files (OMF) dans une configuration Oracle Data Guard, de les configurer de manière symétrique sur les bases de données principales et de secours.</block>
  <block id="89a78e9473b16ecb4c8c28739f77fbbf" category="list-text">*Instances de calcul EC2.*  Dans ces tests et validations, nous avons utilisé une instance AWS EC2 t2.xlarge comme instance de calcul de base de données Oracle.  NetApp recommande d’utiliser une instance EC2 de type M5 comme instance de calcul pour Oracle dans le déploiement de production, car elle est optimisée pour la charge de travail de la base de données.  Vous devez dimensionner l'instance EC2 de manière appropriée en fonction du nombre de vCPU et de la quantité de RAM en fonction des exigences réelles de la charge de travail.</block>
  <block id="891a36218aaef7e59d635d4a02fcd917" category="list-text">*Déploiement de clusters de stockage HA FSx sur une ou plusieurs zones.*  Dans ces tests et validations, nous avons déployé un cluster FSx HA dans une seule zone de disponibilité AWS.  Pour le déploiement en production, NetApp recommande de déployer une paire FSx HA dans deux zones de disponibilité différentes.  Un cluster FSx est toujours provisionné dans une paire HA synchronisée dans une paire de systèmes de fichiers actifs-passifs pour fournir une redondance au niveau du stockage.  Le déploiement multizone améliore encore la haute disponibilité en cas de panne dans une seule zone AWS.</block>
  <block id="38bf8daaeda3c096093351f7666bfaa4" category="list-text">*Dimensionnement du cluster de stockage FSx.*  Un système de fichiers de stockage Amazon FSx ONTAP fournit jusqu'à 160 000 IOPS SSD brutes, jusqu'à 4 Gbit/s de débit et une capacité maximale de 192 TiB.  Cependant, vous pouvez dimensionner le cluster en termes d'IOPS provisionnés, de débit et de limite de stockage (minimum 1 024 Gio) en fonction de vos besoins réels au moment du déploiement.  La capacité peut être ajustée dynamiquement à la volée sans affecter la disponibilité de l'application.</block>
  <block id="7714e62713b517325d1dbcb277ffec72" category="paragraph">Il est supposé que votre base de données Oracle principale est déjà déployée dans un environnement AWS EC2 au sein d'un VPC comme point de départ pour la configuration de Data Guard.  La base de données principale est déployée à l’aide d’Oracle ASM pour la gestion du stockage.  Deux groupes de disques ASM - +DATA et +LOGS sont créés pour les fichiers de données Oracle, les fichiers journaux et le fichier de contrôle, etc. Pour plus de détails sur le déploiement d'Oracle dans AWS avec ASM, veuillez vous référer aux rapports techniques suivants pour obtenir de l'aide.</block>
  <block id="31a24635ce69dd426c0b029c4fcdc98d" category="inline-link-macro">Meilleures pratiques de déploiement de bases de données Oracle sur EC2 et FSx</block>
  <block id="e448c29edca53d71511282e59019cb95" category="list-text"><block ref="e448c29edca53d71511282e59019cb95" category="inline-link-macro-rx"></block></block>
  <block id="ab12a73272bb7f9d19f02c65ce057f61" category="inline-link-macro">Déploiement et protection de la base de données Oracle dans AWS FSx/EC2 avec iSCSI/ASM</block>
  <block id="9fe0964775d4e89b8fa0000697106e28" category="list-text"><block ref="9fe0964775d4e89b8fa0000697106e28" category="inline-link-macro-rx"></block></block>
  <block id="885f346093197ca6295f5ac1ded93d82" category="inline-link-macro">Oracle 19c en redémarrage autonome sur AWS FSx/EC2 avec NFS/ASM</block>
  <block id="1e5210e8896bad27959d8255d1b3eec2" category="list-text"><block ref="1e5210e8896bad27959d8255d1b3eec2" category="inline-link-macro-rx"></block></block>
  <block id="88b61a3452017ca36f5aa8c16a481cdc" category="paragraph">Votre base de données Oracle principale peut être exécutée sur un FSx ONTAP ou sur tout autre stockage de votre choix au sein de l'écosystème AWS EC2.  La section suivante fournit des procédures de déploiement étape par étape pour la configuration d'Oracle Data Guard entre une instance de base de données EC2 principale avec stockage ASM et une instance de base de données EC2 de secours avec stockage ASM.</block>
  <block id="48c88f2a91b527275016272b31c75e1b" category="list-text">À partir de la console AWS EC2, vous devez déployer au moins trois instances EC2 Linux, une comme instance de base de données Oracle principale, une comme instance de base de données Oracle de secours et une instance de base de données cible clonée pour la création de rapports, le développement, les tests, etc. Consultez le diagramme d'architecture dans la section précédente pour plus de détails sur la configuration de l'environnement.  Consultez également l'AWS<block ref="b75ecbbec453f67f58d497ccd97a8075" category="inline-link-macro-rx"></block> pour plus d'informations.</block>
  <block id="fddb125abb4efb532fae8872b20113f7" category="list-text">À partir de la console AWS EC2, déployez des clusters de stockage HA Amazon FSx ONTAP pour héberger des volumes Oracle qui stockent la base de données de secours Oracle.  Si vous n'êtes pas familier avec le déploiement du stockage FSx, consultez la documentation<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> pour des instructions étape par étape.</block>
  <block id="0f7a8130eb652cd33a4fa9cdefc41cc6" category="admonition">Assurez-vous d'avoir alloué au moins 50 Go dans le volume racine de l'instance EC2 afin de disposer de suffisamment d'espace pour préparer les fichiers d'installation d'Oracle.</block>
  <block id="de6e6d5e21c4f7d0dd4ef74edf3eb0c8" category="section-title">Préparer la base de données principale pour Data Guard</block>
  <block id="4c47bc26cdbea7cfef6220602d142b03" category="paragraph">Dans cette démonstration, nous avons configuré une base de données Oracle principale appelée db1 sur l'instance de base de données EC2 principale avec deux groupes de disques ASM dans une configuration de redémarrage autonome avec des fichiers de données dans le groupe de disques ASM + DATA et une zone de récupération flash dans le groupe de disques ASM + LOGS.  Ce qui suit illustre les procédures détaillées de configuration de la base de données principale pour Data Guard.  Toutes les étapes doivent être exécutées en tant que propriétaire de la base de données - utilisateur Oracle.</block>
  <block id="546bfa96e0a0fe70a11d127711d7cf98" category="list-text">Configuration de la base de données principale db1 sur l'instance de base de données EC2 principale ip-172-30-15-45.  Les groupes de disques ASM peuvent se trouver sur n’importe quel type de stockage au sein de l’écosystème EC2.</block>
  <block id="f3efbb87660ec6fc6923520ba7c0e4b6" category="list-text">Depuis sqlplus, activez la journalisation forcée sur le serveur principal.</block>
  <block id="851a2cc6266fe01721754a67b63d272b" category="list-text">Depuis sqlplus, activez le flashback sur le primaire.  Flashback permet de rétablir facilement la base de données principale en tant que base de données de secours après un basculement.</block>
  <block id="1456924ad439596396b0366750feb882" category="list-text">Configurez l'authentification de transport de rétablissement à l'aide du fichier de mot de passe Oracle - créez un fichier pwd sur le principal à l'aide de l'utilitaire orapwd s'il n'est pas défini et copiez-le dans le répertoire de base de données de secours $ORACLE_HOME/dbs.</block>
  <block id="b84ef5068c2f6a0e7ab5c634421500e4" category="list-text">Créez des journaux de rétablissement de secours sur la base de données principale avec la même taille que le fichier journal en ligne actuel.  Les groupes de journaux sont un groupe de fichiers journaux en ligne de plus.  La base de données principale peut alors rapidement passer au rôle de secours et commencer à recevoir des données de rétablissement, si nécessaire.</block>
  <block id="b8dcabc8241b7fa9922b791123f161c6" category="list-text">Depuis sqlplus, créez un pfile à partir de spfile pour l'édition.</block>
  <block id="a58bc66502bff24a62e9167f326de414" category="list-text">Révisez le pfile et ajoutez les paramètres suivants.</block>
  <block id="16df6366013fa1b51fdf63103f5de61c" category="list-text">Depuis sqlplus, créez un fichier spfile dans le répertoire ASM +DATA à partir du fichier pfile révisé dans le répertoire /home/oracle.</block>
  <block id="be5835a569bacd58dbd2984013ec9da7" category="list-text">Localisez le fichier spfile nouvellement créé sous le groupe de disques +DATA (en utilisant l'utilitaire asmcmd si nécessaire).  Utilisez srvctl pour modifier la grille afin de démarrer la base de données à partir du nouveau fichier spfile comme indiqué ci-dessous.</block>
  <block id="721f734d4d55c537a4bcd8247cb42f38" category="list-text">Modifiez tnsnames.ora pour ajouter db_unique_name pour la résolution de nom.</block>
  <block id="ff9562404eb9d339e5f7ac0fd7a0a111" category="list-text">Ajoutez le nom du service de protection des données db1_NY_DGMGRL.demo.netapp pour la base de données principale au fichier listener.ora.</block>
  <block id="f0dcdb53dfe79df7c33ad468e718cf3c" category="list-text">Arrêtez et redémarrez la base de données avec srvctl et vérifiez que les paramètres de protection des données sont désormais actifs.</block>
  <block id="0a3ecc4b9c7f192a3a8eff9f43d62a49" category="paragraph">Ceci termine la configuration de la base de données principale pour Data Guard.</block>
  <block id="8ed94134ccc7df045497fffb338e491e" category="section-title">Préparez la base de données de secours et activez Data Guard</block>
  <block id="25df9ef065954340ff37157530509f47" category="paragraph">Oracle Data Guard nécessite une configuration du noyau du système d'exploitation et des piles logicielles Oracle, y compris des ensembles de correctifs sur l'instance de base de données EC2 de secours, pour correspondre à l'instance de base de données EC2 principale.  Pour une gestion et une simplicité aisées, la configuration de stockage de la base de données de l'instance de base de données EC2 de secours doit idéalement correspondre également à l'instance de base de données EC2 principale, comme le nom, le nombre et la taille des groupes de disques ASM.  Vous trouverez ci-dessous les procédures détaillées pour configurer l'instance de base de données EC2 de secours pour Data Guard.  Toutes les commandes doivent être exécutées en tant qu'ID utilisateur propriétaire d'Oracle.</block>
  <block id="100d87382d4e9f0b77c8fbd50ae70cf2" category="list-text">Tout d’abord, vérifiez la configuration de la base de données principale sur l’instance EC2 principale.  Dans cette démonstration, nous avons configuré une base de données Oracle principale appelée db1 sur l'instance de base de données EC2 principale avec deux groupes de disques ASM + DATA et + LOGS dans une configuration de redémarrage autonome.  Les groupes de disques ASM principaux peuvent se trouver sur n’importe quel type de stockage au sein de l’écosystème EC2.</block>
  <block id="4f3c9d31ccf189b3cb7f494f26684484" category="inline-link-macro">TR-4965 : Déploiement et protection de la base de données Oracle dans AWS FSx/EC2 avec iSCSI/ASM</block>
  <block id="561b95165c7fc0747c2dd6683b69b794" category="list-text">Suivre les procédures dans la documentation<block ref="09e68060dbcea83513d683b108df6fcb" category="inline-link-macro-rx"></block> pour installer et configurer la grille et Oracle sur l'instance de base de données EC2 de secours pour qu'elle corresponde à la base de données principale.  Le stockage de la base de données doit être provisionné et alloué à l'instance de base de données EC2 de secours de FSx ONTAP avec la même capacité de stockage que l'instance de base de données EC2 principale.</block>
  <block id="18b8757dc8f63de46858f8a4f433e251" category="admonition">Arrêtez-vous à l'étape 10<block ref="b7e3e332087b6a041c83ce22cce9043c" prefix=" " category="inline-code"></block> section.  La base de données de secours sera instanciée à partir de la base de données principale à l'aide de la fonction de duplication de base de données dbca.</block>
  <block id="3b2b93ec0c82f6e3a38fad684bfd6663" category="list-text">Une fois le logiciel Oracle installé et configuré, à partir du répertoire de base de données de secours $ORACLE_HOME, copiez le mot de passe Oracle de la base de données principale.</block>
  <block id="3aa916a972ab6509dee982918f3d899e" category="list-text">Créez le fichier tnsnames.ora avec les entrées suivantes.</block>
  <block id="493f867c0c59207e4189028d16dd6d26" category="list-text">Ajoutez le nom du service de protection des données DB au fichier listener.ora.</block>
  <block id="bcd6424f66bc448fbe685fc80ff70e1a" category="list-text">Définissez la maison et le chemin d'accès de l'oracle.</block>
  <block id="143a60719ec63d00d99a825714665a55" category="list-text">Utilisez dbca pour instancier la base de données de secours à partir de la base de données principale db1.</block>
  <block id="57fbd0472b92ebaf5a1a0a8528a2f0a8" category="list-text">Valider la base de données de secours dupliquée.  La base de données de secours nouvellement dupliquée est initialement ouverte en mode LECTURE SEULE.</block>
  <block id="3e003fdb2211d99cead68668fab65036" category="list-text">Redémarrer la base de données de secours dans<block ref="19822b1b15d9eefc54c07ab49f87b100" prefix=" " category="inline-code"></block> étape et exécutez la commande suivante pour activer la récupération gérée de la base de données de secours.</block>
  <block id="e87af5ff6c25c9c1c0fdf389aea9426b" category="list-text">Valider l’état de récupération de la base de données de secours.  Remarquez le<block ref="9bda3daa17eb022a72164386ee4bf249" prefix=" " category="inline-code"></block> dans<block ref="1f38735e57e053804f3980f01073a19b" prefix=" " category="inline-code"></block> action.</block>
  <block id="d418efa4afda10fc6b0130047c165f48" category="paragraph">Ceci termine la configuration de la protection Data Guard pour db1 du serveur principal au serveur de secours avec la récupération de secours gérée activée.</block>
  <block id="9c88c2ff7d57ccdc26ed6cc8c6a551d8" category="section-title">Configurer Data Guard Broker</block>
  <block id="e716a36152601014d22404c34a545dfb" category="paragraph">Oracle Data Guard Broker est un framework de gestion distribué qui automatise et centralise la création, la maintenance et la surveillance des configurations Oracle Data Guard.  La section suivante montre comment configurer Data Guard Broker pour gérer l'environnement Data Guard.</block>
  <block id="ae65cf354bdba5f399cecafe69181bb2" category="list-text">Démarrez Data Guard Broker sur les bases de données principales et de secours avec la commande suivante via sqlplus.</block>
  <block id="7085ea049485ef36270b678214c896bc" category="list-text">À partir de la base de données principale, connectez-vous à Data Guard Borker en tant que SYSDBA.</block>
  <block id="e3e1655d27b7ec5fede117507abebc04" category="list-text">Créez et activez la configuration de Data Guard Broker.</block>
  <block id="bf87cf945b0165017223255d29eb5838" category="list-text">Valider l'état de la base de données dans le cadre de gestion de Data Guard Broker.</block>
  <block id="d3ee713ceb1d01a3c56111f66bf8cef8" category="paragraph">En cas de panne, Data Guard Broker peut être utilisé pour basculer instantanément la base de données principale vers la base de données de secours.</block>
  <block id="3fda563a3f23856c843f7368c6f1dd26" category="section-title">Cloner la base de données de secours pour d'autres cas d'utilisation</block>
  <block id="2f2d5e4f7687bc11754fc0051b64a5a8" category="paragraph">Le principal avantage de la mise en scène d'une base de données de secours sur AWS FSx ONTAP dans Data Guard est qu'elle peut être FlexCloned pour servir de nombreux autres cas d'utilisation avec un investissement de stockage supplémentaire minimal.  Dans la section suivante, nous démontrons comment capturer et cloner les volumes de base de données de secours montés et en cours de récupération sur FSx ONTAP à d'autres fins, telles que DEV, TEST, REPORT, etc., à l'aide de l'outil NetApp SnapCenter .</block>
  <block id="30b22b544972f5adb280ca2975099846" category="inline-link-macro">Solutions de bases de données cloud hybrides avec SnapCenter</block>
  <block id="bb524c44f568f444531405ba1ad85305" category="paragraph">Voici les procédures de haut niveau pour cloner une base de données en LECTURE/ÉCRITURE à partir de la base de données de secours physique gérée dans Data Guard à l'aide de SnapCenter.  Pour obtenir des instructions détaillées sur la façon d'installer et de configurer SnapCenter, veuillez vous référer à<block ref="8f81a54fece1094b09a6e495584caacf" category="inline-link-macro-rx"></block> sections Oracle pertinentes.</block>
  <block id="a225c0845c18b63c94952d45800129eb" category="list-text">Nous commençons par créer une table de test et insérer une ligne dans la table de test sur la base de données principale.  Nous validerons ensuite si la transaction traverse jusqu'au standby et enfin le clone.</block>
  <block id="815578506a24796bc380c0deef04702e" category="list-text">Ajouter un cluster de stockage FSx à<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> dans SnapCenter avec l'adresse IP de gestion du cluster FSx et les informations d'identification fsxadmin.</block>
  <block id="ead8f2b206d64f3dc022b5aff7ebf5ef" category="inline-image-macro">Capture d'écran montrant cette étape dans l'interface graphique.</block>
  <block id="0ee6f6cb7abf09a921abc17a6bfbae8f" category="paragraph"><block ref="0ee6f6cb7abf09a921abc17a6bfbae8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4d4fbfa1c7c19b55ec3f48a0d412d8eb" category="list-text">Ajouter AWS ec2-user à<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> dans<block ref="f4f70727dc34561dfde1a3c529b6205c" prefix=" " category="inline-code"></block> .</block>
  <block id="302635f402adc3076cbcc42191e06600" category="paragraph"><block ref="302635f402adc3076cbcc42191e06600" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6aa54e14f0875581094dc6b2192d66b3" category="list-text">Ajoutez une instance de base de données EC2 de secours et clonez l'instance de base de données EC2 vers<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> .</block>
  <block id="8913b862455ae1ce54a54a2168995426" category="paragraph"><block ref="8913b862455ae1ce54a54a2168995426" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b1e0e523773d1a64309d849962b020d" category="admonition">L'instance de base de données EC2 clonée doit avoir des piles logicielles Oracle similaires installées et configurées.  Dans notre cas de test, l'infrastructure de grille et Oracle 19C ont été installés et configurés, mais aucune base de données n'a été créée.</block>
  <block id="0d3c38b30657980a0b2c8d695bdc04d9" category="list-text">Créez une politique de sauvegarde adaptée à la sauvegarde complète de la base de données hors ligne/montée.</block>
  <block id="1743393e3121c30f2e5b9635b1551cbb" category="paragraph"><block ref="1743393e3121c30f2e5b9635b1551cbb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03749905cda41a9a5af37311da788dc7" category="list-text">Appliquer une politique de sauvegarde pour protéger la base de données de secours dans<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> languette.</block>
  <block id="3eda905dcd694af160819cf35d2dc566" category="paragraph"><block ref="3eda905dcd694af160819cf35d2dc566" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b541cfd01eab70b7124c0a9281d9abf" category="list-text">Cliquez sur le nom de la base de données pour ouvrir la page de sauvegarde de la base de données.  Sélectionnez une sauvegarde à utiliser pour le clonage de la base de données et cliquez sur<block ref="ff24590464659ee8cdec688128c35f89" prefix=" " category="inline-code"></block> bouton pour lancer le workflow de clonage.</block>
  <block id="f71add80e312a9104b772faaa4f051e6" category="paragraph"><block ref="f71add80e312a9104b772faaa4f051e6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2fdf9c5dfda12930fd177f22620253c6" category="list-text">Sélectionner<block ref="6d966589c645cae872f42060de0bbe70" prefix=" " category="inline-code"></block> et nommez l'instance clone SID.</block>
  <block id="6205d2ddeb3cb8e5083d83693b9d1d91" category="paragraph"><block ref="6205d2ddeb3cb8e5083d83693b9d1d91" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2bdb6fd7703480f999a0decdea3783dc" category="list-text">Sélectionnez l'hôte clone, qui héberge la base de données clonée à partir de la base de données de secours.  Acceptez la valeur par défaut pour les fichiers de données, les fichiers de contrôle et les journaux de rétablissement.  Deux groupes de disques ASM seront créés sur l'hôte clone qui correspondent aux groupes de disques de la base de données de secours.</block>
  <block id="16190d8fb6087cea1478af4b03b3f427" category="paragraph"><block ref="16190d8fb6087cea1478af4b03b3f427" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7b2116fe35be064eb0458bc516aa4d13" category="list-text">Aucune information d'identification de base de données n'est nécessaire pour l'authentification basée sur le système d'exploitation.  Faites correspondre les paramètres d'accueil d'Oracle avec ce qui est configuré sur l'instance de base de données EC2 clonée.</block>
  <block id="879fdf55fba377046c2902c939f2601d" category="paragraph"><block ref="879fdf55fba377046c2902c939f2601d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ff5976c8af9ff4b0957fafc90bc2fdab" category="list-text">Modifiez les paramètres de la base de données clonée si nécessaire et spécifiez les scripts à exécuter avant le clonage, le cas échéant.</block>
  <block id="564ee64dc28a1455d7479df7ea2838ce" category="paragraph"><block ref="564ee64dc28a1455d7479df7ea2838ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="34685717b91981d7859ecf81678b5b09" category="list-text">Entrez SQL à exécuter après le clonage.  Dans la démo, nous avons exécuté des commandes pour désactiver le mode d'archivage de base de données pour une base de données dev/test/report.</block>
  <block id="839c38264fbc833ac9f79e24febe9b9d" category="paragraph"><block ref="839c38264fbc833ac9f79e24febe9b9d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d197c170bbaec3c7352356cf0cbb8ac1" category="list-text">Configurez la notification par e-mail si vous le souhaitez.</block>
  <block id="841f3bb45aba6db13016c257c6061b35" category="paragraph"><block ref="841f3bb45aba6db13016c257c6061b35" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f8f71975bdd986583495fef78017b0f" category="list-text">Consultez le résumé, cliquez<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> pour démarrer le clone.</block>
  <block id="82ea0cad75dea61a21c554d95a1dfa30" category="paragraph"><block ref="82ea0cad75dea61a21c554d95a1dfa30" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22d02716c7a3c135a2c329f25e9bd9ae" category="list-text">Surveiller le travail de clonage dans<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> languette.  Nous avons observé qu'il fallait environ 8 minutes pour cloner une base de données d'environ 300 Go de volume de base de données.</block>
  <block id="fb38173bf80529c78aee65db7a018714" category="paragraph"><block ref="fb38173bf80529c78aee65db7a018714" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39f89201f1ea425071614bb5bd7079a3" category="list-text">Validez la base de données clonée à partir de SnapCenter, qui est immédiatement enregistrée dans<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet juste après l'opération de clonage.</block>
  <block id="afe1a90d817f0a3ae5e6c873fd296e14" category="paragraph"><block ref="afe1a90d817f0a3ae5e6c873fd296e14" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bf431d7e50f6303bf40547e5d4895df" category="list-text">Interrogez la base de données clonée à partir de l'instance EC2 clonée.  Nous avons validé que la transaction de test qui s'est produite dans la base de données principale avait été transmise à la base de données clonée.</block>
  <block id="956670247c2a1898065893fdcbce36e6" category="paragraph">Ceci termine le clonage et la validation d'une nouvelle base de données Oracle à partir de la base de données de secours dans Data Guard sur le stockage FSx pour DEV, TEST, REPORT ou tout autre cas d'utilisation.  Plusieurs bases de données Oracle peuvent être clonées à partir de la même base de données de secours dans Data Guard.</block>
  <block id="33b688f7c946852447f97b29aa780fe5" category="list-text">Concepts et administration de Data Guard</block>
  <block id="8de2fc4ad1f7fa0dce48702c017a0131" category="inline-link-macro"><block ref="8de2fc4ad1f7fa0dce48702c017a0131" category="inline-link-rx"></block></block>
  <block id="f4b13dd9902b833ab09c8b2e85ee348f" category="paragraph"><block ref="f4b13dd9902b833ab09c8b2e85ee348f" category="inline-link-macro-rx"></block></block>
  <block id="ba976162adc7c0619bf3a1f2c24454f2" category="list-text">WP-7357 : Déploiement de bases de données Oracle sur EC2 et FSx : bonnes pratiques</block>
  <block id="3cdae8d978ccc9caf9657b6881250354" category="paragraph"><block ref="3cdae8d978ccc9caf9657b6881250354" category="inline-link-macro-rx"></block></block>
  <block id="8a1d7e9120e3db2795bd53b504018b4e" category="summary">Ce livre blanc fournit un aperçu et une validation d'une solution pour la base de données Oracle RDS HA et DR personnalisée AWS, exploitant le service de stockage AWS FSx dans un déploiement multi-zones de disponibilité.</block>
  <block id="0c55b956af322a2409f5dd75af116fee" category="doc">WP-7357 : Introduction aux meilleures pratiques de déploiement de bases de données Oracle sur EC2 et FSx</block>
  <block id="b4c8c277e19db14e178b1060214b896e" category="paragraph">Allen Cao, Niyaz Mohamed, Jeffrey Steiner, NetApp</block>
  <block id="6848412b0f30d614f7e0bcd903cac052" category="paragraph">De nombreuses bases de données Oracle d’entreprise critiques sont toujours hébergées sur site, et de nombreuses entreprises cherchent à migrer ces bases de données Oracle vers un cloud public.  Souvent, ces bases de données Oracle sont centrées sur les applications et nécessitent donc des configurations spécifiques à l'utilisateur, une capacité qui manque à de nombreuses offres de cloud public de base de données en tant que service.  Par conséquent, le paysage actuel des bases de données nécessite une solution de base de données Oracle basée sur le cloud public, construite à partir d'un service de calcul et de stockage hautes performances et évolutif, capable de répondre à des exigences uniques.  Les instances de calcul AWS EC2 et le service de stockage AWS FSx pourraient être les pièces manquantes de ce puzzle que vous pouvez exploiter pour créer et migrer vos charges de travail de base de données Oracle critiques vers un cloud public.</block>
  <block id="5645a6001c14c3cf405f621123d8a891" category="paragraph">Amazon Elastic Compute Cloud (Amazon EC2) est un service Web qui fournit une capacité de calcul sécurisée et redimensionnable dans le cloud.  Il est conçu pour faciliter le cloud computing à l’échelle du Web pour les entreprises.  L'interface simple du service Web Amazon EC2 vous permet d'obtenir et de configurer la capacité avec un minimum de friction.  Il vous offre un contrôle complet de vos ressources informatiques et vous permet d'exécuter l'environnement informatique éprouvé d'Amazon.</block>
  <block id="dfffb7bb311a551928f051593da9b3c5" category="paragraph">Amazon FSx ONTAP est un service de stockage AWS qui utilise le stockage de blocs et de fichiers NetApp ONTAP , leader du secteur, qui expose NFS, SMB et iSCSI.  Avec un moteur de stockage aussi puissant, il n'a jamais été aussi simple de déplacer des applications de base de données Oracle critiques vers AWS avec des temps de réponse inférieurs à la milliseconde, plusieurs Go/s de débit et plus de 100 000 IOPS par instance de base de données.  Mieux encore, le service de stockage FSx est doté d'une capacité de réplication native qui vous permet de migrer facilement votre base de données Oracle sur site vers AWS ou de répliquer votre base de données Oracle critique vers une zone de disponibilité AWS secondaire pour HA ou DR.</block>
  <block id="b3f95d0186b2e4989ad81f07a21d72c5" category="paragraph">L'objectif de cette documentation est de fournir des processus, des procédures et des conseils de bonnes pratiques étape par étape sur la manière de déployer et de configurer une base de données Oracle avec un stockage FSx et une instance EC2 qui offre des performances similaires à celles d'un système sur site.  NetApp fournit également une boîte à outils d’automatisation qui automatise la plupart des tâches requises pour le déploiement, la configuration et la gestion de votre charge de travail de base de données Oracle dans le cloud public AWS.</block>
  <block id="eef7539c8eab25bfe5c089aab85ec418" category="paragraph">Pour en savoir plus sur la solution et le cas d'utilisation, regardez la vidéo de présentation suivante :</block>
  <block id="0df1fe5dfbca17caa87c91ffea49223a" category="inline-link-macro">Modernisez votre base de données Oracle avec le cloud hybride dans AWS et FSx ONTAP, Partie 1 - Cas d'utilisation et architecture de la solution</block>
  <block id="adf8d1fc36b4704904a6251fde19535e" category="paragraph"><block ref="bab032e290776958656c886d774a2bf6" category="inline-link-macro-rx"></block></block>
  <block id="32800a2387c1d841d80eab97ff7205c2" category="summary">Cette section fournit des détails sur les facteurs à prendre en compte lors du déploiement d'une base de données Oracle sur une instance AWS EC2 et un stockage FSx.</block>
  <block id="c53749244d982efb6aa5653328227c2a" category="doc">Facteurs à prendre en compte pour le déploiement de la base de données Oracle</block>
  <block id="96f819dcc02d1203a3923ddad366ff4b" category="paragraph">Un cloud public offre de nombreux choix en matière de calcul et de stockage, et l'utilisation du type approprié d'instance de calcul et de moteur de stockage est un bon point de départ pour le déploiement de la base de données.  Vous devez également sélectionner des configurations de calcul et de stockage optimisées pour les bases de données Oracle.</block>
  <block id="e958329ac331abb8419551328745ce28" category="paragraph">Les sections suivantes décrivent les principales considérations à prendre en compte lors du déploiement d'une base de données Oracle dans un cloud public AWS sur une instance EC2 avec stockage FSx.</block>
  <block id="af9adf45d47438d70bedeea4353827c3" category="paragraph">La sélection de la bonne taille de machine virtuelle est importante pour des performances optimales d’une base de données relationnelle dans un cloud public.  Pour de meilleures performances, NetApp recommande d'utiliser une instance EC2 M5 Series pour le déploiement Oracle, optimisée pour les charges de travail de base de données.  Le même type d’instance est également utilisé pour alimenter une instance RDS pour Oracle par AWS.</block>
  <block id="1dbc89cff7796dd99cbe9338453d04d7" category="list-text">Choisissez la bonne combinaison vCPU et RAM en fonction des caractéristiques de la charge de travail.</block>
  <block id="ff1a938ecebc5237c31b8f5d9a9b87ce" category="list-text">Ajoutez de l’espace d’échange à une machine virtuelle.  Le déploiement d’instance EC2 par défaut ne crée pas d’espace d’échange, ce qui n’est pas optimal pour une base de données.</block>
  <block id="d4d5d0e2fb33dadfad4435489bd718a4" category="section-title">Disposition et paramètres de stockage</block>
  <block id="0fe994abd6c200feb672e77242fe9fcb" category="paragraph">NetApp recommande la disposition de stockage suivante :</block>
  <block id="c1b542506bceb69c76148851e217c49f" category="list-text">Pour le stockage NFS, la disposition de volume recommandée est de trois volumes : un pour le binaire Oracle ; un pour les données Oracle et un fichier de contrôle en double ; et un pour le journal actif Oracle, le journal archivé et le fichier de contrôle.</block>
  <block id="6743466e43aeaf8b7b20152c9fe68fc6" category="paragraph"><block ref="6743466e43aeaf8b7b20152c9fe68fc6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9fc828f321000aae204feb1f0f945893" category="list-text">Pour le stockage iSCSI, la disposition de volume recommandée est de trois volumes : un pour le binaire Oracle ; un pour les données Oracle et un fichier de contrôle en double ; et un pour le journal actif Oracle, le journal archivé et le fichier de contrôle.  Cependant, chaque volume de données et de journaux devrait idéalement contenir quatre LUN.  Les LUN sont idéalement équilibrés sur les nœuds du cluster HA.</block>
  <block id="1c88d1767b50dfad069c4438e524f906" category="paragraph"><block ref="1c88d1767b50dfad069c4438e524f906" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b7810ed5b0bbb3acf153d353ac803a51" category="list-text">Pour les IOPS et le débit de stockage, vous pouvez choisir le seuil pour les IOPS et le débit provisionnés pour le cluster de stockage FSx, et ces paramètres peuvent être ajustés à la volée à chaque fois que la charge de travail change.</block>
  <block id="c5493cd0fe001da987655ad852808dc7" category="list-text">Le paramètre IOPS automatique est de trois IOPS par Gio de capacité de stockage allouée ou de stockage défini par l'utilisateur jusqu'à 80 000.</block>
  <block id="6524d7ff1096fc6a10590b6d1f7163b6" category="list-text">Le niveau de débit est incrémenté comme suit : 128, 256, 512, 1 024, 2 045 Mbps.</block>
  <block id="148ec0ba94a4cd5c2b2e0258348ffbd0" category="inline-link-macro">Performances Amazon FSx ONTAP</block>
  <block id="9477b12c53864787c23fd1c4df0515bd" category="paragraph">Passez en revue le<block ref="465b6ee60bbdf3cce6d5a970a7e09c84" category="inline-link-macro-rx"></block> documentation lors du dimensionnement du débit et des IOPS.</block>
  <block id="10edbbba4e4c39fc161aeac9fbb88aef" category="section-title">Configuration NFS</block>
  <block id="712ca0716e43c9f3b64f0f21f9e9782b" category="paragraph">Linux, le système d’exploitation le plus courant, inclut des fonctionnalités NFS natives.  Oracle propose le client NFS direct (dNFS) intégré nativement à Oracle.  Oracle prend en charge NFSv3 depuis plus de 20 ans. dNFS est pris en charge avec NFSv3 avec toutes les versions d'Oracle.  NFSv4 est pris en charge par tous les systèmes d'exploitation qui suivent la norme NFSv4. La prise en charge dNFS pour NFSv4 nécessite Oracle 12.1.0.2 ou supérieur.  NFSv4.1 nécessite une prise en charge spécifique du système d'exploitation.  Consultez l'outil NetApp Interoperability Matrix (IMT) pour connaître les systèmes d'exploitation pris en charge. La prise en charge dNFS pour NFSv4.1 nécessite la version Oracle 19.3.0.0 ou supérieure.</block>
  <block id="a3f8d7c738bb455d9c0506663213b244" category="paragraph">Le déploiement Oracle automatisé à l’aide de la boîte à outils d’automatisation NetApp configure automatiquement dNFS sur NFSv3.</block>
  <block id="2b7570eaa12a3e472e9d0cbac6631d57" category="paragraph">Autres facteurs à prendre en compte :</block>
  <block id="6841f6ce9d9a2af93222223df564ca34" category="list-text">Les tables d'emplacements TCP sont l'équivalent NFS de la profondeur de file d'attente de l'adaptateur de bus hôte (HBA).  Ces tables contrôlent le nombre d’opérations NFS qui peuvent être en attente à tout moment.  La valeur par défaut est généralement 16, ce qui est bien trop faible pour des performances optimales.  Le problème inverse se produit sur les noyaux Linux plus récents, qui peuvent augmenter automatiquement la limite de la table des emplacements TCP à un niveau qui sature le serveur NFS avec des requêtes.</block>
  <block id="5a749fcdd97cee211c5fea00babe8691" category="paragraph">Pour des performances optimales et pour éviter les problèmes de performances, ajustez les paramètres du noyau qui contrôlent les tables d'emplacements TCP sur 128.</block>
  <block id="dcd7ebfa96f217f8d20c58a185a48531" category="list-text">Le tableau suivant fournit les options de montage NFS recommandées pour Linux NFSv3 - instance unique.</block>
  <block id="5cf56cd2517ddd9e0ed46c42e2fe4ee7" category="paragraph"><block ref="5cf56cd2517ddd9e0ed46c42e2fe4ee7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5088352a7b028bc873f55b1b666d7cd8" category="admonition">Avant d'utiliser dNFS, vérifiez que les correctifs décrits dans Oracle Doc 1495104.1 sont installés.  La matrice de support NetApp pour NFSv3 et NFSv4 n'inclut pas de systèmes d'exploitation spécifiques.  Tous les systèmes d’exploitation qui respectent la RFC sont pris en charge.  Lorsque vous recherchez la prise en charge NFSv3 ou NFSv4 dans IMT en ligne, ne sélectionnez pas un système d'exploitation spécifique, car aucune correspondance ne sera affichée.  Tous les systèmes d’exploitation sont implicitement pris en charge par la politique générale.</block>
  <block id="2fe1fc26875d6d38f4b15a3a03d498fb" category="paragraph">Comme indiqué dans l’architecture de la solution, HA est basé sur la réplication au niveau du stockage.  Par conséquent, le démarrage et la disponibilité d’Oracle dépendent de la rapidité avec laquelle les capacités de calcul et de stockage peuvent être mises en service et récupérées.  Voir les facteurs clés suivants :</block>
  <block id="137bc4c57a9561d086601728a3db1a90" category="list-text">Ayez une instance de calcul de secours prête et synchronisée avec l'instance principale via la mise à jour parallèle Ansible sur les deux hôtes.</block>
  <block id="d653e9032c9904901af96f496db98a3e" category="list-text">Répliquez le volume binaire du volume principal à des fins de secours afin de ne pas avoir à installer Oracle à la dernière minute et à déterminer ce qui doit être installé et corrigé.</block>
  <block id="77991416cd2e0bfc66a77d32e3fbb45a" category="list-text">La fréquence de réplication détermine la vitesse à laquelle la base de données Oracle peut être récupérée pour rendre le service disponible.  Il existe un compromis entre la fréquence de réplication et la consommation de stockage.</block>
  <block id="0797ee9bca14d1064492a93ac7cc7fa1" category="list-text">Tirez parti de l’automatisation pour effectuer la récupération et le passage en mode veille rapidement et sans erreur humaine.  NetApp fournit une boîte à outils d’automatisation à cet effet.</block>
  <block id="37e3bd7a04a12d6d16389a7dc22d774d" category="summary">La solution fournit une vue d'ensemble et des détails pour une récupération et un clonage rapides d'Oracle VLDB déployé sur une instance de calcul AWS EC2 avec montage NFS sur FSx ONTAP pour préparer une copie de fichier de données de secours à fusionner de manière incrémentielle en permanence via RMAN.</block>
  <block id="64f97bbd42c9b6469781d976c191546b" category="doc">TR-4973 : Récupération rapide et clonage d'Oracle VLDB avec fusion incrémentielle sur AWS FSx ONTAP</block>
  <block id="90b61454dbd3963570fab7ac262d84e2" category="paragraph">Cette solution fournit une vue d'ensemble et des détails pour une récupération et un clonage rapides d'Oracle VLDB déployé sur une instance de calcul AWS EC2 avec montage NFS sur FSx ONTAP pour préparer une copie de fichier de données de secours à fusionner de manière incrémentielle en permanence via RMAN.</block>
  <block id="a84ee4fe6800b14e1fd53326196750bc" category="paragraph">La récupération d'une très grande base de données (VLDB) dans Oracle à l'aide de l'outil de sauvegarde Oracle Recovery Manager (RMAN) peut être une tâche très difficile.  Le processus de restauration de la base de données à partir d'un support de sauvegarde en cas de panne peut prendre du temps, retarder la récupération de la base de données et potentiellement avoir un impact significatif sur votre contrat de niveau de service (SLA).  Cependant, à partir de la version 10g, Oracle a introduit une fonctionnalité RMAN qui permet aux utilisateurs de créer des copies d'image intermédiaires des fichiers de données de la base de données Oracle sur un stockage sur disque supplémentaire situé sur l'hôte du serveur de base de données.  Ces copies d’images peuvent être mises à jour de manière incrémentielle à l’aide de RMAN sur une base quotidienne.  En cas de panne, l'administrateur de base de données (DBA) peut rapidement basculer la base de données Oracle du support défaillant vers la copie d'image, éliminant ainsi le besoin d'une restauration complète du support de base de données.  Le résultat est un SLA grandement amélioré, bien qu’au prix d’un doublement du stockage de base de données requis.</block>
  <block id="177658bcb07f8fd6c738b1a97efaf173" category="paragraph">Si vous êtes intéressé par le SLA pour votre VLDB et que vous envisagez de déplacer la base de données Oracle vers un cloud public tel qu'AWS, vous pouvez configurer une structure de protection de base de données similaire en utilisant des ressources telles qu'AWS FSx ONTAP pour préparer votre copie d'image de base de données de secours.  Dans cette documentation, nous démontrons comment provisionner et exporter un système de fichiers NFS depuis AWS FSx ONTAP pour le monter sur un serveur de base de données Oracle afin de préparer une copie de base de données de secours pour une récupération rapide en cas de panne de stockage principal.</block>
  <block id="05b4b318195ab79f80fbe6580b2e69e1" category="paragraph">Mieux encore, nous montrons également comment vous pouvez exploiter NetApp FlexClone pour créer une copie du même système de fichiers NFS intermédiaire pour d'autres cas d'utilisation, tels que la mise en place d'un environnement Oracle de développement/test avec cette même copie d'image de base de données de secours sans investissement de stockage supplémentaire.</block>
  <block id="84ab5c2cbea62bfae267ddfcc8e16749" category="list-text">Une fusion incrémentielle de copie d'image Oracle VLDB via RMAN sur le point de montage NFS du stockage AWS FSx ONTAP .</block>
  <block id="805ef53e3765a75fb2ee210066e9298e" category="list-text">Récupération rapide d'un Oracle VLDB en basculant vers une copie d'image de base de données sur le stockage FSx ONTAP en cas de panne.</block>
  <block id="3b5601d0dfed112b4d701ea7222195d0" category="list-text">Clonez le volume du système de fichiers NFS FSx ONTAP stockant une copie d'image Oracle VLDB à utiliser pour créer une autre instance de base de données pour d'autres cas d'utilisation.</block>
  <block id="2513056d37fad5d51b1b7e5067126d74" category="list-text">Un administrateur de base de données qui a configuré la fusion incrémentielle de copie d'image Oracle VLDB via RMAN dans AWS pour une récupération plus rapide de la base de données.</block>
  <block id="ce3231fc55ffa9da7d06a7bf71808aaf" category="list-text">Un architecte de solutions de base de données qui teste les charges de travail Oracle dans le cloud public AWS.</block>
  <block id="1fd08bfacb23a868822b5aa42dc89a45" category="list-text">Un administrateur de stockage qui gère les bases de données Oracle déployées sur le stockage AWS FSx ONTAP .</block>
  <block id="0ba3984693a0095424864d883f786d47" category="list-text">Un propriétaire d'application qui souhaite mettre en place des bases de données Oracle dans un environnement AWS FSx/EC2.</block>
  <block id="cdd33b3dc82dd5a7057c39b49fafec92" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement AWS FSx ONTAP et EC2 qui pourrait ne pas correspondre à l'environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="71c2080d0a74e10a7ba8804b62593571" category="inline-image-macro">Cette image fournit une image détaillée de l'implémentation de la fusion incrémentielle Oracle VLDB dans le cloud public AWS avec FSx ONTAP.</block>
  <block id="ccab4354ca50092ac62d0c30ac522e50" category="paragraph"><block ref="ccab4354ca50092ac62d0c30ac522e50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0fcdacbce30d770260160f025dfa97ef" category="cell">Deux instances EC2 T2 xlarge EC2, l'une comme serveur de base de données principal et l'autre comme serveur de base de données clone</block>
  <block id="b9d28943555d6006f17f4fe05f964039" category="list-text">*Disposition de stockage Oracle VLDB pour la fusion incrémentielle RMAN.*  Dans nos tests et validations, le volume NFS pour la sauvegarde incrémentielle et la fusion Oracle est alloué à partir d'un seul système de fichiers FSx, qui a un débit de 4 Gbit/s, 160 000 IOPS SSD bruts et une limite de capacité de 192 Tio.  Pour un déploiement au-delà des seuils, plusieurs systèmes de fichiers FSx peuvent être concaténés en parallèle avec plusieurs points de montage NFS pour fournir une capacité supérieure.</block>
  <block id="9d662dbb0e0bb83274ad069971f2189b" category="list-text">*Récupération Oracle à l'aide de la fusion incrémentielle RMAN.*  La sauvegarde incrémentielle et la fusion RMAN sont généralement exécutées à une fréquence définie par l'utilisateur en fonction de vos objectifs RTO et RPO.  En cas de perte totale du stockage de données primaires et/ou des journaux archivés, la perte de données peut se produire.  La base de données Oracle peut être récupérée jusqu'à la dernière sauvegarde incrémentielle disponible à partir de la copie d'image de sauvegarde de la base de données FSx.  Pour minimiser la perte de données, la zone de récupération flash Oracle peut être configurée sur le point de montage FSx NFS et les journaux archivés sont sauvegardés sur le montage FSx NFS avec la copie de l'image de la base de données.</block>
  <block id="6848d8d3126dc1284b4005ec1fce94d8" category="list-text">*Exécution d'Oracle VLDB à partir du système de fichiers FSx NFS.*  Contrairement à d'autres stockages en masse pour la sauvegarde de bases de données, AWS FSx ONTAP est un stockage de qualité production compatible cloud qui offre un niveau élevé de performances et d'efficacité de stockage.  Une fois qu'Oracle VLDB passe du stockage principal à la copie d'image sur le système de fichiers FSx ONTAP NFS, les performances de la base de données peuvent être maintenues à un niveau élevé pendant que la panne du stockage principal est résolue.  Vous pouvez être rassuré de savoir que l’expérience utilisateur de l’application ne souffre pas d’une défaillance du stockage principal.</block>
  <block id="ec7cebb9325ac3cb6f40aefad20e03bd" category="list-text">* Copie d'image VLDB FlexClone Oracle du volume NFS pour d'autres cas d'utilisation.*  AWS FSx ONTAP FlexClone fournit des copies partagées du même volume de données NFS qui sont accessibles en écriture.  Ainsi, ils peuvent être utilisés pour de nombreux autres cas d'utilisation tout en conservant l'intégrité de la copie d'image Oracle VLDB intermédiaire, même lorsque la base de données Oracle est commutée.  Cela permet de réaliser d’énormes économies de coûts de stockage en réduisant considérablement l’empreinte de stockage VLDB.  NetApp recommande de minimiser les activités FlexClone en cas de basculement de la base de données du stockage principal vers la copie d'image de la base de données afin de maintenir les performances Oracle à un niveau élevé.</block>
  <block id="e02cfd91d47eca501c65adf66254d387" category="list-text">*Instances de calcul EC2.*  Dans ces tests et validations, nous avons utilisé une instance AWS EC2 t2.xlarge comme instance de calcul de base de données Oracle.  NetApp recommande d’utiliser une instance EC2 de type M5 comme instance de calcul pour Oracle dans le déploiement de production, car elle est optimisée pour la charge de travail de la base de données.  Vous devez dimensionner l'instance EC2 de manière appropriée en fonction du nombre de vCPU et de la quantité de RAM en fonction des exigences réelles de la charge de travail.</block>
  <block id="11a64b78983fb952ba99933c98fc56df" category="list-text">*Déploiement de clusters de stockage HA FSx sur une ou plusieurs zones.*  Dans ces tests et validations, nous avons déployé un cluster FSx HA dans une seule zone de disponibilité AWS.  Pour le déploiement en production, NetApp recommande de déployer une paire FSx HA dans deux zones de disponibilité différentes.  Un cluster FSx HA est toujours provisionné dans une paire HA synchronisée dans une paire de systèmes de fichiers actifs-passifs pour fournir une redondance au niveau du stockage.  Le déploiement multizone améliore encore la haute disponibilité en cas de panne dans une seule zone AWS.</block>
  <block id="dbb60fc24045befe2579b82399376e53" category="list-text">*Configuration dNFS.* dNFS est intégré au noyau Oracle et est connu pour augmenter considérablement les performances de la base de données Oracle lorsque Oracle est déployé sur le stockage NFS. dNFS est empaqueté dans le binaire Oracle mais n'est pas activé par défaut.  Il doit être activé pour tout déploiement de base de données Oracle sur NFS.  Pour le déploiement de plusieurs systèmes de fichiers FSx pour un VLDB, le chemin multiple dNFS vers différents systèmes de fichiers NFS FSx doit être correctement configuré.</block>
  <block id="674b2923f5f187bec3e7e8410e0b215b" category="paragraph">Il est supposé que votre Oracle VLDB est déjà déployé dans un environnement AWS EC2 au sein d'un VPC.  Si vous avez besoin d’aide sur le déploiement d’Oracle dans AWS, veuillez vous référer aux rapports techniques suivants pour obtenir de l’aide.</block>
  <block id="dac14712639b383d9fbc2ddd7e8fa676" category="paragraph">Votre Oracle VLDB peut s'exécuter soit sur un FSx ONTAP , soit sur tout autre stockage de votre choix au sein de l'écosystème AWS EC2.  La section suivante fournit des procédures de déploiement étape par étape pour la configuration de la fusion incrémentielle RMAN sur une copie d'image d'un Oracle VLDB qui est en cours de préparation dans un montage NFS à partir du stockage AWS FSx ONTAP .</block>
  <block id="2cb106b524fea2beb3ee19372f04427b" category="list-text">À partir de la console AWS EC2, vous devez déployer deux instances EC2 Linux, une comme serveur de base de données Oracle principal et un serveur de base de données cible de clonage alternatif facultatif.  Consultez le diagramme d’architecture dans la section précédente pour plus de détails sur la configuration de l’environnement.  Consultez également le<block ref="b75ecbbec453f67f58d497ccd97a8075" category="inline-link-macro-rx"></block> pour plus d'informations.</block>
  <block id="4eba588de49e83bc4190ad26a66f351a" category="list-text">À partir de la console AWS EC2, déployez les clusters de stockage HA Amazon FSx ONTAP pour héberger les volumes NFS qui stockent la copie de l'image de secours de la base de données Oracle.  Si vous n'êtes pas familier avec le déploiement du stockage FSx, consultez la documentation<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> pour des instructions étape par étape.</block>
  <block id="669ff3f2ba7dca6171b6cc4738349f3f" category="section-title">Provisionner et exporter le volume NFS à monter sur l'hôte d'instance de base de données EC2</block>
  <block id="beef8e24f1fb09f50fd25f29a0576680" category="paragraph">Dans cette démonstration, nous montrerons comment provisionner un volume NFS à partir de la ligne de commande en se connectant à un cluster FSx via ssh en tant qu'utilisateur fsxadmin via l'IP de gestion du cluster FSx.  Alternativement, le volume peut également être alloué à l'aide de la console AWS FSx.  Répétez les procédures sur d'autres systèmes de fichiers FSx si plusieurs systèmes de fichiers FSx sont configurés pour prendre en charge la taille de la base de données.</block>
  <block id="2a1085209859c9d5c2d99b39ef5f9808" category="list-text">Tout d’abord, provisionnez le volume NFS via CLI en vous connectant au cluster FSx via SSH en tant qu’utilisateur fsxadmin.  Modifiez votre adresse IP de gestion de cluster FSx, qui peut être récupérée à partir de la console d'interface utilisateur AWS FSx ONTAP .</block>
  <block id="09d6e7935025f34dae85044f7e4870bf" category="list-text">Créez un volume NFS de la même taille que votre stockage principal pour stocker la copie d'image des fichiers de données de la base de données Oracle VLDB principale.</block>
  <block id="7df4f92cb03e6715a6c7d330de46b589" category="list-text">Alternativement, le volume peut être provisionné à partir de l'interface utilisateur de la console AWS FSx avec des options : efficacité de stockage<block ref="00d23a76e43b46dae9ec7aa9dcbebb32" prefix=" " category="inline-code"></block> , style de sécurité<block ref="6ec1bd1ea6a5d67a63b20c8f6172bddd" prefix=" " category="inline-code"></block> Politique d'instantané<block ref="6adf97f83acf6453d4a6a4b1070f3754" prefix=" " category="inline-code"></block> , et hiérarchisation du stockage<block ref="e564cced6db6df25023e6429cf11a291" prefix=" " category="inline-code"></block> comme indiqué ci-dessous.</block>
  <block id="80c3a955e402f101ca8fac5c1d20ad52" category="paragraph"><block ref="80c3a955e402f101ca8fac5c1d20ad52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a33ce44212488cbdb886d0cb26238cd8" category="list-text">Créez une politique d'instantané personnalisée pour la base de données Oracle avec une planification quotidienne et une conservation de 30 jours.  Vous devez ajuster la politique pour qu'elle corresponde à vos besoins spécifiques en termes de fréquence des instantanés et de fenêtre de conservation.</block>
  <block id="f50e19cf713434ce45c0e967a937c4b1" category="paragraph">Appliquer la politique au volume NFS provisionné pour la sauvegarde incrémentielle et la fusion RMAN.</block>
  <block id="4c4801c905895fc73c76eb48803356bd" category="list-text">Connectez-vous à l'instance EC2 en tant qu'utilisateur ec2 et créez un répertoire /nfsfsxn.  Créez des répertoires de points de montage supplémentaires pour des systèmes de fichiers FSx supplémentaires.</block>
  <block id="96da60d19f53d464b46b18235e488b0c" category="list-text">Montez le volume NFS FSx ONTAP sur l'hôte d'instance de base de données EC2.  Passez à l'adresse NFS lif de votre serveur virtuel FSx.  L'adresse lif NFS peut être récupérée à partir de la console de l'interface utilisateur FSx ONTAP .</block>
  <block id="41fbd60dc26462d8127dea9ccd97bc7c" category="list-text">Modifiez la propriété du point de montage sur oracle:oisntall, remplacez-la par votre nom d'utilisateur Oracle et votre groupe principal si nécessaire.</block>
  <block id="e672188e115cfc49668faf09236fa9a3" category="section-title">Configurer la fusion incrémentielle Oracle RMAN pour copier l'image sur FSx</block>
  <block id="ab8554776d6b4fb55fd0e03cf7f1cbd5" category="paragraph">La fusion incrémentielle RMAN met à jour les fichiers de données de la base de données intermédiaire et copie l'image en continu à chaque intervalle de sauvegarde/fusion incrémentielle.  La copie d'image de la sauvegarde de la base de données sera aussi à jour que la fréquence à laquelle vous exécutez la sauvegarde/fusion incrémentielle.  Prenez donc en compte les performances de la base de données, vos objectifs RTO et RPO lorsque vous décidez de la fréquence de sauvegarde incrémentielle et de fusion RMAN.</block>
  <block id="e5ac82720d85625fdd4172bd3616e3c3" category="list-text">Connectez-vous à l'instance EC2 du serveur de base de données principal en tant qu'utilisateur Oracle</block>
  <block id="8d0e6d4de61925d1916712bf22df2fb6" category="list-text">Créez un répertoire oracopy sous le point de montage /nfsfsxn pour stocker les copies d'image des fichiers de données Oracle et le répertoire archlog pour la zone de récupération flash Oracle.</block>
  <block id="c7cc2b068b84bc607885aa3b7959dfc5" category="list-text">Connectez-vous à la base de données Oracle via sqlplus, activez le suivi des modifications de bloc pour une sauvegarde incrémentielle plus rapide et modifiez la zone de récupération flash Oracle sur le montage FSx ONTAP si elle se trouve actuellement sur le stockage principal.  Cela permet de sauvegarder le fichier de contrôle par défaut RMAN/SPfile et les journaux archivés automatiquement sur le montage NFS FSx ONTAP pour la récupération.</block>
  <block id="92a7748d0f82560bbce2ab900cd1955b" category="paragraph">À partir de l’invite sqlplus, exécutez la commande suivante.</block>
  <block id="4dd8e34c47ee1899b1fd445ff9555012" category="list-text">Créez un script de sauvegarde et de fusion incrémentielle RMAN.  Le script alloue plusieurs canaux pour la sauvegarde et la fusion RMAN parallèles.  La première exécution générerait la copie initiale complète de l’image de base.  Lors d'une exécution complète, il purge d'abord les sauvegardes obsolètes qui se trouvent en dehors de la fenêtre de conservation pour garder la zone de préparation propre.  Il change ensuite le fichier journal actuel avant la fusion et la sauvegarde.  La sauvegarde incrémentielle suit la fusion de sorte que la copie de l'image de la base de données suit l'état actuel de la base de données d'un cycle de sauvegarde/fusion.  L'ordre de fusion et de sauvegarde peut être inversé pour une récupération plus rapide selon les préférences de l'utilisateur.  Le script RMAN peut être intégré dans un script shell simple à exécuter à partir de crontab sur le serveur de base de données principal.  Assurez-vous que la sauvegarde automatique du fichier de contrôle est activée dans les paramètres RMAN.</block>
  <block id="ae93d326cc9f712fe006ea475309937c" category="list-text">Sur le serveur de base de données EC2, connectez-vous à RMAN localement en tant qu'utilisateur Oracle avec ou sans catalogue RMAN.  Dans cette démonstration, nous ne nous connectons pas à un catalogue RMAN.</block>
  <block id="ac32c637aa72dbf6f583c6230b41da8e" category="list-text">À partir de l’invite RMAN, exécutez le script.  La première exécution crée une copie d'image de base de données de base et les exécutions suivantes fusionnent et mettent à jour la copie d'image de base de manière incrémentielle.  Voici comment exécuter le script et la sortie typique.  Définissez le nombre de canaux pour qu'il corresponde aux cœurs de processeur sur l'hôte.</block>
  <block id="e4c4b8650bec8cf96029a44dde1880ef" category="list-text">Répertoriez la copie de l'image de la base de données après la sauvegarde pour observer qu'une copie de l'image de la base de données a été créée dans le point de montage NFS FSx ONTAP .</block>
  <block id="c924bb54c35d27877a31088ac19cfa72" category="list-text">Schéma de rapport à partir de l'invite de commande Oracle RMAN pour observer que les fichiers de données de base de données actifs actuels se trouvent dans le groupe de disques ASM + DATA de stockage principal.</block>
  <block id="3ce3b6eb52bdc641409f7139da0754cb" category="list-text">Valider la copie de l'image de la base de données à partir du point de montage NFS du système d'exploitation.</block>
  <block id="7d929a2c11ebdbe1a109452e9ed6387a" category="paragraph">Ceci termine la configuration de la sauvegarde et de la fusion de la copie d'image de secours de la base de données Oracle.</block>
  <block id="4a2b45de7eb73f732fa6bff62fc81d22" category="section-title">Basculer la base de données Oracle vers une copie d'image pour une récupération rapide</block>
  <block id="e4524be5d2f6b10f07de14a0c1ab6d71" category="paragraph">En cas de panne due à un problème de stockage principal tel qu'une perte ou une corruption de données, la base de données peut être rapidement basculée vers une copie d'image sur le montage NFS FSx ONTAP et récupérée à son état actuel sans restauration de la base de données.  L’élimination de la restauration des supports accélère considérablement la récupération de la base de données pour un VLDB.  Ce cas d'utilisation suppose que l'instance de l'hôte de la base de données est intacte et que le fichier de contrôle de la base de données, les journaux archivés et actuels sont tous disponibles pour la récupération.</block>
  <block id="537cc866e4f73e1c941f5c4d2ddab8b2" category="list-text">Connectez-vous à l'hôte du serveur de base de données EC2 en tant qu'utilisateur Oracle et créez une table de test avant le basculement.</block>
  <block id="61bbc132a3f6fe227d32c6a35bc77915" category="list-text">Simulez une panne en arrêtant la base de données, puis démarrez Oracle en phase de montage.</block>
  <block id="c4ab260ce247b7761c38125aef5a7e31" category="list-text">En tant qu'utilisateur Oracle, connectez-vous à la base de données Oracle via RMAN pour basculer la base de données à copier.</block>
  <block id="3ea66d969bd94f4cf208dd0bf63840e1" category="list-text">Récupérez et ouvrez la base de données pour la mettre à jour à partir de la dernière sauvegarde incrémentielle.</block>
  <block id="271cb3a5612f55b3fb8130a4467d73ec" category="list-text">Vérifiez la structure de la base de données à partir de sqlplus après la récupération pour observer que tous les fichiers de données de la base de données, à l'exception des fichiers journaux de contrôle, temporaires et actuels, sont désormais basculés vers la copie sur le système de fichiers NFS FSx ONTAP .</block>
  <block id="5466bef4632a6a1715d3679bc62c300d" category="list-text">Depuis SQL plus, vérifiez le contenu de la table de test que nous avons insérée avant le passage à la copie</block>
  <block id="dd4adbd87c36bf460c0ab4343599cf3c" category="list-text">Vous pouvez exécuter la base de données Oracle dans le montage NFS FSx pendant une période prolongée sans pénalité de performances, car FSx ONTAP est un stockage de production redondant qui offre des performances élevées.  Une fois le problème de stockage principal résolu, vous pouvez y revenir en inversant les processus de fusion de sauvegarde incrémentielle avec un temps d'arrêt minimal.</block>
  <block id="f433e16f47f57d938354f88fa762d7a7" category="section-title">Récupération de la base de données Oracle à partir d'une copie d'image vers un autre hôte d'instance de base de données EC2</block>
  <block id="5010c026248fa8bd74f134341eba6c23" category="paragraph">En cas de panne lorsque le stockage principal et l'hôte de l'instance de base de données EC2 sont perdus, la récupération ne peut pas être effectuée à partir du serveur d'origine.  Heureusement, vous disposez toujours d'une copie d'image de sauvegarde de la base de données Oracle sur le système de fichiers NFS FSx ONTAP redondant.  Vous pouvez rapidement provisionner une autre instance de base de données EC2 identique et monter facilement la copie d'image de votre VLDB sur le nouvel hôte de base de données EC2 via NFS pour exécuter la récupération.  Dans cette section, nous allons vous montrer les procédures étape par étape pour y parvenir.</block>
  <block id="4ffffb6fe23c2e148c9e989b623bc6b2" category="list-text">Insérez une ligne pour tester la table que nous avons créée précédemment pour la restauration de la base de données Oracle vers une validation d'hôte alternatif.</block>
  <block id="3f9903e7d4a9861da549de0dae1ea364" category="list-text">En tant qu'utilisateur Oracle, exécutez la sauvegarde incrémentielle RMAN et fusionnez pour vider la transaction vers l'ensemble de sauvegarde sur le montage NFS FSx ONTAP .</block>
  <block id="ca8b6e06f9a38563ab902a368af242c6" category="list-text">Arrêtez l'hôte d'instance de base de données EC2 principal pour simuler une panne totale de l'hôte de stockage et du serveur de base de données.</block>
  <block id="6a82ba490c8bb40b71afe1f76748f174" category="list-text">Privilégiez une nouvelle instance de base de données EC2 hôte ora_02 avec le même système d'exploitation et la même version via la console AWS EC2.  Configurez le noyau du système d'exploitation avec les mêmes correctifs que l'hôte du serveur de base de données EC2 principal, préinstallez Oracle RPM et ajoutez également de l'espace d'échange à l'hôte.  Installez la même version et les mêmes correctifs d'Oracle que sur l'hôte du serveur de base de données EC2 principal avec l'option logicielle uniquement.  Ces tâches peuvent être automatisées avec la boîte à outils d’automatisation NetApp disponible à partir des liens ci-dessous.</block>
  <block id="484b6792dca4a6754db8dc27e6c6ba0d" category="inline-link-macro">na_oracle19c_deploy</block>
  <block id="c14496f2e8544d68bddfd689e9f4e75e" category="paragraph">Boîte à outils :<block ref="f2b9e8cd57c74518bbd4e9f055c1e730" category="inline-link-macro-rx"></block> Documentation:<block ref="d250d995b4823fc5fd70363256bffcd1" category="inline-link-macro-rx"></block></block>
  <block id="9ffde89a6ba50c3dce0259571ffcf8c8" category="list-text">Configurez l'environnement Oracle de la même manière que l'hôte d'instance de base de données EC2 principal ora_01, tel que oratab, oraInst.loc et l'utilisateur Oracle .bash_profile.  Il est recommandé de sauvegarder ces fichiers sur le point de montage NFS FSx ONTAP .</block>
  <block id="cf6e69c6bddf85bc301fcc9cb6962838" category="list-text">La copie de l'image de sauvegarde de la base de données Oracle sur le montage NFS FSx ONTAP est stockée sur un cluster FSx qui s'étend sur les zones de disponibilité AWS pour la redondance, la haute disponibilité et les hautes performances.  Le système de fichiers NFS peut être facilement monté sur un nouveau serveur dans la mesure où le réseau est accessible.  Les procédures suivantes montent la copie d'image d'une sauvegarde Oracle VLDB sur l'hôte d'instance de base de données EC2 nouvellement provisionné pour la récupération.</block>
  <block id="22e76ff31f397dc2b31e0c2a97aafc91" category="paragraph">En tant qu'utilisateur ec2, créez le point de montage.</block>
  <block id="aa0a89a579500af6cf1c8d39a6150685" category="paragraph">En tant qu'utilisateur ec2, montez le volume NFS qui stockait la copie de l'image de sauvegarde Oracle VLDB.</block>
  <block id="e8d8e243e8bde4cf29fbd7f798a6baf1" category="list-text">Validez la copie de l'image de sauvegarde de la base de données Oracle sur le point de montage NFS FSx ONTAP .</block>
  <block id="d847bc1c604cd81ae6806101788d72ad" category="list-text">Vérifiez les journaux archivés Oracle disponibles sur le montage NFS FSx ONTAP pour la récupération et notez le dernier numéro de séquence du journal du fichier journal.  Dans ce cas, c'est 175.  Notre point de récupération se situe jusqu'au numéro de séquence de journal 176.</block>
  <block id="15766642bf6adac1b2dcc3fe7efe97db" category="list-text">En tant qu'utilisateur Oracle, définissez la variable ORACLE_HOME sur l'installation Oracle actuelle sur le nouvel hôte de base de données d'instance EC2 ora_02, ORACLE_SID sur le SID de l'instance Oracle principale.  Dans ce cas, il s'agit de db1.</block>
  <block id="d89d6da26b586b89b6b9a1aa47721936" category="list-text">En tant qu'utilisateur Oracle, créez un fichier d'initialisation Oracle générique dans le répertoire $ORACLE_HOME/dbs avec les répertoires d'administration appropriés configurés.  Le plus important est d'avoir Oracle<block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> pointez vers le chemin de montage NFS FSx ONTAP tel que défini dans l'instance Oracle VLDB principale. <block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> la configuration est démontrée dans la section<block ref="e672188e115cfc49668faf09236fa9a3" prefix=" " category="inline-code"></block> .  Définissez le fichier de contrôle Oracle sur le système de fichiers NFS FSx ONTAP .</block>
  <block id="6951e3b7844ae5d3e60eb5dcb338c299" category="paragraph">Avec les exemples d'entrées suivants :</block>
  <block id="a3d440ae8cc0248159d37338aaf28ec4" category="paragraph">Le fichier d'initialisation ci-dessus doit être remplacé par le fichier d'initialisation de sauvegarde restauré à partir du serveur de base de données Oracle principal en cas de divergence.</block>
  <block id="6cdcdb33b7ec2edec91d323d0fe81c36" category="list-text">En tant qu'utilisateur Oracle, lancez RMAN pour exécuter la récupération Oracle sur un nouvel hôte d'instance de base de données EC2.</block>
  <block id="69c8d3164b4eabc17a7068af76e859ab" category="list-text">Définir l'ID de la base de données.  L'ID de la base de données peut être récupéré à partir du nom de fichier Oracle de la copie d'image sur le point de montage NFS FSx.</block>
  <block id="4929814f4c8b867309967d003f3472fb" category="list-text">Restaurer le fichier de contrôle à partir de la sauvegarde automatique.  Si la sauvegarde automatique du fichier de contrôle Oracle et du fichier SPfile est activée, ils sont sauvegardés à chaque cycle de sauvegarde incrémentielle et de fusion.  La dernière sauvegarde sera restaurée si plusieurs copies sont disponibles.</block>
  <block id="cb4aafdbf8cfce9ea979b084999b9458" category="list-text">Restaurez le fichier d'initialisation du fichier spfile vers un dossier /tmp pour mettre à jour le fichier de paramètres ultérieurement afin qu'il corresponde à l'instance de base de données principale.</block>
  <block id="39f6eca6a7de81a70cddffc68c8e17e0" category="list-text">Montez le fichier de contrôle et validez la copie de l'image de sauvegarde de la base de données.</block>
  <block id="b036aee1d02945292a171a824ce2cc7f" category="list-text">Basculez la base de données à copier pour exécuter la récupération sans restauration de la base de données.</block>
  <block id="74f753e2cf1db0c619e10ea98cdba3a4" category="list-text">Exécutez la récupération Oracle jusqu'au dernier journal d'archive disponible dans la zone de récupération flash.</block>
  <block id="b32650e2f9aad58631cbaa769519a580" category="admonition">Pour une récupération plus rapide, activez les sessions parallèles avec le paramètre recovery_parallelism ou spécifiez le degré de parallélisme dans la commande de récupération pour la récupération de la base de données :<block ref="72ba82e38f6375ed705cba8b43d4cf0f" prefix=" " category="inline-code"></block> .  En général, les degrés de parallélisme doivent être égaux au nombre de cœurs de processeur sur l'hôte.</block>
  <block id="977b95efac611dc3eeaed06aba204c87" category="list-text">Quittez RMAN, connectez-vous à Oracle en tant qu'utilisateur Oracle via sqlplus pour ouvrir la base de données et réinitialiser le journal après une récupération incomplète.</block>
  <block id="6ceae78bd89e5df86bc8e81f7407b7de" category="list-text">Validez la base de données restaurée sur le nouvel hôte qui contient la ligne que nous avons insérée avant la défaillance de la base de données principale.</block>
  <block id="e2f16f903230132f70121566f6a55067" category="list-text">Autres tâches de récupération après sinistre</block>
  <block id="086536bbb7f1532894da57cebfcac7b8" category="paragraph">Ceci termine la récupération de la base de données Oracle VLDB à partir de la copie d'image de sauvegarde sur le système de fichiers NFS FSx ONTAP vers un nouvel hôte d'instance de base de données EC2.</block>
  <block id="4737b996f5816f2a4f5834d13933c08f" category="section-title">Cloner une copie de l'image de secours Oracle pour d'autres cas d'utilisation</block>
  <block id="b316f3e1185d0474dbb0d60722fed440" category="paragraph">Un autre avantage de l’utilisation d’AWS FSx ONTAP pour la mise en scène de la copie d’image Oracle VLDB est qu’elle peut être FlexCloned pour servir à de nombreuses autres fins avec un investissement de stockage supplémentaire minimal.  Dans le cas d'utilisation suivant, nous montrons comment capturer et cloner le volume NFS intermédiaire sur FSx ONTAP pour d'autres cas d'utilisation Oracle tels que DEV, UAT, etc.</block>
  <block id="53e8ce069d201591aa4267856420d737" category="list-text">Nous commençons par insérer une ligne dans la même table de test que nous avons créée auparavant.</block>
  <block id="9a10cae3a2084b172991773f39bcaa66" category="list-text">Effectuez une sauvegarde RMAN et fusionnez-la avec la copie de l'image de la base de données FSx ONTAP afin que la transaction soit capturée dans l'ensemble de sauvegarde sur le montage NFS FSx mais pas fusionnée dans la copie jusqu'à ce que la base de données clonée soit récupérée.</block>
  <block id="3f29a9686f355189b274a638b5f7b4e2" category="list-text">Connectez-vous au cluster FSx via ssh en tant qu'utilisateur fsxadmin pour observer les instantanés créés par la politique de sauvegarde planifiée - Oracle et prendre un instantané unique afin qu'il inclue la transaction que nous avons validée à l'étape 1.</block>
  <block id="f47ed0566abed1014329d477596692e1" category="list-text">Clonez à partir de l'instantané unique à utiliser pour configurer une nouvelle instance de clone DB1 sur un autre hôte Oracle EC2.  Vous avez la possibilité de cloner à partir de n'importe quel instantané quotidien disponible pour le volume ora_01_copy.</block>
  <block id="d674010d79c4ca8b1548eb14dc15db19" category="list-text">Désactivez la stratégie de snapshot pour le volume cloné car il hérite de la stratégie de snapshot du volume parent, sauf si vous souhaitez protéger le volume cloné, auquel cas laissez-le tranquille.</block>
  <block id="2d5a0399afe0ebbc20ccc537e1691ac1" category="list-text">Connectez-vous à une nouvelle instance EC2 Linux avec le logiciel Oracle préinstallé avec la même version et le même niveau de correctif que votre instance Oracle EC2 principale et montez le volume cloné.</block>
  <block id="1955f680df8fadf63d4bd9e5ce9ddf0d" category="list-text">Validez les ensembles de sauvegarde incrémentielle de la base de données, la copie d'image et les journaux archivés disponibles sur le montage NFS FSx.</block>
  <block id="b4f1ff50bc44cf0fa23d91e3daaecc7a" category="list-text">Les processus de récupération sont désormais similaires au cas d'utilisation précédent de récupération vers une nouvelle instance de base de données EC2 après une panne - définissez l'environnement Oracle (oratab, $ORACLE_HOME, $ORACLE_SID) pour qu'il corresponde à l'instance de production principale, créez un fichier d'initialisation incluant db_recovery_file_dest_size et db_recovery_file_dest qui pointent vers le répertoire de récupération flash sur le montage NFS FSx.  Ensuite, lancez RMAN pour exécuter la récupération.  Voici les étapes de commande et la sortie.</block>
  <block id="31ef8f0e18e31ab3c319011fa3085595" category="list-text">Renommez l'instance de base de données clonée et modifiez l'ID de la base de données avec l'utilitaire Oracle nid.  L'état de l'instance de base de données doit être dans<block ref="19822b1b15d9eefc54c07ab49f87b100" prefix=" " category="inline-code"></block> pour exécuter la commande.</block>
  <block id="deae90bf8a8075e066b36ab46839b972" category="list-text">Modifiez la configuration de l'environnement de base de données Oracle avec un nouveau nom de base de données ou un nouvel ID d'instance dans oratab, le fichier init et créez les répertoires d'administration nécessaires qui correspondent au nouvel ID d'instance.  Ensuite, démarrez l'instance avec l'option resetlogs.</block>
  <block id="539484c3a56c32c91eebd8b6c6dd0c01" category="paragraph">Cela termine le clonage d'une nouvelle instance Oracle à partir d'une copie de base de données intermédiaire sur un montage NFS FSx pour DEV, UAT ou tout autre cas d'utilisation.  Plusieurs instances Oracle peuvent être clonées à partir de la même copie d’image intermédiaire.</block>
  <block id="b122ab6bc46093e4e498238b2da87899" category="admonition">Si vous rencontrez une erreur<block ref="db9915ff14e5c2a62fbc300de8219575" prefix=" " category="inline-code"></block> lors du changement de base de données à copier, vérifiez que l'incarnation de la base de données correspond à la base de données de production principale.  Si nécessaire, réinitialisez l'incarnation pour qu'elle corresponde à l'incarnation principale avec la commande RMAN<block ref="762ac7c31f911d73b6a11960c393c6ad" prefix=" " category="inline-code"></block> .</block>
  <block id="420087855d0829aebf7985f8b037c0f5" category="list-text">RMAN : Stratégies de sauvegarde incrémentielle fusionnées (ID de document 745798.1)</block>
  <block id="cebc42ddf70311bb702156ffc928e04f" category="inline-link-macro"><block ref="cebc42ddf70311bb702156ffc928e04f" category="inline-link-rx"></block></block>
  <block id="fb535d4ffc04924a6c6853e4c44cdf5e" category="paragraph"><block ref="fb535d4ffc04924a6c6853e4c44cdf5e" category="inline-link-macro-rx"></block></block>
  <block id="0c10dedf45d356e3143692b00bf17a78" category="list-text">Guide de l'utilisateur de RMAN Backup and Recovery</block>
  <block id="067d09ddb20edd1de533097e38987388" category="inline-link-macro"><block ref="067d09ddb20edd1de533097e38987388" category="inline-link-rx"></block></block>
  <block id="475010ac362493ac8aa5ebd15ee454e5" category="paragraph"><block ref="475010ac362493ac8aa5ebd15ee454e5" category="inline-link-macro-rx"></block></block>
  <block id="86d943d0743178f4b51317bf89a99ff7" category="summary">La solution fournit une vue d'ensemble et des détails sur le déploiement et la protection de la base de données Oracle dans le stockage AWS FSx ONTAP et l'instance de calcul EC2 avec le protocole iSCSI et la base de données Oracle configurée dans ReStart autonome à l'aide d'asm comme gestionnaire de volumes.</block>
  <block id="7571a50993544bc3577cd4ec421ff507" category="paragraph">Cette solution fournit une vue d'ensemble et des détails sur le déploiement et la protection de la base de données Oracle dans le stockage AWS FSx ONTAP et l'instance de calcul EC2 avec le protocole iSCSI et la base de données Oracle configurée dans ReStart autonome à l'aide d'asm comme gestionnaire de volumes.</block>
  <block id="7a84a73fe9b54c9478dfc0e58c918688" category="paragraph">ASM (Automatic Storage Management) est un gestionnaire de volumes de stockage Oracle populaire utilisé dans de nombreuses installations Oracle.  C'est également la solution de gestion du stockage recommandée par Oracle.  Il offre une alternative aux gestionnaires de volumes et aux systèmes de fichiers conventionnels.  Depuis la version Oracle 11g, ASM est fourni avec une infrastructure de grille plutôt qu'une base de données.  Par conséquent, pour utiliser Oracle ASM pour la gestion du stockage sans RAC, vous devez installer l'infrastructure de grille Oracle sur un serveur autonome, également appelé Oracle Restart.  Cela ajoute certainement plus de complexité au déploiement de la base de données Oracle.  Cependant, comme son nom l'indique, lorsque Oracle est déployé en mode Redémarrage, les services Oracle défaillants sont redémarrés automatiquement par l'infrastructure de grille ou après un redémarrage de l'hôte sans intervention de l'utilisateur, ce qui fournit un certain degré de haute disponibilité ou de fonctionnalité HA.</block>
  <block id="d88a6b63e8fd515026fecb9fdd301a21" category="paragraph">Dans cette documentation, nous montrons comment déployer une base de données Oracle avec le protocole iSCSI et Oracle ASM dans un environnement de stockage Amazon FSx ONTAP avec des instances de calcul EC2.  Nous montrons également comment utiliser le service NetApp SnapCenter via la console NetApp BlueXP pour sauvegarder, restaurer et cloner votre base de données Oracle à des fins de développement/test ou d'autres cas d'utilisation pour un fonctionnement de base de données efficace en termes de stockage dans le cloud public AWS.</block>
  <block id="d288078bc44aec57a43f0062fb7ece6c" category="list-text">Déploiement de bases de données Oracle dans le stockage Amazon FSx ONTAP et les instances de calcul EC2 avec iSCSI/ASM</block>
  <block id="a47b73991317ed980de57441ff2ec0b0" category="list-text">Tester et valider une charge de travail Oracle dans le cloud public AWS avec iSCSI/ASM</block>
  <block id="7776a288eb4d92068f227343e40955be" category="list-text">Test et validation des fonctionnalités de redémarrage de la base de données Oracle déployées dans AWS</block>
  <block id="c7940228c5d339083ac147fb2a5041de" category="list-text">Un administrateur de base de données qui souhaite déployer Oracle dans un cloud public AWS avec iSCSI/ASM.</block>
  <block id="53a21d50adb7cce93e4304c816d40c51" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle dans le cloud public AWS.</block>
  <block id="b316baf0d21d8e459e4220a2cf5102a5" category="list-text">L'administrateur de stockage qui souhaite déployer et gérer une base de données Oracle déployée sur le stockage AWS FSx.</block>
  <block id="6b41622d6a121d89a6342fe9ff47665c" category="list-text">Le propriétaire de l'application qui souhaite mettre en place une base de données Oracle dans AWS FSx/EC2.</block>
  <block id="b1e308947dfb7ac3f2701611b0393713" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement AWS FSx et EC2 qui pourrait ne pas correspondre à l'environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="8885f24345e0413623d17b7770be0df9" category="paragraph"><block ref="8885f24345e0413623d17b7770be0df9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fed6fa1f1b675c268f8b78258e2545a7" category="cell">Service SnapCenter</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">Version</block>
  <block id="313d712dbc391a0b9d6dca3efe0d2608" category="cell">v2.3.1.2324</block>
  <block id="b1a9b82f5c1b9e62aff87e622f684e76" category="list-text">*Instances de calcul EC2.*  Dans ces tests et validations, nous avons utilisé un type d’instance AWS EC2 t2.xlarge pour l’instance de calcul de base de données Oracle.  NetApp recommande d’utiliser une instance EC2 de type M5 comme instance de calcul pour Oracle dans le déploiement de production, car elle est optimisée pour les charges de travail de base de données.  Vous devez dimensionner l'instance EC2 de manière appropriée en fonction du nombre de vCPU et de la quantité de RAM en fonction des exigences réelles de la charge de travail.</block>
  <block id="6b40058c097249f6255fcf9c967d47ee" category="list-text">*Disposition des données et des journaux Oracle.*  Dans nos tests et validations, nous avons déployé deux groupes de disques ASM pour les données et les journaux respectivement.  Dans le groupe de disques asm +DATA, nous avons provisionné quatre LUN dans un volume de données.  Dans le groupe de disques asm +LOGS, nous avons provisionné deux LUN dans un volume de journaux.  En général, plusieurs LUN disposés dans un volume Amazon FSx ONTAP offrent de meilleures performances.</block>
  <block id="38c723472785b6d114cf9e85b7ffd3d1" category="list-text">*Configuration iSCSI.*  Le serveur de base de données d'instance EC2 se connecte au stockage FSx avec le protocole iSCSI.  Les instances EC2 se déploient généralement avec une seule interface réseau ou ENI.  L'interface NIC unique transporte à la fois le trafic iSCSI et le trafic d'application.  Il est important d'évaluer les exigences de débit d'E/S de pointe de la base de données Oracle en analysant soigneusement le rapport Oracle AWR afin de choisir une instance de calcul EC2 appropriée qui répond à la fois aux exigences de débit de trafic d'application et iSCSI.  NetApp recommande également d'allouer quatre connexions iSCSI aux deux points de terminaison iSCSI FSx avec le multichemin correctement configuré.</block>
  <block id="db1de135a2e3ba870a8f80ce78d2d05e" category="list-text">*Niveau de redondance Oracle ASM à utiliser pour chaque groupe de disques Oracle ASM que vous créez.*  Étant donné que FSx reflète déjà le stockage au niveau du cluster FSx, vous devez utiliser la redondance externe, ce qui signifie que l'option ne permet pas à Oracle ASM de refléter le contenu du groupe de disques.</block>
  <block id="e35fd1c687443b2da6a609bba53616b4" category="list-text">*Sauvegarde de la base de données.*  NetApp fournit une version SaaS du service SnapCenter software pour la sauvegarde, la restauration et le clonage de bases de données dans le cloud, disponible via l'interface utilisateur de la console NetApp BlueXP .  NetApp recommande de mettre en œuvre un tel service pour réaliser une sauvegarde SnapShot rapide (moins d'une minute), une restauration rapide (quelques minutes) de la base de données et un clonage de la base de données.</block>
  <block id="2398118900b3388f97d9931571f1bbda" category="paragraph">La section suivante fournit des procédures de déploiement étape par étape.</block>
  <block id="317caa50e7f894c5aad8bb78d329632b" category="list-text">À partir de la console AWS EC2, déployez des clusters de stockage HA Amazon FSx ONTAP pour héberger les volumes de base de données Oracle.  Si vous n'êtes pas familier avec le déploiement du stockage FSx, consultez la documentation<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> pour des instructions étape par étape.</block>
  <block id="dd303169f721e79331b3683ddafddcc1" category="list-text">Les étapes 2 et 3 peuvent être effectuées à l'aide de la boîte à outils d'automatisation Terraform suivante, qui crée une instance EC2 nommée<block ref="460dc55b5ffb0266f2c889b06ee73344" prefix=" " category="inline-code"></block> et un système de fichiers FSx nommé<block ref="8cbb7b3050d3c3aa08a529f429bc4555" prefix=" " category="inline-code"></block> .  Lisez attentivement les instructions et modifiez les variables en fonction de votre environnement avant l’exécution.</block>
  <block id="62ee860e3d0c08c6573d2e328543e8de" category="section-title">Configuration du noyau de l'instance EC2</block>
  <block id="f352a88dccea452ec98375dda0311257" category="paragraph">Une fois les prérequis configurés, connectez-vous à l'instance EC2 en tant qu'utilisateur ec2-user et sudo en tant qu'utilisateur root pour configurer le noyau Linux pour l'installation d'Oracle.</block>
  <block id="5a8cdca62a149c76be848350ba5cbfd0" category="list-text">Créer un répertoire de préparation<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> dossier et définissez le<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block> autorisation.</block>
  <block id="e252f38e51fe6c121fdf68268f7365b7" category="list-text">Téléchargez et installez les fichiers d'installation binaires Oracle et les autres fichiers rpm requis sur le<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> annuaire.</block>
  <block id="2463a0e4e0f5e0cae480165d25c3d218" category="paragraph">Voir la liste suivante des fichiers d'installation à indiquer dans<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> sur l'instance EC2.</block>
  <block id="7b25ef659963c88fe23b78fc4712aabf" category="list-text">Installez le RPM de préinstallation Oracle 19c, qui répond à la plupart des exigences de configuration du noyau.</block>
  <block id="1527576f8dc9eea4d63eb05b809aaa52" category="list-text">Téléchargez et installez les éléments manquants<block ref="d2e5af6ee2b267de9dac1b472a03adf3" prefix=" " category="inline-code"></block> sous Linux 8.</block>
  <block id="b2371ec5566671ad5a4ad4a5ea6cba11" category="list-text">Depuis NetApp, téléchargez et installez les utilitaires hôtes NetApp .</block>
  <block id="b6e7702627b94eaa3030b577d6d705bc" category="list-text">Installer<block ref="c8dff58175a7ddfedf00d77953ef42dd" prefix=" " category="inline-code"></block> , qui n'est pas disponible dans l'instance EC2.</block>
  <block id="9a16a877dc258dab15fccea468433118" category="list-text">Installez la version 1.8 du JDK ouvert.</block>
  <block id="1684a037c41a5a896a961b99be3d79c7" category="list-text">Installer les utilitaires d’initiateur iSCSI.</block>
  <block id="c9d53c5d17f956afae2225c70107de12" category="list-text">Installer<block ref="4c17da57a03262c55ed7eaf9b11476b4" prefix=" " category="inline-code"></block> .</block>
  <block id="390748df672cba58066187eedd5aae0e" category="list-text">Installer<block ref="a3938eeca32dce6ca3908d2eae163c75" prefix=" " category="inline-code"></block> .</block>
  <block id="8d5128c24aba40267289419650d61baf" category="list-text">Désactiver les énormes pages transparentes dans le système actuel.</block>
  <block id="0410d25eb8075ef0d6eb88ced58d20d0" category="paragraph">Ajoutez les lignes suivantes dans<block ref="08561da4afe8299be4016c92bfe83435" prefix=" " category="inline-code"></block> désactiver<block ref="d78ade61a64b6a278ed6278e7cfd91f3" prefix=" " category="inline-code"></block> après le redémarrage :</block>
  <block id="ac762383bc7427decd2147abbadaccaa" category="list-text">Désactiver selinux en modifiant<block ref="cb42f4736bc8f64983eeffc1e0b4f44a" prefix=" " category="inline-code"></block> à<block ref="52647e37ec523adfcaa3fec9bcef128e" prefix=" " category="inline-code"></block> .  Vous devez redémarrer l'hôte pour que la modification soit effective.</block>
  <block id="2d1601e142ebdb74931ee9a254b65262" category="list-text">Ajoutez les lignes suivantes à<block ref="8b5eec1c5f63341b700263cc37cbae02" prefix=" " category="inline-code"></block> pour définir la limite du descripteur de fichier et la taille de la pile sans guillemets<block ref="fcc3d7489d15ef49dbbf735234234cf7" prefix=" " category="inline-code"></block> .</block>
  <block id="03c10a897f1e18c6adaea250b9f30f19" category="inline-link-macro">Comment allouer de la mémoire pour fonctionner comme espace d'échange dans une instance Amazon EC2 à l'aide d'un fichier d'échange ?</block>
  <block id="410eaf64cdfb52cb0921ea732490d0db" category="list-text">Ajoutez de l’espace d’échange à l’instance EC2 en suivant ces instructions :<block ref="53c9867a131506eab4afe1a1678bb974" category="inline-link-macro-rx"></block> La quantité exacte d'espace à ajouter dépend de la taille de la RAM jusqu'à 16 Go.</block>
  <block id="c9f7be60d92cf42de8f14f5ab8547971" category="list-text">Changement<block ref="b7e6d8bff01730e41b7d91437e6a25d0" prefix=" " category="inline-code"></block> dans le<block ref="c30b27a1b058924e30212c72bb553665" prefix=" " category="inline-code"></block> fichier de configuration de 120 à 5 secondes.</block>
  <block id="bca8f765f0293b09679dd10ece969e68" category="list-text">Activez et démarrez le service iSCSI sur l’instance EC2.</block>
  <block id="3cb574654986fcf318668b4bf3313724" category="list-text">Récupérez l'adresse de l'initiateur iSCSI à utiliser pour le mappage LUN de la base de données.</block>
  <block id="c5b771b8234c127dccd38858c77e24a0" category="list-text">Ajoutez le groupe ASM à utiliser pour le groupe asm sysasm.</block>
  <block id="f7b4c2e912a168f005ed7cc2b4799c08" category="list-text">Modifiez l'utilisateur Oracle pour ajouter ASM en tant que groupe secondaire (l'utilisateur Oracle doit avoir été créé après l'installation de préinstallation RPM d'Oracle).</block>
  <block id="35a8e6f6e0f2c89cd450cda8861ac889" category="list-text">Arrêtez et désactivez le pare-feu Linux s'il est actif.</block>
  <block id="8d3a75a7cdef66372dcf58e6278bba70" category="list-text">Redémarrez l’instance EC2.</block>
  <block id="64014fc61a9016f43a5537d6da141cc1" category="section-title">Provisionner et mapper les volumes de base de données et les LUN sur l'hôte d'instance EC2</block>
  <block id="35e176617d52dd956b8015d8ca19c32d" category="paragraph">Provisionnez trois volumes à partir de la ligne de commande en vous connectant au cluster FSx via ssh en tant qu'utilisateur fsxadmin avec l'adresse IP de gestion du cluster FSx pour héberger les fichiers binaires, de données et de journaux de la base de données Oracle.</block>
  <block id="c848cfd9c04d86e7b9919e11add79f6c" category="list-text">Connectez-vous au cluster FSx via SSH en tant qu'utilisateur fsxadmin.</block>
  <block id="eff24d82c422927b06fd0cacd430b653" category="list-text">Exécutez la commande suivante pour créer un volume pour le binaire Oracle.</block>
  <block id="569cffa50e6428a06bffa2e19d12e0e3" category="list-text">Exécutez la commande suivante pour créer un volume pour les données Oracle.</block>
  <block id="9985026df910c788cb47555f7d72a68e" category="list-text">Exécutez la commande suivante pour créer un volume pour les journaux Oracle.</block>
  <block id="cc70e928fff63a76ca8cf30a05d95a80" category="list-text">Créez un LUN binaire dans le volume binaire de la base de données.</block>
  <block id="dc4301dd6be2058cb9d1a1e3408388eb" category="list-text">Créez des LUN de données dans le volume de données de la base de données.</block>
  <block id="49cf66e4521ade9e7ffc2aae313ee978" category="list-text">Créez des LUN de journaux dans le volume des journaux de la base de données.</block>
  <block id="3e408df5c51ac33acd5978f1f48cab19" category="list-text">Créez un igroup pour l’instance EC2 avec l’initiateur récupéré à l’étape 14 de la configuration du noyau EC2 ci-dessus.</block>
  <block id="ceed9a3dd22f247b70bb6774943f9284" category="list-text">Mappez les LUN au groupe i créé ci-dessus.  Incrémentez l'ID LUN de manière séquentielle pour chaque LUN supplémentaire dans un volume.</block>
  <block id="18519dc23f47343cf516e789bf2e818b" category="list-text">Valider le mappage LUN.</block>
  <block id="3208f25d37711dd9ffc43d93ada2a3cc" category="paragraph">On s'attend à ce que cela revienne :</block>
  <block id="35c1914e41e83f92dd8779f5708f3224" category="section-title">Configuration du stockage de la base de données</block>
  <block id="47d78479fc855bd2f99f02fb94118789" category="paragraph">Maintenant, importez et configurez le stockage FSx pour l’infrastructure de grille Oracle et l’installation de la base de données sur l’hôte d’instance EC2.</block>
  <block id="aa218771b85a8ecc41cc249ba90ea5f8" category="list-text">Connectez-vous à l'instance EC2 via SSH en tant qu'utilisateur ec2 avec votre clé SSH et l'adresse IP de l'instance EC2.</block>
  <block id="a7939166c08e8ac6da1530309825a401" category="list-text">Découvrez les points de terminaison iSCSI FSx à l'aide de l'adresse IP iSCSI SVM.  Passez ensuite à l’adresse du portail spécifique à votre environnement.</block>
  <block id="1bc103d13645d8a07f4a05f2eee064f8" category="list-text">Établissez des sessions iSCSI en vous connectant à chaque cible.</block>
  <block id="fc5113f60b8b0390133d7abda7290515" category="paragraph">Le résultat attendu de la commande est :</block>
  <block id="c541a8df6ddefee9ae370e31bf1109cc" category="list-text">Afficher et valider une liste de sessions iSCSI actives.</block>
  <block id="efe44c0a293be7b9e3d17291e1bd0fce" category="paragraph">Renvoyer les sessions iSCSI.</block>
  <block id="e4a8008161f8d488131b8bf10831bf6c" category="list-text">Vérifiez que les LUN ont été importés dans l’hôte.</block>
  <block id="f467f5c5010c383146b412ebc7d2a967" category="paragraph">Cela renverra une liste des LUN Oracle de FSx.</block>
  <block id="08b7a2f63e8caee3c8d0f32a3d9dd5ea" category="list-text">Configurer le<block ref="9ac80d53ede05256c28cf9e043eb423c" prefix=" " category="inline-code"></block> fichier avec les entrées par défaut et de liste noire suivantes.</block>
  <block id="794a654f60052714db9eba2a7ff4b608" category="list-text">Démarrez le service multi-chemins.</block>
  <block id="65b4cea56e6d27de22dc85622fe6a7fb" category="paragraph">Les périphériques multi-trajets apparaissent désormais dans le<block ref="9c9f766701f811ef6f170c7a3453c53f" prefix=" " category="inline-code"></block> annuaire.</block>
  <block id="d282577e5b16ee7f17ce7cd0f718be4c" category="list-text">Connectez-vous au cluster FSx en tant qu'utilisateur fsxadmin via SSH pour récupérer le numéro de série hexadécimal de chaque LUN commençant par 6c574xxx..., le numéro HEX commençant par 3600a0980, qui est l'ID du fournisseur AWS.</block>
  <block id="2720e08c2a6367757e2dc57afee1620c" category="paragraph">et revenez comme suit :</block>
  <block id="ecf2aff9ad02b9026ff22f4fc6a68e73" category="list-text">Mettre à jour le<block ref="bacd7d75ae434c4a777b1baef0e31f36" prefix=" " category="inline-code"></block> fichier pour ajouter un nom convivial pour le périphérique multi-chemins.</block>
  <block id="75104fff60881baaf37dcb441594f8a1" category="paragraph">avec les entrées suivantes :</block>
  <block id="e73e686392436f1038dd926c4a775f24" category="list-text">Redémarrez le service multipath pour vérifier que les périphériques sous<block ref="9c9f766701f811ef6f170c7a3453c53f" prefix=" " category="inline-code"></block> ont changé pour les noms LUN au lieu des ID série-hexadécimaux.</block>
  <block id="5f9e8fcf665ea0cca4e1c6eea45645e4" category="paragraph">Vérifier<block ref="9c9f766701f811ef6f170c7a3453c53f" prefix=" " category="inline-code"></block> pour revenir comme suit :</block>
  <block id="6f6e08574875efd99672521b7c49bd5f" category="list-text">Partitionnez le LUN binaire avec une seule partition principale.</block>
  <block id="d90e8b8ea181e08e8bf690f2c3143681" category="list-text">Formatez le LUN binaire partitionné avec un système de fichiers XFS.</block>
  <block id="999ccfc779bcbed2a3561bff37f884d1" category="list-text">Montez le LUN binaire sur<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> .</block>
  <block id="22e45c04a42f3d5d2b9ca76b19445949" category="list-text">Changement<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> propriété du point de montage à l'utilisateur Oracle et à son groupe principal associé.</block>
  <block id="a7d5cd359d07f4d25f07c14cac7c892f" category="list-text">Trouvez l'UUI du LUN binaire.</block>
  <block id="419b15da0e06224d0919aaf7cf7c0394" category="list-text">Ajouter un point de montage à<block ref="816a3ef77b62ade41c3f936c958aa555" prefix=" " category="inline-code"></block> .</block>
  <block id="4f86d8e0be25b09fa4c4f087139fcd0d" category="paragraph">Ajoutez la ligne suivante.</block>
  <block id="b79f3809b435063f1d43819c9baaf816" category="admonition">Il est important de monter le binaire avec uniquement l'UUID et avec l'option nofail pour éviter d'éventuels problèmes de verrouillage root lors du redémarrage de l'instance EC2.</block>
  <block id="ad7b51bb9b820412dddd78b34ccf36ea" category="list-text">En tant qu'utilisateur root, ajoutez la règle udev pour les périphériques Oracle.</block>
  <block id="8e7c7ff83f0da1eceabb8c7fbb255de4" category="paragraph">Inclure les entrées suivantes :</block>
  <block id="d347f5dbb8625ab56eb3b8ad0f1ed6ca" category="list-text">En tant qu'utilisateur root, rechargez les règles udev.</block>
  <block id="967abd537fdc45fbfc59ee4d5fbd70d2" category="list-text">En tant qu'utilisateur root, déclenchez les règles udev.</block>
  <block id="aeead6d2d9990fef69ffefd2efd88b90" category="list-text">En tant qu'utilisateur root, rechargez multipathd.</block>
  <block id="71d434c6aec8c195bc1cd610cf2aadf7" category="list-text">Redémarrez l’hôte de l’instance EC2.</block>
  <block id="3cadabe14e57cb049891c97e754906d7" category="section-title">Installation de l'infrastructure de grille Oracle</block>
  <block id="2ba967266d1ac37f6ee2c138c7a219f1" category="list-text">Connectez-vous à l'instance EC2 en tant qu'utilisateur ec2 via SSH et activez l'authentification par mot de passe en supprimant le commentaire.<block ref="cd94e87e5216cd088acdc4de0e9c30f1" prefix=" " category="inline-code"></block> et puis commenter<block ref="f18918133cfc22e041baab71b051c41f" prefix=" " category="inline-code"></block> .</block>
  <block id="f919e378a236907726426311e1222ca5" category="list-text">Redémarrez le service sshd.</block>
  <block id="886890ea240491bd5c7fbf2ad26038e0" category="list-text">Réinitialiser le mot de passe utilisateur Oracle.</block>
  <block id="312dbdb4917346c5535b58edeb72d5d8" category="list-text">Connectez-vous en tant qu'utilisateur propriétaire du logiciel Oracle Restart (oracle).  Créez un répertoire Oracle comme suit :</block>
  <block id="2fce107e9da63a27050a1b7738518797" category="list-text">Modifiez le paramètre d’autorisation du répertoire.</block>
  <block id="de76f7d30e13c7b0fac443a1b582500b" category="list-text">Créez un répertoire de base de grille et accédez-y.</block>
  <block id="ca3eab9cf7a8f03f19d82f95a9ccebc0" category="list-text">Décompressez les fichiers d’installation de la grille.</block>
  <block id="4cb0c768cefd4361adc66dd3dfac2ad8" category="list-text">Depuis la page d'accueil de la grille, supprimez le<block ref="29b6fb214b3224ca10c7261aa01e44b5" prefix=" " category="inline-code"></block> annuaire.</block>
  <block id="839a5e9d346e3ac874bc8e301897bdc6" category="list-text">Depuis la page d'accueil de la grille, décompressez<block ref="63628571f2dfaeb6f0a0a676290e6e82" prefix=" " category="inline-code"></block> .</block>
  <block id="5d940bd40ee32694345bce5774d5c678" category="list-text">Depuis la grille d'accueil, révisez<block ref="ef8657f0a0a00af93ba7f1c8885339ca" prefix=" " category="inline-code"></block> , décommentez et remplacez<block ref="bb7738211dd8eb3dbadf4cc63ae8eb8a" prefix=" " category="inline-code"></block> avec<block ref="b2affc1a941fe7e5e65933911250249c" prefix=" " category="inline-code"></block> .</block>
  <block id="ade261e787d22aca7a93418fe8127036" category="list-text">Mettre à jour un<block ref="77d9f4d56c58834c8dacf6d0cb94e085" prefix=" " category="inline-code"></block> fichier pour une installation silencieuse et placez le fichier rsp dans le<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> annuaire.  Le fichier rsp doit couvrir les sections A, B et G avec les informations suivantes :</block>
  <block id="72eab9d7fc33889fd5bf6a85943c4e4a" category="list-text">Connectez-vous à l'instance EC2 en tant qu'utilisateur root et définissez<block ref="e1f651debac4f720c13ae930ff3ca14a" prefix=" " category="inline-code"></block> et<block ref="456a3c82b7208b5c2a000597b1330564" prefix=" " category="inline-code"></block> .</block>
  <block id="d134d418859128801ec294cd10bcbd8e" category="list-text">Provisionnez des périphériques de disque à utiliser avec le pilote de filtre Oracle ASM.</block>
  <block id="3e6c5f0c8e9c1310879c66839bb0f8d5" category="list-text">Installer<block ref="a27b4e2b8f4a0b0419894dfeac36419e" prefix=" " category="inline-code"></block> .</block>
  <block id="cfdbf231484c64b98bc4f3569cd7b324" category="list-text">Non défini<block ref="c0c2c8394b04a929ffc60091aa1f72ca" prefix=" " category="inline-code"></block> .</block>
  <block id="9817d9ff96af960709b8094b73294545" category="list-text">Connectez-vous à l'instance EC2 en tant qu'utilisateur Oracle et extrayez le correctif dans le<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> dossier.</block>
  <block id="5fa683f35265bf7469d9de8c3afc1f42" category="list-text">Depuis la page d'accueil de la grille /u01/app/oracle/product/19.0.0/grid et en tant qu'utilisateur Oracle, lancez<block ref="30c950549715985c6b7c7cd6990d0f4b" prefix=" " category="inline-code"></block> pour l'installation d'infrastructures de réseau.</block>
  <block id="5de6732dda1e7bccbd8e8b367ad248dd" category="paragraph">Ignorez les avertissements concernant les mauvais groupes pour l’infrastructure du réseau.  Nous utilisons un seul utilisateur Oracle pour gérer Oracle Restart, ce qui est donc attendu.</block>
  <block id="26f36488ec442bab2ba0cda087d435eb" category="list-text">En tant qu'utilisateur root, exécutez le(s) script(s) suivant(s) :</block>
  <block id="ada113db66e2b1b6ed982918830cd12e" category="list-text">En tant qu'utilisateur root, rechargez le multipathd.</block>
  <block id="7dff0a250c79eafa071ee2d5713b7123" category="list-text">En tant qu'utilisateur Oracle, exécutez la commande suivante pour terminer la configuration :</block>
  <block id="591ab7f85cb5618030a7a7562552188b" category="list-text">En tant qu'utilisateur Oracle, à partir de $GRID_HOME, créez le groupe de disques LOGS.</block>
  <block id="f71fbb7ff86224d636aac5f9bb42f27d" category="list-text">En tant qu'utilisateur Oracle, validez les services de grille après la configuration de l'installation.</block>
  <block id="f9ba171dd47a8cef31bac8aa17eeb44d" category="list-text">Validez l’état du pilote de filtre ASM.</block>
  <block id="b7e3e332087b6a041c83ce22cce9043c" category="section-title">Installation de la base de données Oracle</block>
  <block id="9250c441cd32cef9ac89c4aaea3311e2" category="list-text">Connectez-vous en tant qu'utilisateur Oracle et annulez la configuration<block ref="88ee3ad336791517a935931e1e50382a" prefix=" " category="inline-code"></block> et<block ref="1548c2f12948ef1485a923f5891a3489" prefix=" " category="inline-code"></block> si c'est réglé.</block>
  <block id="9c1b98a904b357f470c8d87cf837d8cf" category="list-text">Créez le répertoire de base de données Oracle et accédez-y.</block>
  <block id="74d5f0f080c7e7c4f0011e6b16a1072f" category="list-text">Décompressez les fichiers d’installation d’Oracle DB.</block>
  <block id="1fdd02c9779c06712368af7ed65c00dd" category="list-text">Depuis la base de données, supprimez le<block ref="29b6fb214b3224ca10c7261aa01e44b5" prefix=" " category="inline-code"></block> annuaire.</block>
  <block id="f2be6b31ed6989aef561023d439a1cd3" category="list-text">Depuis la base de données, décompressez<block ref="63628571f2dfaeb6f0a0a676290e6e82" prefix=" " category="inline-code"></block> .</block>
  <block id="d86c0eec890e4216540c2b834f6339f5" category="list-text">Depuis la maison DB, réviser<block ref="ef8657f0a0a00af93ba7f1c8885339ca" prefix=" " category="inline-code"></block> , et décommentez et remplacez<block ref="bb7738211dd8eb3dbadf4cc63ae8eb8a" prefix=" " category="inline-code"></block> avec<block ref="b2affc1a941fe7e5e65933911250249c" prefix=" " category="inline-code"></block> .</block>
  <block id="95233719931805924ded9cd671e036df" category="list-text">De la<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> répertoire, décompressez le patch DB 19.18 RU.</block>
  <block id="1df6bf791388469a048d36559ff5657f" category="list-text">Mettre à jour le fichier rsp standard d'installation silencieuse de la base de données dans<block ref="2d9ffa0a3db25b02bcd0091245449764" prefix=" " category="inline-code"></block> répertoire avec les valeurs suivantes dans les sections correspondantes :</block>
  <block id="bdae34f2df30f19488bd87890188b905" category="list-text">Depuis db1 home /u01/app/oracle/product/19.0.0/db1, exécutez une installation silencieuse de la base de données logicielle uniquement.</block>
  <block id="f9db0d5335309d4958e09e8149d7de4d" category="list-text">En tant qu'utilisateur root, exécutez le<block ref="08030ad08b2b991d61b424afd8828758" prefix=" " category="inline-code"></block> script après l'installation du logiciel uniquement.</block>
  <block id="8821c8f59553819485edcda3389eda45" category="list-text">En tant qu'utilisateur Oracle, mettez à jour la norme<block ref="c170c347c737b82ad62c48db1f7bff3c" prefix=" " category="inline-code"></block> fichier avec les entrées suivantes dans les sections concernées :</block>
  <block id="da25f52d1901e3ad93cbe64aa2eb939e" category="list-text">En tant qu'utilisateur Oracle, à partir du répertoire $ORACLE_HOME, lancez la création de la base de données avec dbca.</block>
  <block id="2a00dbe4c39e81805212ab123d0995df" category="list-text">En tant qu'utilisateur Oracle, validez les services Oracle Restart HA après la création de la base de données.</block>
  <block id="05472424b7ce7bd118009f6cde3a0614" category="list-text">Définir l'utilisateur Oracle<block ref="9e0037ad71166970bde5f910189cc94a" prefix=" " category="inline-code"></block> .</block>
  <block id="cadaa91ab9001028d3a153b4325f10a5" category="list-text">Ajouter les entrées suivantes :</block>
  <block id="ab5f5bab123b3441fc9c838b46ff1150" category="list-text">Valider le CDB/PDB créé.</block>
  <block id="432e3219f8a15b5476e2e71941cc6e61" category="list-text">Définissez la taille de destination de récupération de la base de données sur la taille du groupe de disques +LOGS.</block>
  <block id="a0b58d032d36bf0801e5ca3a2aa515d9" category="list-text">Connectez-vous à la base de données avec sqlplus et activez le mode journal d'archivage.</block>
  <block id="9ef846791296cb428b8d2c0b2e01e7d1" category="paragraph">Ceci termine le déploiement du redémarrage d'Oracle 19c version 19.18 sur une instance de calcul Amazon FSx ONTAP et EC2.  Si vous le souhaitez, NetApp recommande de déplacer le fichier de contrôle Oracle et les fichiers journaux en ligne vers le groupe de disques +LOGS.</block>
  <block id="4d3617697efd9a8201cb07f5e610e306" category="section-title">Option de déploiement automatisé</block>
  <block id="df4723e08600f333de3a003e1cc3b83e" category="paragraph">Se référer à<block ref="f849f18cdfe2827921d0c0c510ba74af" category="inline-link-macro-rx"></block> pour plus de détails.</block>
  <block id="6cf7e59477fa5c8722c79a0910c40cd8" category="section-title">Sauvegarde, restauration et clonage de bases de données Oracle avec SnapCenter Service</block>
  <block id="a0c9cf73752e72933d08cadbcdf8c05a" category="inline-link-macro">Services SnapCenter pour Oracle</block>
  <block id="dc8e1ce149bf12e5c226b870af261614" category="paragraph">Voir<block ref="204b993af8240d69dcd89b6d08cc0633" category="inline-link-macro-rx"></block> pour plus de détails sur la sauvegarde, la restauration et le clonage de la base de données Oracle avec la console NetApp BlueXP .</block>
  <block id="f3b25b37995dab3a1b6c753dd74ca21e" category="summary">Cette section fournit des détails sur la manière dont les bases de données AWS RDS Custom pour Oracle sont gérées via l'interface utilisateur SnapCenter en complément de l'interface utilisateur de la console AWS RDS.</block>
  <block id="d0dfaca5f0573d672a0f4dc66997c002" category="doc">Gestion de bases de données Oracle EC2 et FSx</block>
  <block id="cf8b301cbf8aa698c578ff1f8e64ccc2" category="paragraph">Outre la console de gestion AWS EC2 et FSx, le nœud de contrôle Ansible et l'outil d'interface utilisateur SnapCenter sont déployés pour la gestion de la base de données dans cet environnement Oracle.</block>
  <block id="ab1b9a020f08729c00ecee14e5a3be69" category="paragraph">Un nœud de contrôle Ansible peut être utilisé pour gérer la configuration de l'environnement Oracle, avec des mises à jour parallèles qui maintiennent les instances principales et de secours synchronisées pour les mises à jour du noyau ou des correctifs.  Le basculement, la resynchronisation et la restauration peuvent être automatisés avec NetApp Automation Toolkit pour archiver la récupération et la disponibilité rapides des applications avec Ansible.  Certaines tâches de gestion de base de données répétables peuvent être exécutées à l’aide d’un playbook pour réduire les erreurs humaines.</block>
  <block id="53bd53a68bce8fe697a7455feae3861b" category="inline-link-macro">Présentation du plug-in SnapCenter pour la base de données Oracle</block>
  <block id="8dad283458f149f04a674f7c674818ed" category="paragraph">L'outil d'interface utilisateur SnapCenter peut effectuer une sauvegarde instantanée de base de données, une récupération à un instant T, un clonage de base de données, etc. avec le plug-in SnapCenter pour les bases de données Oracle.  Pour plus d'informations sur les fonctionnalités du plugin Oracle, consultez le<block ref="053f091ffb001fc31a47d30bc3d11350" category="inline-link-macro-rx"></block> .</block>
  <block id="c165a519b858dc997da23262308d6463" category="paragraph">Les sections suivantes fournissent des détails sur la manière dont les fonctions clés de la gestion de base de données Oracle sont remplies avec l'interface utilisateur SnapCenter :</block>
  <block id="95154aa7c50b812d3683b6995bed8771" category="list-text">Sauvegardes instantanées de bases de données</block>
  <block id="b055b8a9cd44d5f8e1fa330c20aa1dc3" category="list-text">Restauration ponctuelle de la base de données</block>
  <block id="20f913ca57379280e5f37dce9cd0de61" category="list-text">Création de clone de base de données</block>
  <block id="e724243c3ef9e2c58168b76f3f537412" category="paragraph">Le clonage de base de données crée une réplique d'une base de données principale sur un hôte EC2 distinct pour la récupération des données en cas d'erreur ou de corruption de données logiques, et les clones peuvent également être utilisés pour les tests d'application, le débogage, la validation des correctifs, etc.</block>
  <block id="418768c00fe9ab38a23d8417250d676b" category="section-title">Prendre un instantané</block>
  <block id="c018c634b9245f8522eaf32d3fffaa7a" category="paragraph">Une base de données Oracle EC2/FSx est régulièrement sauvegardée à des intervalles configurés par l'utilisateur.  Un utilisateur peut également effectuer une sauvegarde instantanée ponctuelle à tout moment.  Cela s'applique aussi bien aux sauvegardes de snapshots de bases de données complètes qu'aux sauvegardes de snapshots de journaux d'archives uniquement.</block>
  <block id="0a1758b0d7a64bf446ccd6c9ea2a559d" category="section-title">Prendre un instantané complet de la base de données</block>
  <block id="6aa82df330acc0ad1c1859bf7d19d8c6" category="paragraph">Un instantané complet de la base de données inclut tous les fichiers Oracle, y compris les fichiers de données, les fichiers de contrôle et les fichiers journaux d'archive.</block>
  <block id="71a81fc61b4bde806ab23dbb0dff87ab" category="list-text">Connectez-vous à l’interface utilisateur SnapCenter et cliquez sur Ressources dans le menu de gauche.  Dans la liste déroulante Affichage, passez à la vue Groupe de ressources.</block>
  <block id="f84bb7d1cc837f581fe5348da5a3b21f" category="paragraph"><block ref="f84bb7d1cc837f581fe5348da5a3b21f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3a16fe4e102f4f80c9a0ebe875e00921" category="list-text">Cliquez sur le nom de la ressource de sauvegarde complète, puis cliquez sur l’icône Sauvegarder maintenant pour lancer une sauvegarde supplémentaire.</block>
  <block id="862666b02b037fc85b8a5792531a17b1" category="paragraph"><block ref="862666b02b037fc85b8a5792531a17b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c41836f211ec5f0aee4024039682c6d3" category="list-text">Cliquez sur Sauvegarder, puis confirmez la sauvegarde pour démarrer une sauvegarde complète de la base de données.</block>
  <block id="66b5233e7f5f1804cf17198ce3331102" category="paragraph"><block ref="66b5233e7f5f1804cf17198ce3331102" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5114009902f821226811cd39b519e8ae" category="paragraph">À partir de la vue Ressources de la base de données, ouvrez la page Copies de sauvegarde gérées de la base de données pour vérifier que la sauvegarde ponctuelle s'est terminée avec succès.  Une sauvegarde complète de la base de données crée deux instantanés : un pour le volume de données et un pour le volume du journal.</block>
  <block id="a379f7084ad4a6cc2caa13fff8125ffd" category="paragraph"><block ref="a379f7084ad4a6cc2caa13fff8125ffd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc2bc8e691b80fc2b94cd487cd59a41e" category="section-title">Prendre un instantané du journal d'archive</block>
  <block id="c2a2cc866aaa30cb6344e65c853429a7" category="paragraph">Un instantané du journal d'archive est uniquement pris pour le volume du journal d'archive Oracle.</block>
  <block id="973f07a93ca1636baa391407a84cb38b" category="list-text">Connectez-vous à l’interface utilisateur SnapCenter et cliquez sur l’onglet Ressources dans la barre de menu de gauche.  Dans la liste déroulante Affichage, passez à la vue Groupe de ressources.</block>
  <block id="47f0395291ce13022063147f4981f69f" category="list-text">Cliquez sur le nom de la ressource de sauvegarde du journal, puis cliquez sur l’icône Sauvegarder maintenant pour lancer une sauvegarde complémentaire pour les journaux d’archive.</block>
  <block id="f7acdb350b25fc4be0538df87fe28027" category="paragraph"><block ref="f7acdb350b25fc4be0538df87fe28027" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b8ee5a2ad5f43fcd955b6b30854d2f98" category="list-text">Cliquez sur Sauvegarder, puis confirmez la sauvegarde pour démarrer une sauvegarde du journal d’archive.</block>
  <block id="3c0ec587b0b117affbf8a8aeb3316878" category="paragraph"><block ref="3c0ec587b0b117affbf8a8aeb3316878" category="inline-image-macro-rx" type="image"></block></block>
  <block id="40cffcacb55d81916f38114aac845d4b" category="paragraph">À partir de la vue Ressources de la base de données, ouvrez la page Copies de sauvegarde gérées de la base de données pour vérifier que la sauvegarde ponctuelle du journal d'archive s'est terminée avec succès.  Une sauvegarde du journal d’archive crée un instantané pour le volume du journal.</block>
  <block id="ac7f9e8a10a62f93a2a9b1a5b195773e" category="paragraph"><block ref="ac7f9e8a10a62f93a2a9b1a5b195773e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e16045e122b02913b74ef1e8bd29d75c" category="section-title">Restauration à un moment précis</block>
  <block id="7d2260465121189e3f5aef56d1734e86" category="paragraph">La restauration basée sur SnapCenter à un moment donné est exécutée sur le même hôte d’instance EC2.  Suivez les étapes suivantes pour effectuer la restauration :</block>
  <block id="52443d446e6aa795d8e3a08e581684cb" category="list-text">Dans l’onglet Ressources SnapCenter &gt; Vue Base de données, cliquez sur le nom de la base de données pour ouvrir la sauvegarde de la base de données.</block>
  <block id="6953d4f59579bc16fe5df66ed5925f12" category="paragraph"><block ref="6953d4f59579bc16fe5df66ed5925f12" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bc3aa5bd0c870df97abdd69ef227826" category="list-text">Sélectionnez la copie de sauvegarde de la base de données et le moment souhaité à restaurer.  Notez également le numéro SCN correspondant à ce moment précis.  La restauration ponctuelle peut être effectuée à l'aide de l'heure ou du SCN.</block>
  <block id="2453a72b7c64a498109919bd3dde5c14" category="paragraph"><block ref="2453a72b7c64a498109919bd3dde5c14" category="inline-image-macro-rx" type="image"></block></block>
  <block id="acee7bbe553399023f78a7ac814d7a94" category="list-text">Mettez en surbrillance l’instantané du volume du journal et cliquez sur le bouton Monter pour monter le volume.</block>
  <block id="6794549233d08b27a364c0388e13adc8" category="paragraph"><block ref="6794549233d08b27a364c0388e13adc8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d06beb2a91e58c7e57367e901abc09fd" category="list-text">Choisissez l’instance EC2 principale pour monter le volume de journal.</block>
  <block id="4eee78a1caace393a5f644cdb1919c49" category="paragraph"><block ref="4eee78a1caace393a5f644cdb1919c49" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f83a9f884d94d22d3c52d510a051ac90" category="list-text">Vérifiez que le travail de montage se termine avec succès.  Vérifiez également l'hôte de l'instance EC2 pour voir le volume de journal monté ainsi que le chemin du point de montage.</block>
  <block id="fd1065b0c2fbd8c666e7bf2fb62c03a3" category="paragraph"><block ref="b8af9c769ba63954cada01d7557f9013" category="inline-image-macro-rx" type="image"></block> <block ref="c160eaeb165c458219a282a4287689fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12a7a64116d859fb64b3f841a43e6fac" category="list-text">Copiez les journaux d’archive du volume de journal monté vers le répertoire de journal d’archive actuel.</block>
  <block id="f57c6961965ccab84762e9b4bbdd72f0" category="list-text">Revenez à l’onglet Ressource SnapCenter &gt; page de sauvegarde de la base de données, mettez en surbrillance la copie instantanée des données et cliquez sur le bouton Restaurer pour démarrer le flux de travail de restauration de la base de données.</block>
  <block id="88fa28f693b12aee698b0958a76198a7" category="paragraph"><block ref="88fa28f693b12aee698b0958a76198a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a08ce545f0f81946ee65326ff4608df" category="list-text">Cochez « Tous les fichiers de données » et « Modifier l’état de la base de données si nécessaire pour la restauration et la récupération », puis cliquez sur Suivant.</block>
  <block id="63bb70b8a6d4456bcc55975ace07841e" category="paragraph"><block ref="63bb70b8a6d4456bcc55975ace07841e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e589c1295b0849053e2d8cc2bbf96a1e" category="list-text">Choisissez une étendue de récupération souhaitée à l'aide de SCN ou de l'heure.  Plutôt que de copier les journaux d'archive montés dans le répertoire de journaux actuel comme démontré à l'étape 6, le chemin d'accès au journal d'archive monté peut être répertorié dans « Spécifier les emplacements des fichiers journaux d'archive externes » pour la récupération.</block>
  <block id="3911f7c218ba9b96234120f22df20190" category="paragraph"><block ref="3911f7c218ba9b96234120f22df20190" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2f3b533a6c9cd757a311b56318115bbe" category="list-text">Spécifiez un prescript facultatif à exécuter si nécessaire.</block>
  <block id="4b9a038d2a5438ff831e2a31cd90738e" category="paragraph"><block ref="4b9a038d2a5438ff831e2a31cd90738e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="16a70e704c6e5104eff1adca9f951c36" category="list-text">Spécifiez un script ultérieur facultatif à exécuter si nécessaire.  Vérifiez la base de données ouverte après la récupération.</block>
  <block id="95c5344535e651517848ba8c689b1618" category="paragraph"><block ref="95c5344535e651517848ba8c689b1618" category="inline-image-macro-rx" type="image"></block></block>
  <block id="975952869f93fd5cb45acf8a19b97834" category="list-text">Fournissez un serveur SMTP et une adresse e-mail si une notification de travail est nécessaire.</block>
  <block id="955d438e4caad4c3dfb262915577f9c3" category="paragraph"><block ref="955d438e4caad4c3dfb262915577f9c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f92d4c842e7343ab2f69eac4e3561bc" category="list-text">Restaurer le résumé du travail.  Cliquez sur Terminer pour lancer la tâche de restauration.</block>
  <block id="ca468de4274430f1cbb46dc164672685" category="paragraph"><block ref="ca468de4274430f1cbb46dc164672685" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0e783d4afe611873ddc32a5a59ff2078" category="list-text">Validez la restauration depuis SnapCenter.</block>
  <block id="d34d1a6639fbbbd9f758e1149de7aeb2" category="paragraph"><block ref="d34d1a6639fbbbd9f758e1149de7aeb2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a6e8e06b3f3e03bdb3391888df78e46" category="list-text">Validez la restauration à partir de l’hôte d’instance EC2.</block>
  <block id="0af06dc38a257cb730933e4c5dcb229d" category="paragraph"><block ref="0af06dc38a257cb730933e4c5dcb229d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="983d6ea8d6962c3e0f9abef0c4c948f4" category="list-text">Pour démonter le volume du journal de restauration, inversez les étapes de l’étape 4.</block>
  <block id="ca0c306ba98701576c42d241b48d4038" category="section-title">Création d'un clone de base de données</block>
  <block id="a8bd304fe0995bcddba8dd93a8d447a6" category="paragraph">La section suivante montre comment utiliser le flux de travail de clonage SnapCenter pour créer un clone de base de données à partir d'une base de données principale vers une instance EC2 de secours.</block>
  <block id="91956afde8e3bc7ac47e37b9821ca6f9" category="list-text">Effectuez une sauvegarde instantanée complète de la base de données principale à partir de SnapCenter à l'aide du groupe de ressources de sauvegarde complète.</block>
  <block id="d5ae4fdf87f8aaf684c36ac50699c794" category="paragraph"><block ref="d5ae4fdf87f8aaf684c36ac50699c794" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b08a0a4966d6a40934f84e0367df5124" category="list-text">Dans l'onglet Ressource SnapCenter &gt; Vue Base de données, ouvrez la page Gestion de sauvegarde de base de données pour la base de données principale à partir de laquelle la réplique doit être créée.</block>
  <block id="ff02490e1cc80c4cc397c158ef7e35c8" category="paragraph"><block ref="ff02490e1cc80c4cc397c158ef7e35c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6b265d526ea8d86f13a3ee5b3df11ce5" category="list-text">Montez l’instantané du volume de journal pris à l’étape 4 sur l’hôte d’instance EC2 de secours.</block>
  <block id="e0933e237903488c5c6e3cc5ef953c5f" category="paragraph"><block ref="de03172a28665b689eb3e85ef7e156b8" category="inline-image-macro-rx" type="image"></block> <block ref="747b56b56fef24e9fa888e463e83fd9e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15c2865196d70f81dd791b3329d2604e" category="list-text">Mettez en surbrillance la copie instantanée à cloner pour la réplique et cliquez sur le bouton Cloner pour démarrer la procédure de clonage.</block>
  <block id="9229dd01ffdec894b42f3f7ea277fe70" category="paragraph"><block ref="9229dd01ffdec894b42f3f7ea277fe70" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ebc0e83f8e5d02518da0756a18aaab4" category="list-text">Modifiez le nom de la copie de réplication afin qu'il soit différent du nom de la base de données principale. Cliquez sur Suivant.</block>
  <block id="4b2084607515bf6fefcdcc3c03d5b620" category="paragraph"><block ref="4b2084607515bf6fefcdcc3c03d5b620" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ba0975a31e144349d50f09393a5ca21" category="list-text">Remplacez l’hôte clone par l’hôte EC2 de secours, acceptez le nom par défaut et cliquez sur Suivant.</block>
  <block id="e4d2bda2c8bd0169bab2ea8bc4f28d8a" category="paragraph"><block ref="e4d2bda2c8bd0169bab2ea8bc4f28d8a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eeda8df21c3391dcc7a327cfec8f8704" category="list-text">Modifiez vos paramètres d'accueil Oracle pour qu'ils correspondent à ceux configurés pour l'hôte du serveur Oracle cible, puis cliquez sur Suivant.</block>
  <block id="eb1b4591252115df7f4b7ee69c70c2f6" category="paragraph"><block ref="eb1b4591252115df7f4b7ee69c70c2f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f10b26890bad0f92387ad2c8efb9b532" category="list-text">Spécifiez un point de récupération en utilisant l'heure ou le SCN et le chemin du journal d'archive monté.</block>
  <block id="727fdf35b2a06ef1db814081af997df8" category="paragraph"><block ref="727fdf35b2a06ef1db814081af997df8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="684abeacd08eb59922d70d928ce47f45" category="list-text">Envoyez les paramètres de messagerie SMTP si nécessaire.</block>
  <block id="6ba442995abae43b87983bc7244b0e78" category="paragraph"><block ref="6ba442995abae43b87983bc7244b0e78" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2cc0c6ba26bdf7b30e39313a0ad4098" category="list-text">Clonez le résumé du travail et cliquez sur Terminer pour lancer le travail de clonage.</block>
  <block id="7d4f9ba073f1d2f68982be3af89ff5ea" category="paragraph"><block ref="7d4f9ba073f1d2f68982be3af89ff5ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5cd909b2ce2e22f0bb8734426ea9e9a" category="list-text">Validez le clone de réplique en examinant le journal des tâches de clonage.</block>
  <block id="5a2a7a2fda4f5f73147fca7888b84ead" category="paragraph"><block ref="5a2a7a2fda4f5f73147fca7888b84ead" category="inline-image-macro-rx" type="image"></block></block>
  <block id="66a858d0c53f7ecef6ff665372a428c5" category="paragraph">La base de données clonée est immédiatement enregistrée dans SnapCenter .</block>
  <block id="c1d62874defbd2f3d5b80a3ef64e0033" category="paragraph"><block ref="c1d62874defbd2f3d5b80a3ef64e0033" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9b70fde27d9d03d393dc2fd619546988" category="list-text">Désactivez le mode journal d'archivage Oracle.  Connectez-vous à l'instance EC2 en tant qu'utilisateur Oracle et exécutez la commande suivante :</block>
  <block id="ca1a9785bb111fcadc4527aae18f822d" category="admonition">Au lieu de copies de sauvegarde Oracle principales, un clone peut également être créé à partir de copies de sauvegarde secondaires répliquées sur le cluster FSx cible avec les mêmes procédures.</block>
  <block id="2a75f5115dab8b39875560a4d7252d2f" category="section-title">Basculement HA vers le mode veille et resynchronisation</block>
  <block id="f5bc6d05191457096f9da00e0fa56d40" category="paragraph">Le cluster Oracle HA de secours offre une haute disponibilité en cas de panne du site principal, soit au niveau de la couche de calcul, soit au niveau de la couche de stockage.  L’un des avantages majeurs de la solution est qu’un utilisateur peut tester et valider l’infrastructure à tout moment ou à n’importe quelle fréquence.  Le basculement peut être simulé par l'utilisateur ou déclenché par une panne réelle.  Les processus de basculement sont identiques et peuvent être automatisés pour une récupération rapide des applications.</block>
  <block id="6775249aa36196ee3d9c71774992f2c4" category="paragraph">Consultez la liste suivante des procédures de basculement :</block>
  <block id="eb171dc2d1f739dfee2e358326abd0e9" category="list-text">Pour un basculement simulé, exécutez une sauvegarde instantanée du journal pour vider les dernières transactions sur le site de secours, comme illustré dans la section<block ref="58f2fe5f16b910e6ad4f8b3f8679e256" category="inline-xref-macro-rx"></block> .  Pour un basculement déclenché par une panne réelle, les dernières données récupérables sont répliquées sur le site de secours avec la dernière sauvegarde planifiée réussie du volume de journal.</block>
  <block id="abdc57f5efdfeac30fe822d9eda2fc9f" category="list-text">Rompre le SnapMirror entre le cluster FSx principal et de secours.</block>
  <block id="bd54ae4d51454c6a89990f066be03d35" category="list-text">Montez les volumes de base de données de secours répliqués sur l’hôte d’instance EC2 de secours.</block>
  <block id="588698147b1d63f4f9f6d78dd8d83595" category="list-text">Reliez le binaire Oracle si le binaire Oracle répliqué est utilisé pour la récupération Oracle.</block>
  <block id="0f1ac3f743fcb2d14875c7a731c3d251" category="list-text">Récupérez la base de données Oracle de secours vers le dernier journal d'archive disponible.</block>
  <block id="ab933bdc7c043f4a3c977049791f0640" category="list-text">Ouvrez la base de données Oracle de secours pour l'accès des applications et des utilisateurs.</block>
  <block id="6928cb13e9136438c86e16b724b3b64f" category="list-text">En cas de panne réelle du site principal, la base de données Oracle de secours prend désormais le rôle du nouveau site principal et les volumes de base de données peuvent être utilisés pour reconstruire le site principal défaillant en tant que nouveau site de secours avec la méthode SnapMirror inversée.</block>
  <block id="13e25eed8fa423975f854101e3be1e89" category="list-text">Pour une défaillance simulée du site principal à des fins de test ou de validation, arrêtez la base de données Oracle de secours une fois les exercices de test terminés.  Démontez ensuite les volumes de base de données de secours de l'hôte d'instance EC2 de secours et resynchronisez la réplication du site principal vers le site de secours.</block>
  <block id="c3fd0f78855e219b0fd44077ce74e7b5" category="paragraph">Ces procédures peuvent être effectuées avec le NetApp Automation Toolkit disponible en téléchargement sur le site public NetApp GitHub.</block>
  <block id="ba4d6e5d6eeea04cdc5a4f243b1e5dd8" category="paragraph">Lisez attentivement les instructions README avant de tenter la configuration et le test de basculement.</block>
  <block id="90a0d380974aa73acb8330f1ff9a7930" category="summary">Cette section fournit des détails sur les facteurs à prendre en compte lors de la migration de la base de données Oracle depuis un emplacement local vers une instance AWS EC2 et un stockage FSx.</block>
  <block id="895a8d39dd9ae7fe795349bdbc3f05dc" category="doc">Migration de bases de données sur site vers le cloud public</block>
  <block id="373ae4e24c2daa280a4a5aca82dd3818" category="paragraph">La migration d’une base de données est une tâche difficile à tous égards.  La migration d’une base de données Oracle sur site vers le cloud ne fait pas exception.</block>
  <block id="d1e968e04e34c971d41e644820094cef" category="paragraph">Les sections suivantes fournissent les facteurs clés à prendre en compte lors de la migration des bases de données Oracle vers le cloud public AWS avec la plate-forme de calcul AWS EC2 et de stockage FSx.</block>
  <block id="84639b5fb3b348e6a053dde95414e039" category="section-title">Le stockage ONTAP est disponible sur site</block>
  <block id="3c2e1436532e8615aa8fdb7bb7432f80" category="paragraph">Si la base de données Oracle sur site se trouve sur une baie de stockage ONTAP , il est alors plus facile de configurer la réplication pour la migration de la base de données à l'aide de la technologie NetApp SnapMirror intégrée au stockage AWS FSx ONTAP .  Le processus de migration peut être orchestré à l’aide de la console NetApp BlueXP .</block>
  <block id="df2111c23e70fa013a85041e1415639e" category="list-text">Créez une instance de calcul cible EC2 qui correspond à l’instance sur site.</block>
  <block id="1931f75e563d3dc9ee112e9b4ebd66b7" category="list-text">Provisionnez des volumes de base de données de taille égale et correspondants à partir de la console FSx.</block>
  <block id="98201e355445ae8a2eff3b7c33132cc6" category="list-text">Montez les volumes de base de données FSx sur l’instance EC2.</block>
  <block id="53fad15133e494dc37bbd0494b8f3a6c" category="list-text">Configurez la réplication SnapMirror entre les volumes de base de données locaux et les volumes de base de données FSx cibles.  La synchronisation initiale peut prendre un certain temps pour déplacer les données source principales, mais toutes les mises à jour incrémentielles suivantes sont beaucoup plus rapides.</block>
  <block id="ed7c233990ddaa2e7103a9f5b77ee3de" category="list-text">Au moment du basculement, fermez l’application principale pour arrêter toutes les transactions.  À partir de l'interface CLI Oracle sqlplus, exécutez un commutateur de journal en ligne Oracle et autorisez la synchronisation SnapMirror à envoyer le dernier journal archivé vers le volume cible.</block>
  <block id="8da4f0ed2ee5c7e68c3fe9ec3dde280e" category="list-text">Divisez les volumes en miroir, exécutez la récupération Oracle sur la cible et activez la base de données pour le service.</block>
  <block id="6efd103fd0a488a3d023523ab6377e4e" category="list-text">Pointez les applications vers la base de données Oracle dans le cloud.</block>
  <block id="094ef1326e70f1212e06a1b5d65d2922" category="paragraph">La vidéo suivante montre comment migrer une base de données Oracle depuis un site local vers AWS FSx/EC2 à l'aide de la console NetApp BlueXP et de la réplication SnapMirror .</block>
  <block id="6cd47796208de7b1d81ffd66d5fa0744" category="video-title">Migrer une base de données Oracle sur site vers AWS</block>
  <block id="86afa353cad293784396216eab80ee52" category="section-title">Le stockage ONTAP n'est pas disponible sur site</block>
  <block id="c11080183211191097c120f87656c802" category="paragraph">Si la base de données Oracle sur site est hébergée sur un stockage tiers autre ONTAP, la migration de la base de données est basée sur la restauration d'une copie de sauvegarde de la base de données Oracle.  Vous devez lire le journal d'archive pour le mettre à jour avant de passer à autre chose.</block>
  <block id="722283478873a13974c4b1b6ea967a40" category="paragraph">AWS S3 peut être utilisé comme zone de stockage intermédiaire pour le déplacement et la migration de bases de données.  Consultez les étapes de haut niveau suivantes pour cette méthode :</block>
  <block id="9312555163563ac6b35994e42f15d009" category="list-text">Provisionnez une nouvelle instance EC2 correspondante comparable à l’instance sur site.</block>
  <block id="8705a6dedde3ea188c113bda4fe97c14" category="list-text">Provisionnez des volumes de base de données égaux à partir du stockage FSx et montez les volumes sur l'instance EC2.</block>
  <block id="6aeff6e3d9f2f107fa5584191966f816" category="list-text">Créez une copie de sauvegarde Oracle au niveau du disque.</block>
  <block id="0f90c0c06dae8f50c3f93d33a7547df2" category="list-text">Déplacez la copie de sauvegarde vers le stockage AWS S3.</block>
  <block id="d8fd670e7724b3db99919ea02cd762cc" category="list-text">Recréez le fichier de contrôle Oracle et restaurez et récupérez la base de données en extrayant les données et le journal d'archive du stockage S3.</block>
  <block id="c4a99d505e8ebe4d5f04ae86d2a724b7" category="list-text">Synchronisez la base de données Oracle cible avec la base de données source sur site.</block>
  <block id="3bac7326688b384ce82c7c9807cae4b7" category="list-text">Lors du basculement, arrêtez l'application et la base de données Oracle source.  Copiez les derniers journaux d’archive et appliquez-les à la base de données Oracle cible pour la mettre à jour.</block>
  <block id="98cf6a7f87338026b5b95afee91d5676" category="list-text">Démarrez la base de données cible pour l’accès utilisateur.</block>
  <block id="021e473c3a779caff7d794ce36c8ef68" category="list-text">Redirigez l'application vers la base de données cible pour terminer le basculement.</block>
  <block id="e54801d4a4497c3566a98c0ef4ec6f18" category="section-title">Migrer les bases de données Oracle sur site vers AWS FSx/EC2 à l'aide de la relocalisation PDB avec une disponibilité maximale</block>
  <block id="16d584a60d17de3de7cd0dcc0828fee9" category="paragraph">Cette approche de migration est la mieux adaptée aux bases de données Oracle déjà déployées dans le modèle multilocataire PDB/CDB, et le stockage ONTAP n'est pas disponible sur site.  La méthode de relocalisation PDB utilise la technologie de clonage à chaud Oracle PDB pour déplacer les PDB entre une CDB source et une CDB cible tout en minimisant les interruptions de service.</block>
  <block id="c5bd16be343bf2e5a3c081284c6c799b" category="paragraph">Tout d’abord, créez une CDB dans AWS FSx/EC2 avec un stockage suffisant pour héberger les PDB à migrer à partir des locaux.  Plusieurs PDB sur site peuvent être déplacés un par un.</block>
  <block id="d7acbe14b605ece64e94636c2ac85151" category="inline-link-macro">Conversion d'une instance unique non-CDB en PDB dans une CDB multilocataire</block>
  <block id="461796854b0f6af0212402edd436650e" category="list-text">Si la base de données sur site est déployée dans une instance unique plutôt que dans le modèle PDB/CDB multilocataire, suivez les instructions de<block ref="49f6bba6acf489c2e24ceec59c2ea0cc" category="inline-link-macro-rx"></block> pour convertir l'instance unique en PDB/CDB multilocataire.  Suivez ensuite l’étape suivante pour migrer le PDB converti vers CDB dans AWS FSx/EC2.</block>
  <block id="92c29ab4b5bfbc6de30e29363bc9aea7" category="inline-link-macro">Migrer les bases de données Oracle sur site vers le cloud avec la relocalisation PDB</block>
  <block id="5f2a2d5542be4066ef8064444312f9f9" category="list-text">Si la base de données sur site est déjà déployée dans le modèle PDB/CDB multilocataire, suivez les instructions de<block ref="cd76591b1b4949ae37c52558aad4debf" category="inline-link-macro-rx"></block> pour effectuer la migration.</block>
  <block id="499d7c245aad786a568d21227b5b65d8" category="paragraph">La vidéo suivante montre comment une base de données Oracle (PDB) peut être migrée vers FSx/EC2 à l'aide de la relocalisation PDB avec une disponibilité maximale.</block>
  <block id="c0d2cea4b49d55201605052121b68ca7" category="inline-link-macro">Migrer Oracle PDB sur site vers AWS CDB avec une disponibilité maximale</block>
  <block id="e3d2de69302b3f20931015cece4526e4" category="paragraph"><block ref="5deefe7b3e78f7f08541c2e7b5b56e54" category="inline-link-macro-rx"></block></block>
  <block id="5eae2f4290a9e1f77061f80c6c015bc6" category="admonition">Bien que les instructions des étapes 1 et 2 soient illustrées dans le contexte du cloud public Azure, les procédures sont applicables au cloud AWS sans aucune modification.</block>
  <block id="41099d15ad008ac11d04538ef8e57575" category="paragraph">L'équipe NetApp Solutions Automation fournit une boîte à outils de migration qui peut faciliter la migration de la base de données Oracle depuis les locaux vers le cloud AWS.  Utilisez la commande suivante pour télécharger la boîte à outils de migration de base de données Oracle pour la relocalisation PDB.</block>
  <block id="80d1c0ba73b8e2e8e0f305b42a776a1f" category="summary">La solution fournit une vue d'ensemble et des détails sur le déploiement et la protection de la base de données Oracle dans le stockage AWS FSx ONTAP et l'instance de calcul EC2 avec le protocole NFS et la base de données Oracle configurée dans ReStart autonome à l'aide d'asm comme gestionnaire de volumes.</block>
  <block id="ff1acb029b62c5c8f2a7b9fa9cd89004" category="doc">TR-4974 : Oracle 19c en redémarrage autonome sur AWS FSx/EC2 avec NFS/ASM</block>
  <block id="25a771368cf645aad87c1626869055d5" category="paragraph">Cette solution fournit une vue d'ensemble et des détails sur le déploiement et la protection de la base de données Oracle dans le stockage AWS FSx ONTAP et l'instance de calcul EC2 avec le protocole NFS et la base de données Oracle configurée dans ReStart autonome à l'aide d'asm comme gestionnaire de volumes.</block>
  <block id="418241bdca49e4aec92c0ff810e8e099" category="paragraph">ASM (Automatic Storage Management) est un gestionnaire de volumes de stockage Oracle populaire utilisé dans de nombreuses installations Oracle.  C'est également la solution de gestion du stockage recommandée par Oracle.  Il offre une alternative aux gestionnaires de volumes et aux systèmes de fichiers conventionnels.  Depuis la version 11g d'Oracle, ASM est fourni avec une infrastructure de grille plutôt qu'avec une base de données.  Par conséquent, pour utiliser Oracle ASM pour la gestion du stockage sans RAC, vous devez installer l'infrastructure de grille Oracle sur un serveur autonome, également appelé Oracle Restart.  Cela ajoute certainement plus de complexité à un déploiement de base de données Oracle par ailleurs plus simple.  Cependant, comme son nom l'indique, lorsque Oracle est déployé en mode Redémarrage, tous les services Oracle défaillants sont redémarrés après un redémarrage de l'hôte sans intervention de l'utilisateur, ce qui fournit un certain degré de haute disponibilité ou de fonctionnalité HA.</block>
  <block id="97922f9fd788b577a80c7cf59d3de12e" category="paragraph">Oracle ASM est généralement déployé dans les protocoles de stockage FC, iSCSI et les LUN en tant que périphériques de stockage bruts.  Cependant, le protocole ASM sur NFS et le système de fichiers NFS sont également pris en charge par Oracle.  Dans cette documentation, nous montrons comment déployer une base de données Oracle 19c avec le protocole NFS et Oracle ASM dans un environnement de stockage Amazon FSx ONTAP avec des instances de calcul EC2.  Nous montrons également comment utiliser le service NetApp SnapCenter via la console NetApp BlueXP pour sauvegarder, restaurer et cloner votre base de données Oracle à des fins de développement/test ou d'autres cas d'utilisation pour un fonctionnement de base de données efficace en termes de stockage dans le cloud public AWS.</block>
  <block id="888381e0b388e88a008b28e9bde03499" category="list-text">Déploiement de bases de données Oracle dans le stockage Amazon FSx ONTAP et les instances de calcul EC2 avec NFS/ASM</block>
  <block id="86e62b62bb73c1d45af1018c5f546fa2" category="list-text">Tester et valider une charge de travail Oracle dans le cloud public AWS avec NFS/ASM</block>
  <block id="b1868e5a46a34f2e4894103a18fa6e75" category="list-text">Un DBA qui souhaite déployer Oracle dans un cloud public AWS avec NFS/ASM.</block>
  <block id="051c77f35308619650f171e87873bce3" category="paragraph"><block ref="051c77f35308619650f171e87873bce3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e5a8ef13e1f2826df29bb4025ed6544" category="list-text">*Disposition des données et des journaux Oracle.*  Dans nos tests et validations, nous avons déployé deux groupes de disques ASM pour les données et les journaux respectivement.  Dans le groupe de disques asm +DATA, nous avons provisionné quatre disques dans un point de montage de système de fichiers NFS de données.  Dans le groupe de disques asm +LOGS, nous avons provisionné deux disques dans un point de montage du système de fichiers NFS de journaux.  Pour un déploiement de base de données volumineux, des groupes de disques ASM peuvent être créés pour s'étendre sur plusieurs systèmes de fichiers FSx avec des disques NFS ASM distribués via plusieurs points de montage NFS ancrés sur des systèmes de fichiers FSx.  Cette configuration particulière est conçue pour répondre aux exigences de débit de base de données supérieures à 4 Gbit/s et de 160 000 IOPS SSD brutes.</block>
  <block id="e2d21e7b1ae9a8e7d20087f0084bf01a" category="list-text">*Configuration dNFS.* dNFS est intégré au noyau Oracle et est connu pour augmenter considérablement les performances de la base de données Oracle lorsque Oracle est déployé sur le stockage NFS. dNFS est empaqueté dans le binaire Oracle mais n'est pas activé par défaut.  Il doit être activé pour tout déploiement de base de données Oracle sur NFS.  Pour le déploiement de plusieurs systèmes de fichiers FSx pour une base de données volumineuse, le multi-chemin dNFS doit être correctement configuré.</block>
  <block id="bc229d9916fc3cb8de0f67f3e5d86528" category="list-text">*Niveau de redondance Oracle ASM à utiliser pour chaque groupe de disques Oracle ASM que vous créez.*  Étant donné que FSx reflète déjà le stockage au niveau du cluster FSx, vous devez<block ref="7ea763007de155a1d5ac7192d220c274" prefix=" " category="inline-code"></block> utiliser la redondance externe, ce qui signifie que l'option ne permet pas à Oracle ASM de refléter le contenu du groupe de disques.  Ceci est particulièrement important car NFS pour le stockage des données de la base de données Oracle nécessite une option de montage HARD NFS qui n'est PAS souhaitable pour la mise en miroir du contenu ASM au niveau Oracle.</block>
  <block id="d953285f2eeac9b2766ac055d81bf48a" category="list-text">Installez nfs-utils.</block>
  <block id="d5dbcd1ace089fec7f75fa03e884cb93" category="list-text">Ajoutez le groupe ASM à utiliser pour le groupe asm sysasm</block>
  <block id="04c0abfa4d590dbcf8140c900090b7d4" category="section-title">Provisionner et exporter les volumes NFS à monter sur l'hôte d'instance EC2</block>
  <block id="a245b068ccb33c4feb57be67c4c4929e" category="list-text">Valider les volumes DB créés.</block>
  <block id="f6a4694211343b15651db8fdd5f16222" category="list-text">Créer le répertoire /u01 pour monter le système de fichiers binaires Oracle</block>
  <block id="aabf104e3877a3141576892889ebcfd2" category="list-text">Montez le volume binaire sur<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> , changé en votre adresse IP FSx NFS lif.  Si vous avez déployé le cluster FSx via la boîte à outils d'automatisation NetApp , l'adresse IP NFS lif du serveur de stockage virtuel FSx sera répertoriée dans la sortie à la fin de l'exécution de la fourniture des ressources.  Sinon, il peut être récupéré à partir de l'interface utilisateur de la console AWS FSx.</block>
  <block id="6dc5f678e8b8446afe039edff2864ef0" category="list-text">Changement<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> propriété du point de montage à l'utilisateur Oracle et à son groupe principal associé.</block>
  <block id="6e5bf17d6cb7ff829494e09654c5fdc2" category="list-text">Créer un répertoire /oradata pour monter le système de fichiers de données Oracle</block>
  <block id="41096b5d68af7d413deac705db2e3bab" category="list-text">Montez le volume de données sur<block ref="f006bf17b06c884c47190c4225d3215a" prefix=" " category="inline-code"></block> , changé en votre adresse IP FSx NFS lif</block>
  <block id="90231d3bb492c7fb529e3500cdcef778" category="list-text">Changement<block ref="f006bf17b06c884c47190c4225d3215a" prefix=" " category="inline-code"></block> propriété du point de montage à l'utilisateur Oracle et à son groupe principal associé.</block>
  <block id="fbe05a889a0659f00644b0c25e984066" category="list-text">Créer un répertoire /oralogs pour monter le système de fichiers des journaux Oracle</block>
  <block id="0e94479bef4fdce94a31a913e4a90ea4" category="list-text">Montez le volume du journal sur<block ref="894db1fc1592356880976f1b92c3e6a2" prefix=" " category="inline-code"></block> , changé en votre adresse IP FSx NFS lif</block>
  <block id="cd48bd706e8c70912f675dc9f17a75be" category="list-text">Changement<block ref="894db1fc1592356880976f1b92c3e6a2" prefix=" " category="inline-code"></block> propriété du point de montage à l'utilisateur Oracle et à son groupe principal associé.</block>
  <block id="06b5412c6ada2efb7e05e7a7454e34df" category="list-text">sudo à l'utilisateur Oracle, créez des dossiers ASM pour stocker les fichiers de disque ASM</block>
  <block id="f6ebe7eea328062998e8b597d1de48e4" category="list-text">En tant qu'utilisateur Oracle, créez des fichiers de disque de données ASM, modifiez le nombre pour qu'il corresponde à la taille du disque avec la taille du bloc.</block>
  <block id="71d4584b509281ece4fe148bde055f32" category="list-text">Modifier l'autorisation du fichier de disque de données à 640</block>
  <block id="9b424f5bec397927a45cc70947221c7d" category="list-text">En tant qu'utilisateur Oracle, créez des fichiers de disque de journaux ASM, modifiez le nombre pour qu'il corresponde à la taille du disque avec la taille du bloc.</block>
  <block id="f2e7337a3b32de4673f07d1c3d1ac0a5" category="list-text">Modifier l'autorisation du fichier disque des journaux à 640</block>
  <block id="572656c141066b10c23d5205e70be53b" category="list-text">Depuis la page d'accueil de la grille, copiez<block ref="63628571f2dfaeb6f0a0a676290e6e82" prefix=" " category="inline-code"></block> dans le grid_home, puis décompressez-le.</block>
  <block id="e4dae708382daa7f76913b9e5b686a1c" category="list-text">Préparez un<block ref="77d9f4d56c58834c8dacf6d0cb94e085" prefix=" " category="inline-code"></block> fichier pour une installation silencieuse et placez le fichier rsp dans le<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> annuaire.  Le fichier rsp doit couvrir les sections A, B et G avec les informations suivantes :</block>
  <block id="196c642f2925757377d21779d79ba748" category="list-text">Connectez-vous à l’instance EC2 en tant qu’utilisateur root.</block>
  <block id="3f2a67de0c5824d878c62c0bc347e09b" category="list-text">En tant qu’utilisateur Oracle, créez le groupe de disques LOGS.</block>
  <block id="948ac6ddaa5b19c62366a04abf60547d" category="list-text">Depuis la page d'accueil de la base de données, copiez<block ref="63628571f2dfaeb6f0a0a676290e6e82" prefix=" " category="inline-code"></block> à<block ref="22f5bd75d60d3065afc99a50bc98d9ae" prefix=" " category="inline-code"></block> , puis décompressez-le.</block>
  <block id="0181cf4258f052eaf2d48f78cd4fed7b" category="list-text">Préparez le fichier rsp d'installation silencieuse de la base de données dans<block ref="2d9ffa0a3db25b02bcd0091245449764" prefix=" " category="inline-code"></block> répertoire avec les valeurs suivantes :</block>
  <block id="2bba715ff3b85da75ce86da55f5d9173" category="list-text">En tant qu'utilisateur Oracle, créez le<block ref="c170c347c737b82ad62c48db1f7bff3c" prefix=" " category="inline-code"></block> fichier avec les entrées suivantes :</block>
  <block id="a6774a54a715f893108bd2d2bc05062e" category="admonition">Définissez la mémoire totale en fonction de la mémoire disponible dans l'hôte d'instance EC2.  Oracle alloue 75 % de<block ref="834709f36a11a38a80fe0dc57054ec20" prefix=" " category="inline-code"></block> vers l'instance DB SGA ou le cache tampon.</block>
  <block id="c96739fe831515243fc940e9ee867ea3" category="list-text">En tant qu'utilisateur Oracle, lancez la création de base de données avec dbca.</block>
  <block id="c8c683d0737e702e38c962f83ab25c3f" category="list-text">En tant qu'utilisateur Oracle, accédez au répertoire de base de données Oracle /u01/app/oracle/product/19.0.0/db1 et activez dNFS</block>
  <block id="f60c53adcb933554319040836143101b" category="list-text">Configurer le fichier oranfstab dans ORACLE_HOME</block>
  <block id="e3821eca2ea743978a8041832aa25596" category="list-text">En tant qu'utilisateur Oracle, connectez-vous à la base de données depuis sqlplus et définissez la taille et l'emplacement de récupération de la base de données sur le groupe de disques +LOGS.</block>
  <block id="78f987fb432bce81eba18cab51620826" category="list-text">Activer le mode journal d'archivage et redémarrer l'instance Oracle DB</block>
  <block id="2311b19efeffe5f795b74cc4dddf6246" category="list-text">Valider le mode journal de la base de données et dNFS après le redémarrage de l'instance</block>
  <block id="db852220e8f70b72373f5e4a21bd9a45" category="list-text">Valider Oracle ASM</block>
  <block id="3809b24192da05cb9bdf6fc7f86ce5d6" category="paragraph">NetApp publiera une boîte à outils de déploiement de solutions entièrement automatisée avec Ansible pour faciliter la mise en œuvre de cette solution.  Veuillez vérifier régulièrement la disponibilité de la boîte à outils.  Après sa sortie, un lien sera publié ici.</block>
  <block id="b215c3ea984bf845efc69c734ec03369" category="paragraph">À l'heure actuelle, la base de données Oracle avec option de stockage NFS et ASM n'est prise en charge que par l'outil d'interface utilisateur traditionnel de SnapCenter Server. Voir<block ref="8f81a54fece1094b09a6e495584caacf" category="inline-link-macro-rx"></block> pour plus de détails sur la sauvegarde, la restauration et le clonage de la base de données Oracle avec l'outil d'interface utilisateur NetApp SnapCenter .</block>
  <block id="7d34df46082e5771e092eb8736597ee0" category="summary">Cette section décrit les procédures de déploiement de la base de données personnalisée Oracle RDS avec le stockage FSx.</block>
  <block id="4020b36b638694a9834cb01b53b25ffe" category="doc">Procédures de déploiement Oracle étape par étape sur AWS EC2 et FSx</block>
  <block id="f70ec60e40ece5900605229a28081b13" category="section-title">Déployer une instance EC2 Linux pour Oracle via la console EC2</block>
  <block id="03d6d2463e27b63c2d7f7ad0e62697af" category="paragraph">Si vous êtes nouveau sur AWS, vous devez d’abord configurer un environnement AWS.  L'onglet de documentation sur la page de destination du site Web AWS fournit des liens d'instructions EC2 sur la façon de déployer une instance Linux EC2 qui peut être utilisée pour héberger votre base de données Oracle via la console AWS EC2.  La section suivante est un résumé de ces étapes.  Pour plus de détails, consultez la documentation spécifique à AWS EC2.</block>
  <block id="e1fc23220db46fe659667702f62b75e4" category="section-title">Configuration de votre environnement AWS EC2</block>
  <block id="6d0669826a2bd6e9eb35ea7e89cbe3f4" category="paragraph">Vous devez créer un compte AWS pour provisionner les ressources nécessaires à l'exécution de votre environnement Oracle sur le service EC2 et FSx.  La documentation AWS suivante fournit les détails nécessaires :</block>
  <block id="2966cbe914210fb4f4a3e5fe6adf4762" category="inline-link-macro">Configurer pour utiliser Amazon EC2</block>
  <block id="1e4a01fe43fb3542c08649e20440f5f1" category="list-text"><block ref="1e4a01fe43fb3542c08649e20440f5f1" category="inline-link-macro-rx"></block></block>
  <block id="df6ca3590d3bec198846463f0ef1c6a8" category="paragraph">Thèmes clés :</block>
  <block id="74122bb32fc969b565a8b132d4178581" category="list-text">Inscrivez-vous à AWS.</block>
  <block id="fe536eddec5cc1d661347011844ba132" category="list-text">Créer une paire de clés.</block>
  <block id="6582688edf89986f408a52095794f65b" category="list-text">Créer un groupe de sécurité.</block>
  <block id="c78747962ae12e635749aa6b08a4da09" category="section-title">Activation de plusieurs zones de disponibilité dans les attributs de compte AWS</block>
  <block id="2d5ade6857f59cf6d198344d5049da40" category="paragraph">Pour une configuration de haute disponibilité Oracle telle que démontrée dans le diagramme d'architecture, vous devez activer au moins quatre zones de disponibilité dans une région.  Les zones de disponibilité multiples peuvent également être situées dans différentes régions pour répondre aux distances requises pour la reprise après sinistre.</block>
  <block id="010f8446050c9f5cc916e861a6861e35" category="paragraph"><block ref="010f8446050c9f5cc916e861a6861e35" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8faa9e48d0380a023114890a62861d0f" category="section-title">Création et connexion à une instance EC2 pour l'hébergement d'une base de données Oracle</block>
  <block id="82499151e189f9313aa1450e912f4ffd" category="inline-link-macro">Démarrer avec les instances Linux Amazon EC2</block>
  <block id="822fd31d54c32c4886e9010d12a8dce7" category="paragraph">Voir le tutoriel<block ref="6d0a9d65d170226042c573685041d5e9" category="inline-link-macro-rx"></block> pour les procédures de déploiement étape par étape et les meilleures pratiques.</block>
  <block id="a15c0d1773407cc677a49f4cc169a63c" category="list-text">Aperçu.</block>
  <block id="4d99c712f714ff14ae3b251667dda4b2" category="list-text">Prérequis.</block>
  <block id="67b035efef4b92412bb7a8a903121da6" category="list-text">Étape 1 : Lancer une instance.</block>
  <block id="6640566c783363c8a66fe226c2a7227b" category="list-text">Étape 2 : connectez-vous à votre instance.</block>
  <block id="c271b00c470f8a1fb17c05dc6092d9af" category="list-text">Étape 3 : Nettoyez votre instance.</block>
  <block id="9e0cd4f11314aeaa31fce7e3f5960c4c" category="paragraph">Les captures d’écran suivantes illustrent le déploiement d’une instance Linux de type m5 avec la console EC2 pour exécuter Oracle.</block>
  <block id="993b6250c7c69b01670a8165c0cf949d" category="list-text">Depuis le tableau de bord EC2, cliquez sur le bouton jaune Lancer l’instance pour démarrer le workflow de déploiement de l’instance EC2.</block>
  <block id="487600275aef32af357e889fdebd2971" category="paragraph"><block ref="487600275aef32af357e889fdebd2971" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71a4046454ceb8a1793ee0cfa14dc581" category="list-text">À l'étape 1, sélectionnez « Red Hat Enterprise Linux 8 (HVM), type de volume SSD - ami-0b0af3577fe5e3532 (64 bits x86) / ami-01fc429821bf1f4b4 (64 bits Arm) ».</block>
  <block id="7c7af581ca65af89c7f24a9c1416accb" category="paragraph"><block ref="7c7af581ca65af89c7f24a9c1416accb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5956dcc5f6331fe980094b6ddba4650c" category="list-text">À l’étape 2, sélectionnez un type d’instance m5 avec l’allocation de CPU et de mémoire appropriée en fonction de la charge de travail de votre base de données Oracle.  Cliquez sur « Suivant : Configurer les détails de l’instance ».</block>
  <block id="5bbc5ed1fad6afc74d5ac877b225c875" category="paragraph"><block ref="5bbc5ed1fad6afc74d5ac877b225c875" category="inline-image-macro-rx" type="image"></block></block>
  <block id="302a3b9b8b1d7dfc842dbfcaa5468b1a" category="list-text">À l’étape 3, choisissez le VPC et le sous-réseau où l’instance doit être placée et activez l’attribution d’adresse IP publique.  Cliquez sur « Suivant : Ajouter du stockage ».</block>
  <block id="297569626080a05a220b1194519254ff" category="paragraph"><block ref="297569626080a05a220b1194519254ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e421be5ecc966b1d156d7f0a6f81716a" category="list-text">À l’étape 4, allouez suffisamment d’espace pour le disque racine.  Vous aurez peut-être besoin d’espace pour ajouter un échange.  Par défaut, l'instance EC2 attribue un espace de swap nul, ce qui n'est pas optimal pour l'exécution d'Oracle.</block>
  <block id="63199e56bc739d7bc8cecb87386668d5" category="paragraph"><block ref="63199e56bc739d7bc8cecb87386668d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="843f8ce7ab50f800b312d3d109724de6" category="list-text">À l’étape 5, ajoutez une balise pour l’identification de l’instance si nécessaire.</block>
  <block id="c6aafc002439963833711985dfda9c00" category="paragraph"><block ref="c6aafc002439963833711985dfda9c00" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3ab3dbfdf3bf87e86423bcf042be111" category="list-text">À l’étape 6, sélectionnez un groupe de sécurité existant ou créez-en un nouveau avec la politique entrante et sortante souhaitée pour l’instance.</block>
  <block id="adcd1dcd9aecdedf49ea50097467c02a" category="paragraph"><block ref="adcd1dcd9aecdedf49ea50097467c02a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6232d41ab5791353e400740b1c677c4b" category="list-text">À l’étape 7, examinez le résumé de la configuration de l’instance et cliquez sur Lancer pour démarrer le déploiement de l’instance.  Vous êtes invité à créer une paire de clés ou à sélectionner une paire de clés pour accéder à l'instance.</block>
  <block id="639a1de4031e700b9aee175ebb83caf1" category="paragraph"><block ref="6774e9a88fd13c01709fe25a3c92814a" category="inline-image-macro-rx" type="image"></block> <block ref="589b74f6f175ab8a565dd91b992c7eb7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="640d800543e4acd4be5582f719fe45e6" category="list-text">Connectez-vous à l’instance EC2 à l’aide d’une paire de clés SSH.  Apportez les modifications appropriées au nom de votre clé et à l’adresse IP de votre instance.</block>
  <block id="69321a8301f0cb7557529f92163852a6" category="paragraph">Vous devez créer deux instances EC2 en tant que serveurs Oracle principal et de secours dans leur zone de disponibilité désignée, comme illustré dans le diagramme d'architecture.</block>
  <block id="dd75d046636296f5f9f77e174e142dbf" category="section-title">Provisionner les systèmes de fichiers FSx ONTAP pour le stockage de bases de données Oracle</block>
  <block id="0db17ea458fe522da32ff4ad7e5b2f8b" category="paragraph">Le déploiement d’instance EC2 alloue un volume racine EBS pour le système d’exploitation.  Les systèmes de fichiers FSx ONTAP fournissent des volumes de stockage de base de données Oracle, y compris les volumes binaires, de données et de journaux Oracle.  Les volumes NFS de stockage FSx peuvent être provisionnés à partir de la console AWS FSx ou à partir de l'installation Oracle et de l'automatisation de la configuration qui alloue les volumes selon la configuration de l'utilisateur dans un fichier de paramètres d'automatisation.</block>
  <block id="b188d29a8b066345b4c65142012429c9" category="inline-link">Gestion des systèmes de fichiers FSx ONTAP</block>
  <block id="6072bb9ae8feccf25912ddfb26f93d61" category="paragraph">Référé à cette documentation<block ref="62270b9b7327b2bf1e37efc2c47824db" category="inline-link-rx"></block> pour créer des systèmes de fichiers FSx ONTAP .</block>
  <block id="f992b6bed702bc01496187fcaec0b8c6" category="paragraph">Considérations clés :</block>
  <block id="c6d0abeaa6d014ec6632e6b8493487d2" category="list-text">Capacité de stockage SSD.  Minimum 1 024 Gio, maximum 192 Tio.</block>
  <block id="2b410cef067f8cb6a53d05ad2271439b" category="list-text">IOPS SSD provisionnés.  En fonction des exigences de charge de travail, un maximum de 80 000 IOPS SSD par système de fichiers.</block>
  <block id="3ab61d0f90da3f61b5741ceb5eb191cc" category="list-text">Capacité de débit.</block>
  <block id="94412c99e275ca9b650dc655a6e69119" category="list-text">Définir le mot de passe administrateur fsxadmin/vsadmin.  Requis pour l'automatisation de la configuration FSx.</block>
  <block id="c9de3d23d86cd04ff4ebf9b1458d70c4" category="list-text">Sauvegarde et maintenance.  Désactivez les sauvegardes quotidiennes automatiques ; la sauvegarde du stockage de la base de données est exécutée via la planification SnapCenter .</block>
  <block id="b2ad37d85471ba4bcaf2c2141b1a576d" category="list-text">Récupérez l'adresse IP de gestion SVM ainsi que les adresses d'accès spécifiques au protocole à partir de la page des détails SVM.  Requis pour l'automatisation de la configuration FSx.</block>
  <block id="55d51224def42d640a0be132106582ff" category="paragraph"><block ref="55d51224def42d640a0be132106582ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15d09dd6ced339d4022eb28264e99543" category="paragraph">Consultez les procédures étape par étape suivantes pour configurer un cluster HA FSx principal ou de secours.</block>
  <block id="b2232ae7fcc8b0c89d7c5f62a079a0f9" category="list-text">Depuis la console FSx, cliquez sur Créer un système de fichiers pour démarrer le flux de travail de provisionnement FSx.</block>
  <block id="250a7f2c6f37c1b8742c2f9c80b1ecfa" category="paragraph"><block ref="250a7f2c6f37c1b8742c2f9c80b1ecfa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9aede127a30ce55a2d9e4f2cb7042ae" category="list-text">Sélectionnez Amazon FSx ONTAP.  Cliquez ensuite sur Suivant.</block>
  <block id="6ba8ef4ba844b7ada7afd1a1553edce6" category="paragraph"><block ref="6ba8ef4ba844b7ada7afd1a1553edce6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6a4912f49d35e15fbe2d9881db397feb" category="list-text">Sélectionnez Création standard et, dans Détails du système de fichiers, nommez votre système de fichiers, Multi-AZ HA.  En fonction de la charge de travail de votre base de données, choisissez des IOPS automatiques ou provisionnées par l'utilisateur jusqu'à 80 000 IOPS SSD.  Le stockage FSx est livré avec jusqu'à 2 TiB de mise en cache NVMe au niveau du backend, ce qui peut fournir des IOPS mesurées encore plus élevées.</block>
  <block id="d62f0314bf0167fb43dd9ddcd752726e" category="paragraph"><block ref="d62f0314bf0167fb43dd9ddcd752726e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="463daf4dcf56c33aa1c738fb16d15a27" category="list-text">Dans la section Réseau et sécurité, sélectionnez le VPC, le groupe de sécurité et les sous-réseaux.  Ceux-ci doivent être créés avant le déploiement de FSx.  En fonction du rôle du cluster FSx (principal ou de secours), placez les nœuds de stockage FSx dans les zones appropriées.</block>
  <block id="1a1c5cdc2bde8e0520c4dc4b02b3e292" category="paragraph"><block ref="1a1c5cdc2bde8e0520c4dc4b02b3e292" category="inline-image-macro-rx" type="image"></block></block>
  <block id="461a86bccdfc4b32cbc62af43ea97bb3" category="list-text">Dans la section Sécurité et chiffrement, acceptez la valeur par défaut et entrez le mot de passe fsxadmin.</block>
  <block id="aafb38759376e28459041f49b15ebd8d" category="paragraph"><block ref="aafb38759376e28459041f49b15ebd8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e500f789aeb2255be7988000eaff0e8" category="list-text">Entrez le nom SVM et le mot de passe vsadmin.</block>
  <block id="bc17f291805b3473ff6e4c6efaad8639" category="paragraph"><block ref="bc17f291805b3473ff6e4c6efaad8639" category="inline-image-macro-rx" type="image"></block></block>
  <block id="979fcc33806fd9594ae032fb4fe33c03" category="list-text">Laissez la configuration du volume vide ; vous n’avez pas besoin de créer de volume à ce stade.</block>
  <block id="f67e874b530937585c7a2fbf20e8d047" category="paragraph"><block ref="f67e874b530937585c7a2fbf20e8d047" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18c8eecfeb7f2ef5acbe5fe3fc1eb398" category="list-text">Consultez la page Résumé et cliquez sur Créer un système de fichiers pour terminer la mise à disposition du système de fichiers FSx.</block>
  <block id="d7c2040c9b4298bee8d62c101cd5a0ec" category="paragraph"><block ref="d7c2040c9b4298bee8d62c101cd5a0ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="edbcb61873336784ce88a841052fa45e" category="section-title">Provisionnement de volumes de base de données pour la base de données Oracle</block>
  <block id="003fd66f6ee23f3e87e5a00abe37d156" category="inline-link-macro">Gestion des volumes FSx ONTAP – création d'un volume</block>
  <block id="c1740f1ff7568be214d03a87d85702ce" category="paragraph">Voir<block ref="3c4534b1959e09af227c8901c380f1ae" category="inline-link-macro-rx"></block> pour plus de détails.</block>
  <block id="ca3a40f13fd000ce8baf0adbf73ee561" category="list-text">Dimensionner les volumes de base de données de manière appropriée.</block>
  <block id="383e4b0acf358da05802b9571408fa27" category="list-text">Désactivation de la stratégie de hiérarchisation du pool de capacité pour la configuration des performances.</block>
  <block id="086994099a77453bffc426910b6c783b" category="list-text">Activation d'Oracle dNFS pour les volumes de stockage NFS.</block>
  <block id="814d7476ebeabfd3208ed0432cb5ea38" category="list-text">Configuration de multipath pour les volumes de stockage iSCSI.</block>
  <block id="398cf8d5f0d4c7da2b945809849b5105" category="section-title">Créer un volume de base de données à partir de la console FSx</block>
  <block id="6afbf36a53c717018bd3d99a6d735c98" category="paragraph">À partir de la console AWS FSx, vous pouvez créer trois volumes pour le stockage des fichiers de base de données Oracle : un pour le binaire Oracle, un pour les données Oracle et un pour le journal Oracle.  Assurez-vous que le nom du volume correspond au nom d'hôte Oracle (défini dans le fichier hosts de la boîte à outils d'automatisation) pour une identification correcte.  Dans cet exemple, nous utilisons db1 comme nom d'hôte Oracle EC2 au lieu d'un nom d'hôte basé sur une adresse IP classique pour une instance EC2.</block>
  <block id="a89d3ef473fd5bb4c5d761f42139781d" category="paragraph"><block ref="6632a3121206f73f9b2aa945d969e320" category="inline-image-macro-rx" type="image"></block> <block ref="807dd675c0484b13e292cf2ca8bfab28" category="inline-image-macro-rx" type="image"></block> <block ref="fa24877b03b6bac4112b0e2674054547" category="inline-image-macro-rx" type="image"></block></block>
  <block id="05980643a3cf9b987fd426669d474257" category="admonition">La création de LUN iSCSI n'est actuellement pas prise en charge par la console FSx.  Pour le déploiement des LUN iSCSI pour Oracle, les volumes et les LUN peuvent être créés à l'aide de l'automatisation pour ONTAP avec NetApp Automation Toolkit.</block>
  <block id="09ee5fa03999e48e0789df07dd602d40" category="section-title">Installer et configurer Oracle sur une instance EC2 avec des volumes de base de données FSx</block>
  <block id="9f92271be71e4bc6eb96033a9ca6d798" category="paragraph">L'équipe d'automatisation NetApp fournit un kit d'automatisation pour exécuter l'installation et la configuration d'Oracle sur les instances EC2 conformément aux meilleures pratiques.  La version actuelle du kit d'automatisation prend en charge Oracle 19c sur NFS avec le patch RU par défaut 19.8.  Le kit d'automatisation peut être facilement adapté à d'autres patchs RU si nécessaire.</block>
  <block id="61790d4e19b846282d97e8ceb58e84e0" category="section-title">Préparer un contrôleur Ansible pour exécuter l'automatisation</block>
  <block id="20f3b4bca246eb128d1c7a63ca954276" category="paragraph">Suivez les instructions dans la section «<block ref="9331131dd8a4a5b5cf5956c248324151" category="inline-xref-macro-rx"></block> " pour provisionner une petite instance Linux EC2 pour exécuter le contrôleur Ansible.  Plutôt que d'utiliser RedHat, Amazon Linux t2.large avec 2vCPU et 8G RAM devrait être suffisant.</block>
  <block id="6d42906c67a4432124b27f032f56e4dc" category="section-title">Récupérer la boîte à outils d'automatisation du déploiement NetApp Oracle</block>
  <block id="7beb3cf1c62df8d836bddc0d2b6a3e57" category="paragraph">Connectez-vous à l'instance du contrôleur EC2 Ansible provisionnée à l'étape 1 en tant qu'utilisateur ec2 et à partir du répertoire personnel ec2-user, exécutez la commande<block ref="aebfab4ae394171a00d2e86fff2ff38b" prefix=" " category="inline-code"></block> commande pour cloner une copie du code d'automatisation.</block>
  <block id="49130c144c12238cfeca4888e29fbef6" category="section-title">Exécuter un déploiement automatisé d'Oracle 19c à l'aide de la boîte à outils d'automatisation</block>
  <block id="2d643b6077dec7f26021f6390dc51dc1" category="paragraph">Voir ces instructions détaillées<block ref="5e50dfea2ac36766ecf96728ad279b3a" category="inline-link-macro-rx"></block> pour déployer Oracle 19c avec l'automatisation CLI.  Il y a un petit changement dans la syntaxe de commande pour l'exécution du playbook car vous utilisez une paire de clés SSH au lieu d'un mot de passe pour l'authentification de l'accès à l'hôte.  La liste suivante est un résumé de haut niveau :</block>
  <block id="dc8e3956f25fc431225feacc016616b5" category="list-text">Par défaut, une instance EC2 utilise une paire de clés SSH pour l’authentification d’accès.  À partir des répertoires racines d'automatisation du contrôleur Ansible<block ref="4a1bfa90833e8fe6c82ca6f61f31d147" prefix=" " category="inline-code"></block> , et<block ref="a1d1fcb426260f0fdb7febffa690e21c" prefix=" " category="inline-code"></block> , faire une copie de la clé SSH<block ref="956c187b3d0c7dcff5b113900e032874" prefix=" " category="inline-code"></block> pour l'hôte Oracle déployé à l'étape «<block ref="9331131dd8a4a5b5cf5956c248324151" category="inline-xref-macro-rx"></block> ."</block>
  <block id="9391c5feaa671121befe114951f00442" category="list-text">Connectez-vous à l'hôte de la base de données de l'instance EC2 en tant qu'utilisateur ec2 et installez la bibliothèque python3.</block>
  <block id="85e9698f3736149506cd49ab88086364" category="list-text">Créez un espace d’échange de 16 Go à partir du lecteur de disque racine.  Par défaut, une instance EC2 crée un espace de swap nul.  Suivez cette documentation AWS :<block ref="53c9867a131506eab4afe1a1678bb974" category="inline-link-macro-rx"></block> .</block>
  <block id="be82130abf6bfa8956a5648b39ad4aa8" category="list-text">Retour au contrôleur Ansible<block ref="e97a9e3bee0cbfb89ba75f3695725fba" prefix="(" category="inline-code"></block> ), et exécutez le playbook de préclonage avec les exigences appropriées et<block ref="7ee7ce51db32cbf806a0c21c648f4c2b" prefix=" " category="inline-code"></block> balises.</block>
  <block id="83e233b8fca25fb162266daf344246e4" category="list-text">Passer au<block ref="127b3ddd6eac38dd05a00b88b9348ff5" prefix=" " category="inline-code"></block> répertoire, lisez le fichier README et remplissez le fichier global<block ref="5257c59f933f1208afadab7dd8ef3fe6" prefix=" " category="inline-code"></block> fichier avec les paramètres globaux pertinents.</block>
  <block id="aed4b8eabfef5056093412d8609b5b9a" category="list-text">Remplir le<block ref="caa6779553864dba00727ae27752b182" prefix=" " category="inline-code"></block> fichier avec les paramètres pertinents dans le<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> annuaire.</block>
  <block id="4b8d8efa08e1060a3db2c7693c4de645" category="list-text">Exécutez le playbook pour Linux et appuyez sur Entrée lorsque vous êtes invité à saisir le mot de passe vsadmin.</block>
  <block id="4d552f393608513441eb151998098b4a" category="list-text">Exécutez le playbook pour Oracle et appuyez sur Entrée lorsque vous êtes invité à saisir le mot de passe vsadmin.</block>
  <block id="af392a54b9a2464fdd334372589f1a39" category="paragraph">Modifiez le bit d'autorisation sur le fichier de clé SSH à 400 si nécessaire.  Changer l'hôte Oracle<block ref="e15cba2a55d1c830968665125de5abf6" prefix="(" category="inline-code"></block> dans le<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> fichier) Adresse IP vers l'adresse publique de votre instance EC2.</block>
  <block id="ac52b3f8d77eb6814ddf5c761b019c22" category="section-title">Configuration de SnapMirror entre le cluster FSx HA principal et le cluster FSx HA de secours</block>
  <block id="3798adb983c6ffabbcf459359d5ddd4c" category="paragraph">Pour une haute disponibilité et une reprise après sinistre, vous pouvez configurer la réplication SnapMirror entre le cluster de stockage FSx principal et de secours.  Contrairement à d’autres services de stockage cloud, FSx permet à un utilisateur de contrôler et de gérer la réplication du stockage à la fréquence et au débit de réplication souhaités.  Il permet également aux utilisateurs de tester HA/DR sans aucun effet sur la disponibilité.</block>
  <block id="5414f0571ab88c4269ee945ce4291f65" category="paragraph">Les étapes suivantes montrent comment configurer la réplication entre un cluster de stockage FSx principal et de secours.</block>
  <block id="006c42f009ead3331b1f69ac1979609d" category="list-text">Configurer l'appairage des clusters principaux et de secours.  Connectez-vous au cluster principal en tant qu’utilisateur fsxadmin et exécutez la commande suivante.  Ce processus de création réciproque exécute la commande de création sur le cluster principal et le cluster de secours.  Remplacer<block ref="33c864f25bec561bad1458ab06ec3177" prefix=" " category="inline-code"></block> avec le nom approprié à votre environnement.</block>
  <block id="c725d46c724a573eb994f08a1f309eec" category="list-text">Configurez le peering vServer entre le cluster principal et le cluster de secours.  Connectez-vous au cluster principal en tant qu’utilisateur vsadmin et exécutez la commande suivante.  Remplacer<block ref="f826cd2f4a01fe594ea3f06fc8e9a764" prefix=" " category="inline-code"></block> ,<block ref="73483be5a30a2604d22183209c74149e" prefix=" " category="inline-code"></block> ,<block ref="33c864f25bec561bad1458ab06ec3177" prefix=" " category="inline-code"></block> avec les noms appropriés à votre environnement.</block>
  <block id="91ba2ff3a22b9830c626441ad69c84ce" category="list-text">Vérifiez que les peerings du cluster et du serveur virtuel sont correctement configurés.</block>
  <block id="3e7d69bad8d7a20978d112dacf7e3d9a" category="paragraph"><block ref="3e7d69bad8d7a20978d112dacf7e3d9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f4cb6743e20f6b87b419d9386d784acc" category="list-text">Créez des volumes NFS cibles sur le cluster FSx de secours pour chaque volume source sur le cluster FSx principal.  Remplacez le nom du volume en fonction de votre environnement.</block>
  <block id="8f65518a43c3a1ba084510438fa2d7d3" category="list-text">Vous pouvez également créer des volumes iSCSI et des LUN pour le binaire Oracle, les données Oracle et le journal Oracle si le protocole iSCSI est utilisé pour l'accès aux données.  Laissez environ 10 % d’espace libre dans les volumes pour les instantanés.</block>
  <block id="43aea99cd4b66a7a2f8efdc090e3a5ad" category="paragraph">vol create -volume dr_db1_log -aggregate aggr1 -size 250G -state online -policy default -unix-permissions ---rwxr-xr-x -type RW</block>
  <block id="18274474e00c13f064a0b4df0b516185" category="list-text">Pour les LUN iSCSI, créez un mappage pour l'initiateur d'hôte Oracle pour chaque LUN, en utilisant le LUN binaire comme exemple.  Remplacez le groupe igroup par un nom approprié pour votre environnement et incrémentez le lun-id pour chaque LUN supplémentaire.</block>
  <block id="0c2c0f6ddcbbbf39434893162abce545" category="list-text">Créez une relation SnapMirror entre les volumes de base de données principal et de secours.  Remplacez le nom SVM approprié pour votre environnement.</block>
  <block id="a25539ee33148e6d4880b87e1378cafe" category="paragraph">Cette configuration SnapMirror peut être automatisée avec un kit d’outils d’automatisation NetApp pour les volumes de base de données NFS.  La boîte à outils est disponible en téléchargement sur le site GitHub public de NetApp .</block>
  <block id="f9f129d1122f9209f8f27fa07a5ee4b2" category="paragraph">Lisez attentivement les instructions README avant de tenter la configuration et le test de basculement.</block>
  <block id="03b2167f2383aa796f361c5c1c689a49" category="admonition">La réplication du binaire Oracle du cluster principal vers un cluster de secours peut avoir des implications sur la licence Oracle.  Contactez votre représentant de licence Oracle pour obtenir des éclaircissements.  L’alternative consiste à installer et configurer Oracle au moment de la récupération et du basculement.</block>
  <block id="fa697481d9c5655bd57d6ee69f0e9f07" category="section-title">Déploiement de SnapCenter</block>
  <block id="3f4b23cd1391b97e8a33f3973471103b" category="section-title">Installation de SnapCenter</block>
  <block id="4c88778182d61374292e3c4ad43ae50e" category="inline-link-macro">Installation du serveur SnapCenter</block>
  <block id="282e73196d7c89bb5ec3820592ecee7c" category="paragraph">Suivre<block ref="9cac1dd5d049b670d2cd847d9e42d30c" category="inline-link-macro-rx"></block> pour installer le serveur SnapCenter .  Cette documentation explique comment installer un serveur SnapCenter autonome.  Une version SaaS de SnapCenter est en phase de test bêta et pourrait être disponible prochainement.  Vérifiez la disponibilité auprès de votre représentant NetApp si nécessaire.</block>
  <block id="a4c2182f79a7834db47fccf9c264332d" category="section-title">Configurer le plugin SnapCenter pour l'hôte Oracle EC2</block>
  <block id="8d0edf4e55e8bc1a96862466762dcdd6" category="list-text">Après l’installation automatisée de SnapCenter , connectez-vous à SnapCenter en tant qu’utilisateur administrateur pour l’hôte Windows sur lequel le serveur SnapCenter est installé.</block>
  <block id="8f668537cbf52258e84a7a6ce939a8ef" category="paragraph"><block ref="8f668537cbf52258e84a7a6ce939a8ef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4af2386526da94f1d101d825c0a623e0" category="list-text">Dans le menu de gauche, cliquez sur Paramètres, puis sur Informations d’identification et Nouveau pour ajouter les informations d’identification ec2-user pour l’installation du plug-in SnapCenter .</block>
  <block id="d6076dcc82bc4f161579194baa45edfb" category="paragraph"><block ref="d6076dcc82bc4f161579194baa45edfb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37fc637fcb7f9b2e4336350dd7d4775e" category="list-text">Réinitialisez le mot de passe ec2-user et activez l'authentification SSH par mot de passe en modifiant le<block ref="07b421e5f5e0300b1a0fd6cc22745306" prefix=" " category="inline-code"></block> fichier sur l'hôte de l'instance EC2.</block>
  <block id="c1e0ecc2d0f187a040af9ef1e783314d" category="list-text">Vérifiez que la case à cocher « Utiliser les privilèges sudo » est sélectionnée.  Vous venez de réinitialiser le mot de passe ec2-user à l'étape précédente.</block>
  <block id="0ff3f2bdc438a09baa2923bff3f95132" category="paragraph"><block ref="0ff3f2bdc438a09baa2923bff3f95132" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3326cea52418b74168243fb56340785" category="list-text">Ajoutez le nom du serveur SnapCenter et l’adresse IP au fichier hôte de l’instance EC2 pour la résolution de nom.</block>
  <block id="59c8e627359bc3d4ce92126cbb1356cc" category="list-text">Sur l'hôte Windows du serveur SnapCenter , ajoutez l'adresse IP de l'hôte de l'instance EC2 au fichier hôte Windows<block ref="803976de87f6862821bd3c4d94e0ff2b" prefix=" " category="inline-code"></block> .</block>
  <block id="4f91fe76ef9595ef98ee3b0c06a43160" category="list-text">Dans le menu de gauche, sélectionnez Hôtes &gt; Hôtes gérés, puis cliquez sur Ajouter pour ajouter l'hôte d'instance EC2 à SnapCenter.</block>
  <block id="ff5d8f256e74373151ee7a2100cb0bf2" category="paragraph"><block ref="ff5d8f256e74373151ee7a2100cb0bf2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb20727c22e9cab381fd0cd7e817ab85" category="paragraph">Vérifiez la base de données Oracle et, avant de soumettre, cliquez sur Plus d'options.</block>
  <block id="4eb361a16d33899c0fc3b10c2943775d" category="paragraph"><block ref="4eb361a16d33899c0fc3b10c2943775d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43e249b54031e8a30915659857356cab" category="paragraph">Cochez la case Ignorer les vérifications de préinstallation.  Confirmez l’ignorance des vérifications de préinstallation, puis cliquez sur Soumettre après l’enregistrement.</block>
  <block id="34adef73c610d7f47f7516fe148485bc" category="paragraph"><block ref="34adef73c610d7f47f7516fe148485bc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d66b31e61ce12ed5022484588882f5f" category="paragraph">Vous êtes invité à confirmer l'empreinte digitale, puis à cliquer sur Confirmer et soumettre.</block>
  <block id="3918d470baf0da4baa81d1e4a923c0b4" category="paragraph"><block ref="3918d470baf0da4baa81d1e4a923c0b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99177ab734274d9f5f703761e4b2deef" category="paragraph">Après une configuration réussie du plug-in, l'état général de l'hôte géré s'affiche comme étant en cours d'exécution.</block>
  <block id="1237480cd3e6dbf50504959514d44334" category="paragraph"><block ref="1237480cd3e6dbf50504959514d44334" category="inline-image-macro-rx" type="image"></block></block>
  <block id="112fdeb0eaa93f627cf0effc06f49c76" category="section-title">Configurer la politique de sauvegarde pour la base de données Oracle</block>
  <block id="2ee003954aaf76b1b587794f035a1c37" category="paragraph">Consultez cette section<block ref="2865fb6e58969a69bf88ca19f541e1ed" category="inline-link-macro-rx"></block> pour plus de détails sur la configuration de la politique de sauvegarde de la base de données Oracle.</block>
  <block id="6bfb2a8edb5f9cfb06059a588dda9cc0" category="paragraph">En règle générale, vous devez créer une politique pour la sauvegarde instantanée complète de la base de données Oracle et une politique pour la sauvegarde instantanée du journal d'archive Oracle uniquement.</block>
  <block id="708ae75a87a6997af6838bc2e5149a28" category="admonition">Vous pouvez activer l'élagage du journal d'archive Oracle dans la politique de sauvegarde pour contrôler l'espace d'archivage du journal.  Cochez « Mettre à jour SnapMirror après avoir créé une copie Snapshot locale » dans « Sélectionner l'option de réplication secondaire » car vous devez répliquer vers un emplacement de secours pour HA ou DR.</block>
  <block id="acea2698961ae21a708203b9a9b86b94" category="section-title">Configurer la sauvegarde et la planification de la base de données Oracle</block>
  <block id="56f3e355b3a4359c9a0808d978ca484c" category="paragraph">La sauvegarde de la base de données dans SnapCenter est configurable par l'utilisateur et peut être configurée individuellement ou en tant que groupe dans un groupe de ressources.  L'intervalle de sauvegarde dépend des objectifs RTO et RPO.  NetApp vous recommande d'exécuter une sauvegarde complète de la base de données toutes les quelques heures et d'archiver la sauvegarde du journal à une fréquence plus élevée, par exemple 10 à 15 minutes, pour une récupération rapide.</block>
  <block id="806fc242f41a4e085a01998d89fe8307" category="paragraph">Reportez-vous à la section Oracle de<block ref="aeb62962db52b5cda2e30513aa3f3cdb" category="inline-link-macro-rx"></block> pour un processus détaillé étape par étape pour la mise en œuvre de la politique de sauvegarde créée dans la section<block ref="f2afcb5a9b8ad2d8fe33e91cb4edb80f" category="inline-xref-macro-rx"></block> et pour la planification des tâches de sauvegarde.</block>
  <block id="b47b1d2e2c373fd6c07f22a130e90a41" category="paragraph">L'image suivante fournit un exemple des groupes de ressources configurés pour sauvegarder une base de données Oracle.</block>
  <block id="b28d5da0b6799981e7a13e679afeaa8d" category="paragraph"><block ref="b28d5da0b6799981e7a13e679afeaa8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a7ba809855186bf7ed82cff9d5e1cdf" category="summary">La solution fournit une vue d'ensemble et des détails sur le déploiement et la protection d'Oracle dans VMware Cloud dans AWS avec FSx ONTAP comme stockage de base de données principal et la base de données Oracle configurée dans ReStart autonome à l'aide d'asm comme gestionnaire de volumes.</block>
  <block id="8c21b1cb48bb75d39598b2efc8c1246d" category="doc">TR-4979 : Oracle simplifié et autogéré dans VMware Cloud sur AWS avec FSx ONTAP monté en invité</block>
  <block id="a04492f0064c628fae333a55f7d89e9a" category="paragraph">Cette solution fournit une vue d'ensemble et des détails sur le déploiement et la protection d'Oracle dans VMware Cloud dans AWS avec FSx ONTAP comme stockage de base de données principal et la base de données Oracle configurée dans ReStart autonome à l'aide d'asm comme gestionnaire de volumes.</block>
  <block id="7264a2b4e10eabab45caef5d892ac1a8" category="paragraph">Les entreprises utilisent Oracle sur VMware dans des centres de données privés depuis des décennies.  VMware Cloud (VMC) sur AWS fournit une solution simple pour intégrer le logiciel Software-Defined Data Center (SDDC) de classe entreprise de VMware à l'infrastructure dédiée, élastique et bare-metal du cloud AWS.  AWS FSx ONTAP offre un stockage premium au SDDC VMC et une structure de données qui permet aux clients d'exécuter des applications critiques telles qu'Oracle dans des environnements de cloud privé, public et hybride basés sur vSphere, avec un accès optimisé aux services AWS.  Qu'il s'agisse d'une charge de travail Oracle existante ou nouvelle, VMC sur AWS fournit un environnement Oracle familier, simplifié et autogéré sur VMware avec tous les avantages du cloud AWS tout en déléguant toute la gestion et l'optimisation de la plate-forme à VMware.</block>
  <block id="e73bc10aceb8a9e7c4ac45f0d1d0da5b" category="paragraph">Cette documentation démontre le déploiement et la protection d'une base de données Oracle dans un environnement VMC avec Amazon FSx ONTAP comme stockage de base de données principal.  La base de données Oracle peut être déployée sur un stockage VMC sur FSx en tant que LUN montés directement sur l'invité VM ou disques de banque de données VMware VMDK montés sur NFS.  Ce rapport technique se concentre sur le déploiement de la base de données Oracle en tant que stockage FSx monté directement sur l'invité sur les machines virtuelles du cluster VMC avec le protocole iSCSI et Oracle ASM.  Nous démontrons également comment utiliser l'outil d'interface utilisateur NetApp SnapCenter pour sauvegarder, restaurer et cloner une base de données Oracle pour le développement/test ou d'autres cas d'utilisation pour un fonctionnement de base de données efficace en termes de stockage dans le VMC sur AWS.</block>
  <block id="1bcbe40dab06a9681d7e0fcf5e561941" category="list-text">Déploiement de base de données Oracle dans VMC sur AWS avec Amazon FSx ONTAP comme stockage de base de données principal</block>
  <block id="8652360c0a7d6cf650f303d3611a363c" category="list-text">Sauvegarde et restauration de bases de données Oracle dans VMC sur AWS à l'aide de l'outil NetApp SnapCenter</block>
  <block id="cf30ea590ca185afdd551e920e4fade2" category="list-text">Clonage de base de données Oracle pour le développement/test ou d'autres cas d'utilisation dans VMC sur AWS à l'aide de l'outil NetApp SnapCenter</block>
  <block id="ef8cc3b3b7c4616678cc6819452f021a" category="list-text">Un administrateur de base de données souhaitant déployer Oracle dans VMC sur AWS avec Amazon FSx ONTAP</block>
  <block id="796c3d4a6179f628784371e4fb7fa9d9" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle dans VMC sur le cloud AWS</block>
  <block id="cb94ba9e822edf8670a9aedebc0852c1" category="list-text">Un administrateur de stockage souhaitant déployer et gérer une base de données Oracle déployée sur VMC sur AWS avec Amazon FSx ONTAP</block>
  <block id="b2777eda52c529f2b03fa9eced1c9680" category="list-text">Un propriétaire d'application qui souhaite mettre en place une base de données Oracle dans VMC sur le cloud AWS</block>
  <block id="43b43702bc731c576655a9cbe9d3cb20" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement de laboratoire avec VMC sur AWS qui pourrait ne pas correspondre à l'environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="f517d0b17cd7ff6e33d06962dfbfea41" category="paragraph"><block ref="f517d0b17cd7ff6e33d06962dfbfea41" category="inline-image-macro-rx" type="image"></block></block>
  <block id="968ee2170dde4e5744b413462ee41e35" category="cell">Un cluster FSx ONTAP HA dans le même VPC et la même zone de disponibilité que VMC</block>
  <block id="a19ad08a54b29b409555bf1681f098ee" category="cell">Cluster SDDC VMC</block>
  <block id="cad01e8ce0c8a902e41beab182a6fe81" category="cell">Processeur Amazon EC2 i3.metal à nœud unique/Intel Xeon E5-2686, 36 cœurs/512 Go de RAM</block>
  <block id="392bcaf841ff67a89aefe2473cff840b" category="cell">Stockage vSAN de 10,37 To</block>
  <block id="7f65285e967e5d62effe7b87198351bc" category="cell">BlueXP backup and recovery pour machines virtuelles</block>
  <block id="2d2a0d505d952b5fcde17cab075157a3" category="cell">Version 1.0</block>
  <block id="af6552ad45cff98ac3271a6c92ff6d19" category="cell">Déployé en tant que VM de plug-in vSphere ova</block>
  <block id="8887a9a417a1629326acdb917d224337" category="cell">VMware vSphere</block>
  <block id="6644cd5d665b50522c19c606bd2b1bde" category="cell">Version 8.0.1.00300</block>
  <block id="f7c55f54e2022628f07d7e62a55eec78" category="section-title">Configuration de la base de données Oracle dans VMC sur AWS</block>
  <block id="84e8b41cc4a43202bd012704510bd6b6" category="cell">cdb1(cdb1_pdb1,cdb1_pdb2,cdb1_pdb3)</block>
  <block id="f1566e01e42cd3da5d95437ef837891d" category="cell">Banque de données VMDK sur FSx ONTAP</block>
  <block id="3e17b19d4466b08c46121ab170ec8b1d" category="cell">cdb2(cdb2_pdb)</block>
  <block id="be2e4558b7d000c11b6d37e9ed3f40c8" category="cell">cdb3(cdb3_pdb1,cdb3_pdb2,cdb3_pdb3)</block>
  <block id="127cba96fa239f4b6e7834fe0c898c23" category="cell">FSx ONTAP monté directement par l'invité</block>
  <block id="9b7c2c624034bf5c8ad48b5e15db2c29" category="cell">cdb4(cdb4_pdb)</block>
  <block id="b2a0d74c269419c5b4c81fb601201eb3" category="list-text">*Connectivité FSx vers VMC.*  Lorsque vous déployez votre SDDC sur VMware Cloud on AWS, il est créé dans un compte AWS et un VPC dédié à votre organisation et géré par VMware.  Vous devez également connecter le SDDC à un compte AWS vous appartenant, appelé compte AWS client.  Cette connexion permet à votre SDDC d'accéder aux services AWS appartenant à votre compte client.  FSx ONTAP est un service AWS déployé sur votre compte client.  Une fois le SDDC VMC connecté à votre compte client, le stockage FSx est disponible pour les machines virtuelles dans le SDDC VMC pour un montage invité direct.</block>
  <block id="8a5846077434bed7f75867e0bbea031d" category="list-text">*Déploiement de clusters de stockage HA FSx sur une ou plusieurs zones.*  Dans ces tests et validations, nous avons déployé un cluster FSx HA dans une seule zone de disponibilité AWS.  NetApp recommande également de déployer FSx ONTAP et VMware Cloud sur AWS dans la même zone de disponibilité pour obtenir de meilleures performances et éviter les frais de transfert de données entre les zones de disponibilité.</block>
  <block id="8f7bae5e54635f314c4287e399c587b2" category="list-text">*Dimensionnement du cluster de stockage FSx.*  Un système de fichiers de stockage Amazon FSx ONTAP fournit jusqu'à 160 000 IOPS SSD brutes, jusqu'à 4 Gbit/s de débit et une capacité maximale de 192 TiB.  Cependant, vous pouvez dimensionner le cluster en termes d'IOPS provisionnés, de débit et de limite de stockage (minimum 1 024 Gio) en fonction de vos besoins réels au moment du déploiement.  La capacité peut être ajustée dynamiquement à la volée sans affecter la disponibilité de l'application.</block>
  <block id="be0ce32710988ccdcfd841a8218afb1a" category="list-text">*Disposition des données et des journaux Oracle.*  Dans nos tests et validations, nous avons déployé deux groupes de disques ASM pour les données et les journaux respectivement.  Dans le groupe de disques asm +DATA, nous avons provisionné quatre LUN dans un volume de données.  Dans le groupe de disques asm +LOGS, nous avons provisionné deux LUN dans un volume de journal.  En général, plusieurs LUN disposés dans un volume Amazon FSx ONTAP offrent de meilleures performances.</block>
  <block id="10fd1c6c748022c4eac81e0e7815e3c9" category="list-text">*Configuration iSCSI.*  Les machines virtuelles de base de données dans VMC SDDC se connectent au stockage FSx avec le protocole iSCSI.  Il est important d'évaluer les besoins en débit d'E/S de pointe de la base de données Oracle en analysant soigneusement le rapport Oracle AWR pour déterminer les besoins en débit du trafic d'application et iSCSI.  NetApp recommande également d'allouer quatre connexions iSCSI aux deux points de terminaison iSCSI FSx avec le multichemin correctement configuré.</block>
  <block id="5fa486195592a222708baf1d0d84b596" category="list-text">*Niveau de redondance Oracle ASM à utiliser pour chaque groupe de disques Oracle ASM que vous créez.*  Étant donné que FSx ONTAP reflète déjà le stockage au niveau du cluster FSx, vous devez utiliser la redondance externe, ce qui signifie que l'option ne permet pas à Oracle ASM de refléter le contenu du groupe de disques.</block>
  <block id="f02a238998ba2723f4626a5994f00464" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement d'Oracle 19c dans VMC sur AWS avec un stockage FSx ONTAP monté directement sur la machine virtuelle DB dans un seul nœud. Redémarrez la configuration avec Oracle ASM comme gestionnaire de volume de base de données.</block>
  <block id="4950c77542ffaf6f7c4295f413cd34bf" category="inline-link-macro">Premiers pas avec VMware Cloud sur AWS</block>
  <block id="3ebe73caee30b8d941aa7da02afb494d" category="list-text">Un centre de données défini par logiciel (SDDC) utilisant VMware Cloud sur AWS a été créé.  Pour obtenir des instructions détaillées sur la création d'un SDDC dans VMC, veuillez vous référer à la documentation VMware<block ref="8f2441f58c4fdf4959e58cb9afc7d8c0" category="inline-link-macro-rx"></block></block>
  <block id="8be484f960dc0192a878263a8ac3c41d" category="list-text">Un compte AWS a été configuré et les segments VPC et réseau nécessaires ont été créés dans votre compte AWS.  Le compte AWS est lié à votre SDDC VMC.</block>
  <block id="de6ab74344a23dabdc076c1be8775ed2" category="list-text">À partir de la console AWS EC2, déployez des clusters de stockage HA Amazon FSx ONTAP pour héberger les volumes de base de données Oracle.  Si vous n'êtes pas familier avec le déploiement du stockage FSx, consultez la documentation<block ref="818df05ad3ddda222f02b6b0e29bbd61" category="inline-link-macro-rx"></block> pour des instructions étape par étape.</block>
  <block id="c7480d38cc7c53dd45b4135ac24c2e50" category="list-text">L'étape ci-dessus peut être effectuée à l'aide de la boîte à outils d'automatisation Terraform suivante, qui crée une instance EC2 en tant qu'hôte de saut pour l'accès SDDC dans VMC via SSH et un système de fichiers FSx.  Lisez attentivement les instructions et modifiez les variables en fonction de votre environnement avant l’exécution.</block>
  <block id="ab75bf4284ff33ce0dff4b433e5cc77f" category="list-text">Créez des machines virtuelles dans VMware SDDC sur AWS pour héberger votre environnement Oracle à déployer dans VMC.  Dans notre démonstration, nous avons construit deux machines virtuelles Linux en tant que serveurs de base de données Oracle, un serveur Windows pour le serveur SnapCenter et un serveur Linux en option en tant que contrôleur Ansible pour l'installation ou la configuration automatisée d'Oracle si vous le souhaitez.  Voici un aperçu de l’environnement de laboratoire pour la validation de la solution.</block>
  <block id="0ca3188ea78762727379ffff3db432b9" category="inline-image-macro">Capture d'écran montrant l'environnement de test VMC SDDC.</block>
  <block id="a3cc6ff7f98780903b3eee75f4b050be" category="paragraph"><block ref="a3cc6ff7f98780903b3eee75f4b050be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c9fce41c09b59cd817f89c3d5828ccc" category="list-text">En option, NetApp fournit également plusieurs kits d’outils d’automatisation pour exécuter le déploiement et la configuration d’Oracle, le cas échéant.</block>
  <block id="d50fb02d2ad265b4dc8ea5d6a329f52c" category="admonition">Assurez-vous d'avoir alloué au moins 50 Go au volume racine d'Oracle VM afin de disposer de suffisamment d'espace pour préparer les fichiers d'installation d'Oracle.</block>
  <block id="7b73a23b90df52ef2a02ef00b5200773" category="section-title">Configuration du noyau de la machine virtuelle DB</block>
  <block id="9144d3423aec7a4a79da57105f06a978" category="paragraph">Une fois les prérequis configurés, connectez-vous à la machine virtuelle Oracle en tant qu'utilisateur administrateur via SSH et sudo en tant qu'utilisateur root pour configurer le noyau Linux pour l'installation d'Oracle.  Les fichiers d’installation Oracle peuvent être stockés dans un compartiment AWS S3 et transférés dans la machine virtuelle.</block>
  <block id="5fa261bdb9bdacac6f1656fc0febc8c5" category="paragraph">Voir la liste suivante des fichiers d'installation à indiquer dans<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> sur la VM DB.</block>
  <block id="3f09cc7324f8c1244747932eaf3dc3ce" category="list-text">Installer<block ref="c8dff58175a7ddfedf00d77953ef42dd" prefix=" " category="inline-code"></block> .</block>
  <block id="9b044ccb441d52e3c435f781b8c3488d" category="list-text">Installez sg3_utils.</block>
  <block id="6e92674c0bf485348ed8c0cc3f038b5f" category="list-text">Installez device-mapper-multipath.</block>
  <block id="5d1e157d7edb057e0d33d878529ef182" category="list-text">Ajoutez les lignes suivantes dans<block ref="08561da4afe8299be4016c92bfe83435" prefix=" " category="inline-code"></block> désactiver<block ref="d78ade61a64b6a278ed6278e7cfd91f3" prefix=" " category="inline-code"></block> après le redémarrage.</block>
  <block id="b9104e6156e755e4d417f51a5619e651" category="list-text">Ajoutez les lignes suivantes à<block ref="8b5eec1c5f63341b700263cc37cbae02" prefix=" " category="inline-code"></block> pour définir la limite du descripteur de fichier et la taille de la pile.</block>
  <block id="258d4c0ff1dcaaa41c50d5706b27500e" category="list-text">Ajoutez de l'espace d'échange à la machine virtuelle DB s'il n'y a pas d'espace d'échange configuré avec cette instruction :<block ref="53c9867a131506eab4afe1a1678bb974" category="inline-link-macro-rx"></block> La quantité exacte d'espace à ajouter dépend de la taille de la RAM jusqu'à 16 Go.</block>
  <block id="554a8b968dbbeb452b0d18a4f8d31077" category="list-text">Ajoutez les groupes asm pour l'utilisateur de gestion asm (oracle).</block>
  <block id="d979e8c8a06dddf190cfc1c00bdbb48b" category="list-text">Modifiez l'utilisateur Oracle pour ajouter des groupes ASM en tant que groupes secondaires (l'utilisateur Oracle doit avoir été créé après l'installation RPM de préinstallation d'Oracle).</block>
  <block id="25cbc423fe11e7d196553da546d785d1" category="list-text">Arrêtez et désactivez le pare-feu Linux s'il est actif.</block>
  <block id="1ee999f15fe9c423eb377e0090aad2bf" category="list-text">Activer sudo sans mot de passe pour l'utilisateur administrateur en supprimant le commentaire<block ref="1cb32f4855eb0834d64969fe24edd26d" prefix=" " category="inline-code"></block> ligne dans le fichier /etc/sudoers.  Modifiez l'autorisation du fichier pour effectuer la modification.</block>
  <block id="e05fc5da4fb01e91a42e8baab993c77f" category="section-title">Provisionner et mapper les LUN FSx ONTAP à la machine virtuelle de base de données</block>
  <block id="20767a279b850aa7f1bcaef1c31a5834" category="paragraph">Provisionnez trois volumes à partir de la ligne de commande en vous connectant au cluster FSx en tant qu'utilisateur fsxadmin via ssh et l'IP de gestion du cluster FSx.  Créez des LUN dans les volumes pour héberger les fichiers binaires, de données et de journaux de la base de données Oracle.</block>
  <block id="a4d17921e42af0c865a419c2383fc24e" category="list-text">Valider les volumes créés.</block>
  <block id="fe34db0a054599cd0a406e3502d0ef5c" category="paragraph">Sortie de la commande :</block>
  <block id="907146434a35238d633ca6753dd9c615" category="list-text">Mappez les LUN au groupe i créé ci-dessus.  Incrémentez l'ID LUN de manière séquentielle pour chaque LUN supplémentaire.</block>
  <block id="223bac04448ebaf5c7f63e60fcdb0498" category="section-title">Configuration du stockage de la machine virtuelle DB</block>
  <block id="a50ba1970162deb2e69ba6ac5cd43b03" category="paragraph">Maintenant, importez et configurez le stockage FSx ONTAP pour l'infrastructure de grille Oracle et l'installation de la base de données sur la machine virtuelle de base de données VMC.</block>
  <block id="25129372dcdad77bdf8f853444a467a1" category="list-text">Connectez-vous à la machine virtuelle DB via SSH en tant qu'utilisateur administrateur à l'aide de Putty à partir du serveur de saut Windows.</block>
  <block id="159ce09d3368d57420a832ccbf7ef199" category="list-text">Découvrez les points de terminaison iSCSI FSx à l'aide de l'adresse IP iSCSI SVM.  Passez à l'adresse du portail spécifique à votre environnement.</block>
  <block id="669ffba4950ab12059582a3c3fa10940" category="list-text">Connectez-vous au cluster FSx ONTAP en tant qu'utilisateur fsxadmin via SSH pour récupérer le numéro de série hexadécimal de chaque LUN commençant par 6c574xxx..., le numéro HEX commence par 3600a0980, qui est l'ID du fournisseur AWS.</block>
  <block id="c44eb19dc7906a6753272e8a1de9b1cb" category="list-text">Changement<block ref="a8946fa5f211c5345e3610710e471cb4" prefix=" " category="inline-code"></block> propriété du point de montage à l'utilisateur Oracle et à son groupe principal associé.</block>
  <block id="ebf44954c543813531faf671e318bdc9" category="list-text">Connectez-vous à la machine virtuelle DB en tant qu'utilisateur administrateur via SSH et activez l'authentification par mot de passe en supprimant le commentaire.<block ref="cd94e87e5216cd088acdc4de0e9c30f1" prefix=" " category="inline-code"></block> et puis commenter<block ref="f18918133cfc22e041baab71b051c41f" prefix=" " category="inline-code"></block> .</block>
  <block id="d36d86c204f6126a4742f3c17a52b50a" category="list-text">Préparez un<block ref="77d9f4d56c58834c8dacf6d0cb94e085" prefix=" " category="inline-code"></block> fichier pour une installation silencieuse et placez le fichier rsp dans le<block ref="d66a510d21988f96fd9c018f6843c729" prefix=" " category="inline-code"></block> annuaire.  Le fichier rsp doit couvrir les sections A, B et G avec les informations suivantes :</block>
  <block id="9bd3ed1deb734d02d4b9004adb88c1ed" category="list-text">Initialisez les périphériques de disque à utiliser avec le pilote de filtre Oracle ASM.</block>
  <block id="f0c1c255ad4ee079686c5de8b56372a2" category="list-text">Valider l'état du service HA.</block>
  <block id="d4d4203c3b64386ed31cefd3e527f1fc" category="list-text">Créez le répertoire de base de données Oracle et modifiez le répertoire vers celui-ci.</block>
  <block id="51fbc23284cfef48739fa117053b0496" category="list-text">Depuis la maison DB, réviser<block ref="ef8657f0a0a00af93ba7f1c8885339ca" prefix=" " category="inline-code"></block> et décommentez et remplacez<block ref="bb7738211dd8eb3dbadf4cc63ae8eb8a" prefix=" " category="inline-code"></block> avec<block ref="b2affc1a941fe7e5e65933911250249c" prefix=" " category="inline-code"></block> .</block>
  <block id="900c7011e47a25c71c72d7baa3d4786b" category="list-text">Depuis cdb3 home /u01/app/oracle/product/19.0.0/cdb3, exécutez une installation silencieuse de la base de données logicielle uniquement.</block>
  <block id="77ca17b9b0d011a8a9693dea585ec113" category="list-text">En tant qu'utilisateur root, exécutez le<block ref="08030ad08b2b991d61b424afd8828758" prefix=" " category="inline-code"></block> script après l'installation du logiciel uniquement.</block>
  <block id="c4cf035e92613b739d2fdb8f3f864b6e" category="list-text">En tant qu'utilisateur Oracle, créez le<block ref="c170c347c737b82ad62c48db1f7bff3c" prefix=" " category="inline-code"></block> fichier avec les entrées suivantes :</block>
  <block id="29362c5952e8a273a25c1d86fc91d838" category="list-text">En tant qu'utilisateur Oracle, lancez la création de la base de données avec dbca.</block>
  <block id="5483ea94e6740cb9506d49c7b420197b" category="paragraph">sortir:</block>
  <block id="519ad91eddb5ee99b4c197b4172c79cf" category="list-text">Répétez les mêmes procédures à partir de l’étape 2 pour créer une base de données conteneur cdb4 dans un ORACLE_HOME /u01/app/oracle/product/19.0.0/cdb4 distinct avec un seul PDB.</block>
  <block id="3a3a87b9aff1fff5afe3fd3a13cf4bec" category="list-text">En tant qu'utilisateur Oracle, validez les services Oracle Restart HA après la création de la base de données afin de vérifier que toutes les bases de données (cdb3, cdb4) sont enregistrées auprès des services HA.</block>
  <block id="1d891a18ce35238aed4ee18804d6c368" category="list-text">Valider le CDB/PDB créé pour cdb3.</block>
  <block id="2fa6ba00439ae530528e2071b0cae3b6" category="list-text">Valider le CDB/PDB créé pour cdb4.</block>
  <block id="7f1463c4022e8bf5ef77ee7b4272d57e" category="list-text">Connectez-vous à chaque cdb en tant que sysdba avec sqlplus et définissez la taille de destination de récupération de la base de données sur la taille du groupe de disques +LOGS pour les deux cdb.</block>
  <block id="d2dff87fed5b165c0917439bd2348ee6" category="list-text">Connectez-vous à chaque cdb en tant que sysdba avec sqlplus et activez le mode journal d'archivage avec les ensembles de commandes suivants dans l'ordre.</block>
  <block id="059230c3af2be97f2f14287139b3cae4" category="paragraph">Ceci termine le déploiement du redémarrage d'Oracle 19c version 19.18 sur un stockage Amazon FSx ONTAP et une machine virtuelle VMC DB.  Si vous le souhaitez, NetApp recommande de déplacer le fichier de contrôle Oracle et les fichiers journaux en ligne vers le groupe de disques +LOGS.</block>
  <block id="d4c868638655b6a0f05ff19eb2dc90b3" category="section-title">Configuration de SnapCenter</block>
  <block id="43b9d4da02f11505dff89d05efea04c6" category="inline-link-macro">Que pouvez-vous faire avec le plug-in pour la base de données Oracle</block>
  <block id="c6dd5b1c74dacee8c5ea6ea24ec47c61" category="paragraph">SnapCenter s'appuie sur un plug-in côté hôte sur la machine virtuelle de base de données pour effectuer des activités de gestion de la protection des données prenant en compte les applications.  Pour des informations détaillées sur le plug-in NetApp SnapCenter pour Oracle, reportez-vous à cette documentation<block ref="7a6b1ddf3a0731d31936d6522df7c6ca" category="inline-link-macro-rx"></block> .  Les étapes suivantes fournissent des étapes de haut niveau pour configurer SnapCenter pour la sauvegarde, la récupération et le clonage de la base de données Oracle.</block>
  <block id="68f9ff06ec00760816a8852081d652a9" category="inline-link-macro">Téléchargements du support NetApp</block>
  <block id="9f3f125ee631455138d3f4f0e7e3eab6" category="list-text">Téléchargez la dernière version du SnapCenter software depuis le site de support NetApp :<block ref="3cca19c7256555824970f142627f53d3" category="inline-link-macro-rx"></block> .</block>
  <block id="4e26d4a1dcc35c4e1d2dfd9c3b78e535" category="inline-link-macro">Obtenez Java pour les applications de bureau</block>
  <block id="a6e522693361323d4999a459b325b038" category="list-text">En tant qu'administrateur, installez le dernier JDK Java à partir de<block ref="1a0bb7a886be273015991771cf1b1190" category="inline-link-macro-rx"></block> sur l'hôte Windows du serveur SnapCenter .</block>
  <block id="02e32891e3de53a22cecc990dca68e55" category="admonition">Si le serveur Windows est déployé dans un environnement de domaine, ajoutez un utilisateur de domaine au groupe d'administrateurs locaux du serveur SnapCenter et exécutez l'installation de SnapCenter avec l'utilisateur de domaine.</block>
  <block id="d71146f6c986dedfe7a80892a16bf95a" category="list-text">Connectez-vous à l'interface utilisateur de SnapCenter via le port HTTPS 8846 en tant qu'utilisateur d'installation pour configurer SnapCenter pour Oracle.</block>
  <block id="ce9b8e01e17b619f7f8a43211a1ffd57" category="list-text">Mise à jour<block ref="6b2d6702a0358e8df43b31cf0890a30f" prefix=" " category="inline-code"></block> dans un contexte mondial.</block>
  <block id="10f89a6808c7ca8a60e377ea9537da91" category="inline-image-macro">Capture d'écran montrant la configuration de SnapCenter .</block>
  <block id="5b013854b310272734f6e4f9b63e2cba" category="paragraph"><block ref="5b013854b310272734f6e4f9b63e2cba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c933eebaf80d285dfac08fec41a6a6b" category="list-text">Créez des politiques de sauvegarde de base de données Oracle.  Idéalement, créez une politique de sauvegarde du journal d’archive distincte pour permettre un intervalle de sauvegarde plus fréquent afin de minimiser la perte de données en cas de panne.</block>
  <block id="38e88a98d97ddbbc6fad69f518cd012e" category="paragraph"><block ref="38e88a98d97ddbbc6fad69f518cd012e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="638c0eb2b08e7f1a3e5f520754df2492" category="list-text">Ajouter un serveur de base de données<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> pour l'accès SnapCenter à la VM DB.  Les informations d'identification doivent disposer du privilège sudo sur une machine virtuelle Linux ou du privilège administrateur sur une machine virtuelle Windows.</block>
  <block id="ef566c9965e38f71bfe1626a6394c61c" category="paragraph"><block ref="ef566c9965e38f71bfe1626a6394c61c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd00724bb50c560f784951b9675078a9" category="list-text">Ajouter un cluster de stockage FSx ONTAP à<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> avec IP de gestion de cluster et authentifié via l'ID utilisateur fsxadmin.</block>
  <block id="ca11147de8c392ae9e43aab81e70f743" category="paragraph"><block ref="ca11147de8c392ae9e43aab81e70f743" category="inline-image-macro-rx" type="image"></block></block>
  <block id="026ec4d6f3dd2407e2e1278ccc1eb4de" category="list-text">Ajouter une machine virtuelle de base de données Oracle dans VMC à<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> avec les informations d'identification du serveur créées à l'étape 6 précédente.</block>
  <block id="0b11f9f53a89cd9db21cc85ddd53ff52" category="paragraph"><block ref="0b11f9f53a89cd9db21cc85ddd53ff52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="363544b94b5ce99f22af62c11cdfb685" category="admonition">Assurez-vous que le nom du serveur SnapCenter peut être résolu en adresse IP à partir de la machine virtuelle de base de données et que le nom de la machine virtuelle de base de données peut être résolu en adresse IP à partir du serveur SnapCenter .</block>
  <block id="025cf2f18f2e268b39a9e3b95afe5c03" category="section-title">Sauvegarde de la base de données</block>
  <block id="569cda6ea25c5dbb40dbe351743ff809" category="paragraph">SnapCenter exploite l'instantané de volume FSx ONTAP pour une sauvegarde, une restauration ou un clonage de base de données beaucoup plus rapide par rapport à la méthodologie traditionnelle basée sur RMAN.  Les instantanés sont cohérents avec l'application car la base de données est placée en mode de sauvegarde Oracle avant un instantané.</block>
  <block id="edf9da3decc598bb9b93dc595dfb701a" category="list-text">De la<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, toutes les bases de données sur la machine virtuelle sont automatiquement découvertes après l'ajout de la machine virtuelle à SnapCenter.  Initialement, l'état de la base de données s'affiche comme suit<block ref="4aa6066b3ed6d1b995450c6c7ad4a3d8" prefix=" " category="inline-code"></block> .</block>
  <block id="b10e208514bf3d9b1d5b81372d142337" category="paragraph"><block ref="b10e208514bf3d9b1d5b81372d142337" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0a671953c31e073dfa8b0ed9da13f596" category="list-text">Créez un groupe de ressources pour sauvegarder la base de données dans un regroupement logique, par exemple par DB VM, etc. Dans cet exemple, nous avons créé un groupe ora_02_data pour effectuer une sauvegarde complète de la base de données en ligne pour toutes les bases de données sur la VM ora_02.  Le groupe de ressources ora_02_log effectue la sauvegarde des journaux archivés uniquement sur la machine virtuelle.  La création d’un groupe de ressources définit également une planification pour exécuter la sauvegarde.</block>
  <block id="cad29c3db25d24da4bbee5aea60736da" category="paragraph"><block ref="cad29c3db25d24da4bbee5aea60736da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7b0d69d2347240232ff1724962274d17" category="list-text">La sauvegarde du groupe de ressources peut également être déclenchée manuellement en cliquant sur<block ref="9af892ad254c844922acba8e89078d6d" prefix=" " category="inline-code"></block> et exécuter la sauvegarde avec la politique définie dans le groupe de ressources.</block>
  <block id="bd9aa9cb7e810fe9ca3fc51853357011" category="paragraph"><block ref="bd9aa9cb7e810fe9ca3fc51853357011" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ddf172cecda6c976fecf4c27819e241" category="list-text">La tâche de sauvegarde peut être surveillée à l'<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> onglet en cliquant sur la tâche en cours d'exécution.</block>
  <block id="3743613408568cbb8fffc38bd611ec56" category="paragraph"><block ref="3743613408568cbb8fffc38bd611ec56" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d972f47eb27d37493fd1b73f1c799699" category="list-text">Après une sauvegarde réussie, l'état de la base de données affiche l'état du travail et l'heure de sauvegarde la plus récente.</block>
  <block id="029dc816f654fac31766bc14a31f524c" category="paragraph"><block ref="029dc816f654fac31766bc14a31f524c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1b29d7776717c0a002b1cfb23bba6ede" category="list-text">Cliquez sur la base de données pour consulter les ensembles de sauvegarde de chaque base de données.</block>
  <block id="df8e6bed53d8cc6da01aedd9bad46e52" category="paragraph"><block ref="df8e6bed53d8cc6da01aedd9bad46e52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="381a4da48b283cb83eaca25d4d82a5a0" category="section-title">Récupération de base de données</block>
  <block id="5586b3dfa8d7aaa4771cba0c795dcc1c" category="paragraph">SnapCenter fournit un certain nombre d'options de restauration et de récupération pour les bases de données Oracle à partir d'une sauvegarde instantanée.  Dans cet exemple, nous démontrons une restauration ponctuelle pour récupérer une table supprimée par erreur.  Sur la VM ora_02, deux bases de données cdb3, cdb4 partagent les mêmes groupes de disques +DATA et +LOGS.  La restauration d'une base de données n'a pas d'impact sur la disponibilité de l'autre base de données.</block>
  <block id="7cc816f478b8fdfd718bae0b9383c204" category="list-text">Tout d’abord, créez une table de test et insérez une ligne dans la table pour valider une récupération à un moment donné.</block>
  <block id="10196ada2a83568ea4b23ac007abb3e1" category="list-text">Nous exécutons une sauvegarde instantanée manuelle à partir de SnapCenter.  Alors laissez tomber la table.</block>
  <block id="5ab664c5c8573a6f098f67e573077ddb" category="list-text">À partir de l’ensemble de sauvegarde créé à l’étape précédente, notez le numéro SCN de la sauvegarde du journal.  Cliquez sur<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> pour lancer le flux de travail de restauration-récupération.</block>
  <block id="03643ecb408a04d6369807964f4c0a00" category="paragraph"><block ref="03643ecb408a04d6369807964f4c0a00" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c4d348e917d1812ea79e94ee7799918a" category="list-text">Choisissez l'étendue de la restauration.</block>
  <block id="5d9ddfd10a0595c3b37570e907352e03" category="paragraph"><block ref="5d9ddfd10a0595c3b37570e907352e03" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d1ae3afc2dfbd2dfa9b6aa0b4557161" category="list-text">Choisissez l'étendue de récupération jusqu'au SCN du journal à partir de la dernière sauvegarde complète de la base de données.</block>
  <block id="cc84b4e33c4183f620a20594ccb185e3" category="paragraph"><block ref="cc84b4e33c4183f620a20594ccb185e3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c70ff881ea5d29e3a88b724e098e9d66" category="list-text">Spécifiez tous les pré-scripts facultatifs à exécuter.</block>
  <block id="910015a1b5f4e9328499121c55217a8a" category="paragraph"><block ref="910015a1b5f4e9328499121c55217a8a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="81bc29b1b95871e6d5d7d76b917a005a" category="list-text">Spécifiez tout script ultérieur facultatif à exécuter.</block>
  <block id="e6e6b6d865c940446e8b169418e324b5" category="paragraph"><block ref="e6e6b6d865c940446e8b169418e324b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="550a7e596b298565d43b08bbdc9e9502" category="list-text">Envoyez un rapport de travail si vous le souhaitez.</block>
  <block id="b67c26325aa28b8194fd13b45c842e2b" category="paragraph"><block ref="b67c26325aa28b8194fd13b45c842e2b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9c30b39b40cf957f005a8d97554cb792" category="list-text">Consultez le résumé et cliquez sur<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> pour lancer la restauration et la récupération.</block>
  <block id="19d3b39cada554662e288d920070f33b" category="paragraph"><block ref="19d3b39cada554662e288d920070f33b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2b097285b35ac926b6e3a30da709b120" category="list-text">À partir du contrôle de la grille Oracle Restart, nous observons que pendant que cdb3 est en cours de restauration et de récupération, cdb4 est en ligne et disponible.</block>
  <block id="bbbd2ca379f212b84f7d2f83633ac2e2" category="paragraph"><block ref="bbbd2ca379f212b84f7d2f83633ac2e2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b011ed6e72e83b31014ed609b024d671" category="list-text">Depuis<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> onglet, ouvrez le travail pour examiner les détails.</block>
  <block id="86579fa281ba9b8a24f9ff5532d39cb3" category="paragraph"><block ref="86579fa281ba9b8a24f9ff5532d39cb3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f8dc42fb122639d83a29d4d65e2b815e" category="list-text">À partir de la machine virtuelle DB ora_02, validez que la table supprimée est récupérée après une récupération réussie.</block>
  <block id="82459660e8d561fc463b49540987f53f" category="section-title">Clonage de base de données</block>
  <block id="f6e7e97c5e19c813d868b9fef1ce8249" category="paragraph">Dans cet exemple, les mêmes jeux de sauvegarde sont utilisés pour cloner une base de données sur la même machine virtuelle dans un ORACLE_HOME différent.  Les procédures sont également applicables pour cloner une base de données à partir de la sauvegarde vers une machine virtuelle distincte dans VMC si nécessaire.</block>
  <block id="166b0369d9dcd60c22b00908c9989b23" category="list-text">Ouvrez la liste de sauvegarde de la base de données cdb3.  À partir d'une sauvegarde de données de votre choix, cliquez sur<block ref="ff24590464659ee8cdec688128c35f89" prefix=" " category="inline-code"></block> bouton pour lancer le workflow de clonage de la base de données.</block>
  <block id="e2a86ae93a090b1427ebaa2f9e665b9a" category="paragraph"><block ref="e2a86ae93a090b1427ebaa2f9e665b9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26e18e582adb0a52168bd3417e7e507d" category="list-text">Nommez la base de données clone SID.</block>
  <block id="19fd68eefe67673d5c21f0d1f5c4498b" category="paragraph"><block ref="19fd68eefe67673d5c21f0d1f5c4498b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1864ca75c3d9655e9c9c1fb1fea390df" category="list-text">Sélectionnez une machine virtuelle dans VMC comme hôte de base de données cible.  Une version Oracle identique aurait dû être installée et configurée sur l'hôte.</block>
  <block id="81968b66a2163518ccc07aca74632b47" category="paragraph"><block ref="81968b66a2163518ccc07aca74632b47" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c1b5c3a41783f4011163cf3a7694f36d" category="list-text">Sélectionnez l'ORACLE_HOME, l'utilisateur et le groupe appropriés sur l'hôte cible.  Conserver les informations d'identification par défaut.</block>
  <block id="2a9ceba13cac6834a121165b7655e1eb" category="paragraph"><block ref="2a9ceba13cac6834a121165b7655e1eb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="991df28ae4ba0a10c1ae7d1cc1ea3292" category="list-text">Modifiez les paramètres de la base de données clonée pour répondre aux exigences de configuration ou de ressources de la base de données clonée.</block>
  <block id="874b012adbaf6abb809a521380d7d5ae" category="paragraph"><block ref="874b012adbaf6abb809a521380d7d5ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="73ec64d1d5561a05f8953f32ccc418e3" category="list-text">Choisissez l’étendue de la récupération.<block ref="e6cb3190c21226943d9002045ab8a93a" prefix=" " category="inline-code"></block> récupère le clone jusqu'au dernier fichier journal disponible dans le jeu de sauvegarde.</block>
  <block id="d1cd045c499c1a3d105a5e07aa3cc551" category="paragraph"><block ref="d1cd045c499c1a3d105a5e07aa3cc551" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f940cd9350acca488dc054b4cb0fd9e" category="list-text">Consultez le résumé et lancez la tâche de clonage.</block>
  <block id="f502097b54b49b204de60be9cd20bac7" category="paragraph"><block ref="f502097b54b49b204de60be9cd20bac7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6aaccd301944bbd2ed25852fb0e705a" category="list-text">Surveiller l'exécution du travail de clonage à partir de<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> languette.</block>
  <block id="610db5fbae96fe01b535030f25c6783c" category="paragraph"><block ref="610db5fbae96fe01b535030f25c6783c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4eb7f9133e0f7dd8abfb2b1a117e57d8" category="list-text">La base de données clonée est immédiatement enregistrée dans SnapCenter.</block>
  <block id="a8e66d0947ba9e06f66044daff62637d" category="paragraph"><block ref="a8e66d0947ba9e06f66044daff62637d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65640816580ff72a56a1081922993c9f" category="list-text">À partir de DB VM ora_02, la base de données clonée est également enregistrée dans le contrôle de grille Oracle Restart et la table de test supprimée est récupérée dans la base de données clonée cdb3tst comme indiqué ci-dessous.</block>
  <block id="9f6329a70dd516951fa70a4f7a3a10ea" category="paragraph">Ceci termine la démonstration de la sauvegarde, de la restauration et du clonage SnapCenter de la base de données Oracle dans VMC SDDC sur AWS.</block>
  <block id="ac9c0a61f41745e8c77a713ddf6821eb" category="list-text">Documentation VMware Cloud sur AWS</block>
  <block id="c795642cf5dd34e946fb3142d8f52288" category="inline-link-macro"><block ref="c795642cf5dd34e946fb3142d8f52288" category="inline-link-rx"></block></block>
  <block id="450d2faa3005c2b5ef481da0fa99a49c" category="paragraph"><block ref="450d2faa3005c2b5ef481da0fa99a49c" category="inline-link-macro-rx"></block></block>
  <block id="f6fe5f65828d55c1f997c1bf7b8bacf2" category="summary">Cette solution fournit une vue d'ensemble et des détails pour activer la haute disponibilité (HA) d'Oracle dans AWS EC2 avec le clustering Pacemaker sur Redhat Enterprise Linux (RHEL) et Amazon FSx ONTAP pour le stockage de base de données HA via le protocole NFS.</block>
  <block id="5bde66b68ed65b6f3e2143184fa4e287" category="doc">TR-4998 : Oracle HA dans AWS EC2 avec Pacemaker Clustering et FSx ONTAP</block>
  <block id="df71fa68d5ae3b4067c539f59f41a3c8" category="paragraph">De nombreux clients qui s’efforcent de gérer et d’exécuter eux-mêmes Oracle dans le cloud public doivent surmonter quelques défis.  L’un de ces défis consiste à permettre une haute disponibilité de la base de données Oracle.  Traditionnellement, les clients Oracle s'appuient sur une fonctionnalité de base de données Oracle appelée « Real Application Cluster » ou RAC pour la prise en charge des transactions actives-actives sur plusieurs nœuds de cluster.  Un nœud défaillant ne bloquerait pas le traitement de l’application.  Malheureusement, l’implémentation d’Oracle RAC n’est pas facilement disponible ou prise en charge dans de nombreux clouds publics populaires tels qu’AWS EC2.  En exploitant le clustering Pacemaker intégré (PCS) dans RHEL et Amazon FSx ONTAP, les clients peuvent obtenir une alternative viable sans coût de licence Oracle RAC pour le clustering actif-passif sur le calcul et le stockage afin de prendre en charge la charge de travail de base de données Oracle critique dans le cloud AWS.</block>
  <block id="63215125560b028e48edb3ec01c2d19f" category="paragraph">Cette documentation présente les détails de la configuration du clustering Pacemaker sur RHEL, du déploiement de la base de données Oracle sur EC2 et Amazon FSx ONTAP avec le protocole NFS, de la configuration des ressources Oracle dans Pacemaker pour HA et de la conclusion de la démonstration avec une validation dans les scénarios HA les plus fréquemment rencontrés.  La solution fournit également des informations sur la sauvegarde, la restauration et le clonage rapides de bases de données Oracle avec l'outil d'interface utilisateur NetApp SnapCenter .</block>
  <block id="bda70cbd46213e517a6edf6b7aca7cf6" category="list-text">Configuration et configuration du clustering Pacemaker HA dans RHEL.</block>
  <block id="2c4a0092362fe73af31befdf5d1c58e8" category="list-text">Déploiement de la base de données Oracle HA dans AWS EC2 et Amazon FSx ONTAP.</block>
  <block id="98b89d6751f11213b0c71acef2d2227d" category="list-text">Un DBA qui souhaite déployer Oracle dans AWS EC2 et Amazon FSx ONTAP.</block>
  <block id="e3a4f5d5a5924c80fbf8279dcf5b5eb4" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle dans AWS EC2 et Amazon FSx ONTAP.</block>
  <block id="ba778845e9fce67c9a4599f51a6c3c24" category="list-text">Un administrateur de stockage souhaitant déployer et gérer une base de données Oracle dans AWS EC2 et Amazon FSx ONTAP.</block>
  <block id="d2887edb936539802aa0e0fc7411ec17" category="list-text">Un propriétaire d'application qui souhaite mettre en place une base de données Oracle dans AWS EC2 et Amazon FSx ONTAP.</block>
  <block id="28c3179b4d645d4a8ebc13e3ed582398" category="inline-image-macro">Cette image fournit une image détaillée d'Oracle HA dans AWS EC2 avec Pacemaker Clustering et FSx ONTAP.</block>
  <block id="1f70e23f0ae234400604a123ef00354c" category="paragraph"><block ref="1f70e23f0ae234400604a123ef00354c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e39aec7105afeabde4a61beac5b9371" category="cell">Single-AZ dans US-East-1, capacité de 1 024 Gio, débit de 128 Mo/s</block>
  <block id="9d7649826cfffa4c830a594a2aa28395" category="cell">Instances EC2 pour serveur de base de données</block>
  <block id="36912d3138028b9cb8254223bad05e5a" category="cell">Deux instances EC2 T2 xlarge EC2, l'une comme serveur de base de données principal et l'autre comme serveur de base de données de secours</block>
  <block id="77433b1c395ee065d09c9624e81afe87" category="cell">VM pour contrôleur Ansible</block>
  <block id="3f6661478b267ff8048d072baab710db" category="cell">Une machine virtuelle Linux pour exécuter le provisionnement automatisé d'AWS EC2/FSx et le déploiement Oracle sur NFS</block>
  <block id="d95adee972ae170512bd3bdbce557054" category="cell">Stimulateur cardiaque</block>
  <block id="34471ee52af721273e94a36bef5caa59" category="cell">Version 0.10.18</block>
  <block id="6c2ce2341d501454a799e87145719e3e" category="cell">Module complémentaire de haute disponibilité pour RHEL 8.0 par RedHat</block>
  <block id="c5153aca08b1a4db2e223c59c1e1c5ae" category="section-title">Configuration active/passive de la base de données Oracle dans l'environnement de laboratoire AWS EC2/FSx</block>
  <block id="01aa7c49c1ceb37acc19c17632442e0c" category="cell">nœud principal : orapm01/ip-172.30.15.111</block>
  <block id="1f9855ba163e5821776108e92a90f96a" category="cell">NTAP(NTAP_PDB1,NTAP_PDB2,NTAP_PDB3)</block>
  <block id="2b4cf5ad813d81fa5e527e5f6899451a" category="cell">/u01, /u02, /u03 Montages NFS sur les volumes Amazon FSx ONTAP</block>
  <block id="e3669ef59cda4f01bf9c932d0dff7668" category="cell">nœud de secours : orapm02/ip-172.30.15.5</block>
  <block id="b14f37c5307f4d6bb24900e4c2e788e3" category="cell">NTAP(NTAP_PDB1,NTAP_PDB2,NTAP_PDB3) lors du basculement</block>
  <block id="240df300f65d57468935936d05d26adf" category="cell">/u01, /u02, /u03 Montages NFS lors du basculement</block>
  <block id="6e05562cdd87776b39b57d6ea61382c0" category="list-text">* Amazon FSx ONTAP HA.*  Amazon FSx ONTAP est provisionné dans une paire HA de contrôleurs de stockage dans une ou plusieurs zones de disponibilité par défaut.  Il fournit une redondance de stockage de manière active/passive pour les charges de travail de base de données critiques.  Le basculement du stockage est transparent pour l’utilisateur final.  L’intervention de l’utilisateur n’est pas requise en cas de basculement du stockage.</block>
  <block id="861110a6d0268877bf71e63396fc9e4e" category="list-text">*Groupe de ressources PCS et commande de ressources.*  Un groupe de ressources permet à plusieurs ressources avec dépendance de s'exécuter sur le même nœud de cluster.  L'ordre des ressources applique l'ordre de démarrage et l'ordre d'arrêt des ressources en sens inverse.</block>
  <block id="dab6e7e29838a88473d5e17ba5e5e521" category="list-text">*Nœud préféré.*  Le cluster Pacemaker est volontairement déployé dans un clustering actif/passif (ce qui n'est pas une exigence de Pacemaker) et est synchronisé avec le clustering FSx ONTAP .  L'instance EC2 active est configurée comme nœud préféré pour les ressources Oracle lorsqu'elle est disponible avec une contrainte d'emplacement.</block>
  <block id="2ea34e3a63928ab0fdb7e04ddd4d15c3" category="list-text">*Délai de clôture sur le nœud de secours.*  Dans un cluster PCS à deux nœuds, le quorum est artificiellement défini à 1.  En cas de problème de communication entre les nœuds du cluster, l'un ou l'autre nœud pourrait essayer de clôturer l'autre nœud, ce qui peut potentiellement entraîner une corruption des données.  La configuration d’un délai sur le nœud de secours atténue le problème et permet au nœud principal de continuer à fournir des services pendant que le nœud de secours est clôturé.</block>
  <block id="fca5f3354258ffe645a350badc238fa7" category="list-text">*Considération sur le déploiement multi-az.*  La solution est déployée et validée dans une zone de disponibilité unique.  Pour un déploiement multi-az, des ressources réseau AWS supplémentaires sont nécessaires pour déplacer l'IP flottante PCS entre les zones de disponibilité.</block>
  <block id="315fd44657ba26625ec59b3ca9603a6b" category="list-text">*Disposition de stockage de la base de données Oracle.*  Dans cette démonstration de solution, nous provisionnons trois volumes de base de données pour la base de données de test NTAP afin d'héberger les binaires, les données et les journaux Oracle.  Les volumes sont montés sur le serveur Oracle DB en tant que /u01 - binaire, /u02 - données et /u03 - journal via NFS.  Les fichiers de contrôle double sont configurés sur les points de montage /u02 et /u03 pour la redondance.</block>
  <block id="23188bdc56a2b92fa7841dae55934d55" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement et la configuration de la base de données Oracle HA dans AWS EC2 avec le clustering Pacemaker et Amazon FSx ONTAP pour la protection du stockage de la base de données.</block>
  <block id="7605a49783b639ba27403968d49af9df" category="paragraph">Activez l'authentification par clé publique/privée SSH entre le contrôleur Ansible et les machines virtuelles de base de données d'instance EC2.</block>
  <block id="0eaa3793e51fa525898cb2f3dbfe5220" category="section-title">Provisionner des instances EC2 et un cluster de stockage Amazon FSx ONTAP</block>
  <block id="76036f5d77a2071a9ee5be7c9c35f955" category="paragraph">Bien que l'instance EC2 et Amazon FSx ONTAP puissent être provisionnés manuellement à partir de la console AWS, il est recommandé d'utiliser la boîte à outils d'automatisation basée sur NetApp Terraform pour automatiser le provisionnement des instances EC2 et du cluster de stockage FSx ONTAP .  Voici les procédures détaillées.</block>
  <block id="33d7ca25ee45cd96931f23c9254c331b" category="list-text">À partir d'AWS CloudShell ou d'une machine virtuelle du contrôleur Ansible, clonez une copie de la boîte à outils d'automatisation pour EC2 et FSx ONTAP.</block>
  <block id="bae7d0ac03ac455bfcc3c6965e07fd88" category="admonition">Si la boîte à outils n'est pas exécutée à partir d'AWS CloudShell, l'authentification AWS CLI est requise avec votre compte AWS à l'aide de la paire de clés d'accès/secret du compte utilisateur AWS.</block>
  <block id="5f2c834acd2fc60dd30f480c88d72c6a" category="list-text">Consultez le fichier READme.md inclus dans la boîte à outils.  Révisez main.tf et les fichiers de paramètres associés si nécessaire pour les ressources AWS requises.</block>
  <block id="6820b23ea86b25919f28516f7308f210" category="list-text">Valider et exécuter le plan Terraform.  Une exécution réussie créerait deux instances EC2 et un cluster de stockage FSx ONTAP dans le compte AWS cible.  La sortie d'automatisation affiche l'adresse IP de l'instance EC2 et les points de terminaison du cluster FSx ONTAP .</block>
  <block id="9dbaac18b2c0a62ca302a3d4049bd869" category="paragraph">Ceci termine le provisionnement des instances EC2 et FSx ONTAP pour Oracle.</block>
  <block id="bc0092fea092d857c0eac1aff350982a" category="section-title">Configuration du groupe de stimulateurs cardiaques</block>
  <block id="400fa5b3553e14023887fe32071cb892" category="paragraph">Le module complémentaire haute disponibilité pour RHEL est un système en cluster qui offre fiabilité, évolutivité et disponibilité aux services de production critiques tels que les services de base de données Oracle.  Dans cette démonstration de cas d'utilisation, un cluster Pacemaker à deux nœuds est configuré et configuré pour prendre en charge la haute disponibilité d'une base de données Oracle dans un scénario de clustering actif/passif.  </block>
  <block id="30453ea8c03108a1df11c8020b608029" category="paragraph">Connectez-vous aux instances EC2, en tant qu'utilisateur ec2, effectuez les tâches suivantes sur<block ref="f6cb3e816496528d4187db53bc66567f" prefix=" " category="inline-code"></block> Instances EC2 :</block>
  <block id="11c43481efb37bab52c1fc10fdaf286e" category="list-text">Supprimez le client AWS Red Hat Update Infrastructure (RHUI).</block>
  <block id="fd95ba94bf17e8ede3044fc8bf0cbde6" category="list-text">Enregistrez les machines virtuelles d’instance EC2 auprès de Red Hat.</block>
  <block id="3f50d2362440491c14aaa712a76820f2" category="list-text">Activer les rpm haute disponibilité RHEL.</block>
  <block id="e0170f80226fcadbd154e86dbc54b61c" category="list-text">Installer un stimulateur cardiaque et un agent de clôture.</block>
  <block id="b3c710ebe88703e176f0de3e34dd53d4" category="list-text">Créez un mot de passe pour l’utilisateur hacluster sur tous les nœuds du cluster.  Utilisez le même mot de passe pour tous les nœuds.</block>
  <block id="38132b685379ed7c5d770105bb06e07b" category="list-text">Démarrez le service pcs et activez-le pour qu'il démarre au démarrage.</block>
  <block id="0329cc41f4fb7250dd4f6b96a75226c0" category="list-text">Valider le service pcsd.</block>
  <block id="758390b315fd9d53cb04208c4635b0b7" category="list-text">Ajoutez des nœuds de cluster aux fichiers hôtes.</block>
  <block id="dbf3cc886cd97491079b0587b3377a12" category="list-text">Installez et configurez awscli pour la connectivité au compte AWS.</block>
  <block id="89eaeefddfdf7b4d5bebb16e171483e1" category="list-text">Installez le package resource-agents s'il n'est pas déjà installé.</block>
  <block id="3cf61f05d0f1b9598e3b14a255f8a783" category="paragraph">Sur<block ref="72bfdbba8247124dd972fab874e80dd8" prefix=" " category="inline-code"></block> du nœud du cluster, effectuez les tâches suivantes pour créer un cluster de pcs.</block>
  <block id="44b47b8c48ef4f3470b9faf0e6efc810" category="list-text">Authentifiez l'utilisateur pcs hacluster.</block>
  <block id="e8139e328342798e7c83f51be338504c" category="list-text">Créez le cluster pcs.</block>
  <block id="3a3e520deb19f19a8fcda0c6f49e33b9" category="list-text">Activer le cluster.</block>
  <block id="d11744358f5ffeade8c06909f641d769" category="list-text">Démarrer et valider le cluster.</block>
  <block id="032be6bb7f19b9d2fb3c069d566c441d" category="paragraph">Ceci termine la configuration initiale et la configuration du cluster Pacemaker.</block>
  <block id="3b1994e964aa61b410b6f38e103d3189" category="section-title">Configuration de clôture du cluster de stimulateurs cardiaques</block>
  <block id="23c40eb683eeb7db4cac735d3ddfab3c" category="paragraph">La configuration de la clôture du stimulateur cardiaque est obligatoire pour un cluster de production.  Il garantit qu'un nœud défectueux sur votre cluster AWS EC2 est automatiquement isolé, empêchant ainsi le nœud de consommer les ressources du cluster, de compromettre la fonctionnalité du cluster ou de corrompre les données partagées.  Cette section illustre la configuration de la clôture de cluster à l'aide de l'agent de clôture fence_aws.</block>
  <block id="9adac4e18fdb6bc6c6d20cd25a34ed54" category="list-text">En tant qu'utilisateur root, saisissez la requête de métadonnées AWS suivante pour obtenir l'ID d'instance pour chaque nœud d'instance EC2.</block>
  <block id="c532bf7c739b85f33a78f8d1bd76b094" category="list-text">Entrez la commande suivante pour configurer le périphérique de clôture.  Utilisez la commande pcmk_host_map pour mapper le nom d’hôte RHEL à l’ID d’instance.  Utilisez la clé d’accès AWS et la clé d’accès secrète AWS du compte utilisateur AWS que vous avez précédemment utilisé pour l’authentification AWS.</block>
  <block id="5f0b6ec64cccad3b96045ea05f880b6c" category="list-text">Valider la configuration de la clôture.</block>
  <block id="f80fd70e49653634da7db6e9fcf5129f" category="list-text">Définissez stonith-action sur off au lieu de redémarrer au niveau du cluster.</block>
  <block id="e9f501afd2041cd58df97b0583dcd5c5" category="admonition">Avec stonith-action défini sur off, le nœud de cluster clôturé sera initialement arrêté.  Après la période définie dans stonith power_timeout (240 secondes), le nœud clôturé sera redémarré et rejoindra le cluster.</block>
  <block id="2d4e52ec684e0496b8b669638984a1f2" category="list-text">Définissez le délai de clôture sur 10 secondes pour le nœud de secours.</block>
  <block id="7f83d93e1b45e39bd9baf5a031bf7824" category="admonition">Exécuter<block ref="b73e50698314b7708ccfe8c580213f8f" prefix=" " category="inline-code"></block> commande pour actualiser l'agent de clôture Stonith arrêté ou effacer les actions de ressource Stonith ayant échoué.</block>
  <block id="13cacfcb812b5bc8a9fc592092c5995f" category="section-title">Déployer une base de données Oracle dans un cluster PCS</block>
  <block id="7505bd43d8d0a896a8f9d8061c336d18" category="paragraph">Nous vous recommandons d’utiliser le playbook Ansible fourni par NetApp pour exécuter les tâches d’installation et de configuration de la base de données avec des paramètres prédéfinis sur le cluster PCS.  Pour ce déploiement Oracle automatisé, trois fichiers de paramètres définis par l'utilisateur nécessitent une saisie utilisateur avant l'exécution du playbook.</block>
  <block id="1afdf2aa5719a9cf66c9e973b6ccfe18" category="paragraph">En plus de ces fichiers de variables définis par l'utilisateur, il existe plusieurs fichiers de variables par défaut qui contiennent des paramètres par défaut qui ne nécessitent aucune modification, sauf si nécessaire.  Ce qui suit montre les détails du déploiement Oracle automatisé dans AWS EC2 et FSx ONTAP dans une configuration de clustering PCS.</block>
  <block id="9468708dadd17ad76f8fb38774edd999" category="admonition">Le contrôleur Ansible peut être situé dans le même VPC que l'instance EC2 de la base de données ou sur site tant qu'il existe une connectivité réseau entre eux.</block>
  <block id="3e7e6a965de97453e2fa8339bdb1b7b3" category="list-text">Remplissez les paramètres définis par l'utilisateur dans les fichiers de paramètres des hôtes.  Voici un exemple de configuration de fichier hôte typique.</block>
  <block id="25bbc03c03b8ad5879510656f4079f84" category="list-text">Remplissez les paramètres définis par l'utilisateur dans les fichiers de paramètres vars/vars.yml.  Voici un exemple de configuration de fichier vars.yml typique.</block>
  <block id="55c818c334d47e7e8570fb9feb5f9a4e" category="list-text">Remplissez les paramètres définis par l'utilisateur dans les fichiers de paramètres host_vars/host_name.yml.  Voici un exemple de configuration typique du fichier host_vars/host_name.yml.</block>
  <block id="3264b3d0627e431413788a124f2270c4" category="admonition">L'adresse nfs_lif peut être récupérée à partir des points de terminaison du cluster FSx ONTAP issus du déploiement automatisé EC2 et FSx ONTAP dans la section précédente.</block>
  <block id="cef8253b1f832596540379c7b88cc27a" category="list-text">Créez des volumes de base de données à partir de la console AWS FSx.  Assurez-vous d'utiliser le nom d'hôte du nœud principal PCS (orapm01) comme préfixe pour les volumes, comme illustré ci-dessous.</block>
  <block id="8cced4f39d58cbb3da3808e604055fab" category="inline-image-macro">Cette image fournit le provisionnement de volume Amazon FSx ONTAP à partir de la console AWS FSx</block>
  <block id="b39fd6187aa37a145506e6fe671ceeb2" category="paragraph"><block ref="c2cc58ca5ff864287877e6b75f65aa25" category="inline-image-macro-rx" type="image"></block> <block ref="55613e8b2928d9873cd3acef6f8fbaff" category="inline-image-macro-rx" type="image"></block> <block ref="ceb2c3de85ceb358c94c69728e641e66" category="inline-image-macro-rx" type="image"></block> <block ref="a366ab3b01c29619bdc42c19f12992ab" category="inline-image-macro-rx" type="image"></block> <block ref="c8e3f46863543587223da73f887daeb1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65bde4078ad12efa34bcae373d3bde6b" category="list-text">Étape suivant les fichiers d'installation d'Oracle 19c sur le nœud principal PCS, instance EC2 ip-172-30-15-111.ec2.internal /tmp/archive répertoire avec autorisation 777.</block>
  <block id="b3eee025ca84eef55bc15d2e0f412531" category="list-text">Exécuter le playbook pour la configuration Linux pour<block ref="7124a5aeb30c637048ce8626f71acc6a" prefix=" " category="inline-code"></block> .</block>
  <block id="7007a29eb9ab3cafbaf1d12cb32c54ef" category="list-text">Exécuter le playbook pour la configuration Oracle<block ref="d808cd1d70eb2b2def2f74c2bd9ca814" prefix=" " category="inline-code"></block> (commentez le nœud de secours dans le fichier hosts).</block>
  <block id="5a805d9dd13fd24f71ad968f59593c28" category="list-text">Une fois la base de données déployée, commentez les montages /u01, /u02, /u03 dans /etc/fstab sur le nœud principal, car les points de montage seront gérés uniquement par PCS.</block>
  <block id="e44937e4417d6ff68da3fb08262848e4" category="list-text">Copiez /etc/oratab /etc/oraInst.loc, /home/oracle/.bash_profile sur le nœud de secours.  Assurez-vous de conserver la propriété et les autorisations appropriées des fichiers.</block>
  <block id="63d57bfa5023c41791f5725885050e37" category="list-text">Arrêtez la base de données, l'écouteur et démontez /u01, /u02, /u03 sur le nœud principal.</block>
  <block id="41ce4521050d987f08b357f0e1c5930f" category="list-text">Créez des points de montage sur le nœud de secours ip-172-30-15-5.</block>
  <block id="8899e9f5e3fc43dc59cab9af27e6bb78" category="list-text">Montez les volumes de base de données FSx ONTAP sur le nœud de secours ip-172-30-15-5.</block>
  <block id="8cae050271cc272a6223658a50a078fc" category="list-text">Modifié en utilisateur Oracle, relier le binaire.</block>
  <block id="3e727d182815595c8aa0f834b957dfbb" category="list-text">Copiez la bibliothèque dnfs dans le dossier odm.  Relink pourrait perdre le fichier de bibliothèque dfns.</block>
  <block id="53d01b5a2f17c92a3464146a38ee9a92" category="list-text">Démarrer la base de données pour valider sur le nœud de secours ip-172-30-15-5.</block>
  <block id="dd4d4715276de87327d00ae30c09bc49" category="list-text">Arrêtez la base de données et restaurez-la sur le nœud principal ip-172-30-15-111.</block>
  <block id="e6627109370f2a2389b26634bf4c8cb2" category="section-title">Configurer les ressources Oracle pour la gestion PCS</block>
  <block id="86fceef2e1fe5a76bec251d2427df4e0" category="paragraph">L'objectif de la configuration du clustering Pacemaker est de mettre en place une solution de haute disponibilité active/passive pour exécuter Oracle dans un environnement AWS EC2 et FSx ONTAP avec une intervention minimale de l'utilisateur en cas de panne.  L'exemple suivant illustre la configuration des ressources Oracle pour la gestion PCS.</block>
  <block id="3968931e7d852a24a0fcf809ef574ba4" category="list-text">En tant qu'utilisateur root sur l'instance EC2 principale ip-172-30-15-111, créez une adresse IP privée secondaire avec une adresse IP privée inutilisée dans le bloc CIDR VPC en tant qu'IP flottante.  Au cours du processus, créez un groupe de ressources Oracle auquel appartiendra l’adresse IP privée secondaire.</block>
  <block id="3e31ae60ed87a1024c88db250c74700c" category="admonition">Si le privilège est créé sur un nœud de cluster de secours, déplacez-le vers le nœud principal comme indiqué ci-dessous.</block>
  <block id="d9484c480d9d90288daf62a460c8f958" category="list-text">Déplacer une ressource entre les nœuds du cluster.</block>
  <block id="8c92f4ca35c706bc98a0bf244638489f" category="list-text">Créez une IP virtuelle (vip) pour Oracle.  L'IP virtuelle flottera entre le nœud principal et le nœud de secours selon les besoins.</block>
  <block id="556ab8c7a90097de9a951832131714d2" category="list-text">En tant qu'utilisateur Oracle, mettez à jour les fichiers listener.ora et tnsnames.ora pour pointer vers l'adresse VIP.  Redémarrez l'auditeur.  Faites rebondir la base de données si nécessaire pour que la base de données s'enregistre auprès de l'écouteur.</block>
  <block id="03a280adcdd4a9210b25d58d8125b4bc" category="list-text">Ajoutez les points de montage /u01, /u02, /u03 au groupe de ressources Oracle.</block>
  <block id="87a0ff18c3c2d3c6c3d94549dffae145" category="list-text">Créez un ID utilisateur de moniteur PCS dans Oracle DB.</block>
  <block id="72211627ffb22aa251cd426be026459e" category="list-text">Ajoutez une base de données au groupe de ressources Oracle.</block>
  <block id="67060db7add8a76c786404de04fbddb8" category="list-text">Ajoutez un écouteur de base de données au groupe de ressources Oracle.</block>
  <block id="267bd1a31bd7dde4dd53337cd3d96200" category="list-text">Mettez à jour toutes les contraintes d'emplacement des ressources dans le groupe de ressources Oracle sur le nœud principal en tant que nœud préféré.</block>
  <block id="afab9f8be9138ab622f0df16704326f4" category="list-text">Valider la configuration des ressources Oracle.</block>
  <block id="fb93919fdb772ca2bcf8e85cd49c80f3" category="section-title">Validation HA après déploiement</block>
  <block id="a7465490320b9eec820159c94e731033" category="paragraph">Après le déploiement, il est essentiel d'exécuter des tests et des validations pour garantir que le cluster de basculement de base de données Oracle PCS est configuré correctement et fonctionne comme prévu.  La validation du test comprend le basculement géré et la simulation d'une défaillance et d'une récupération inattendues des ressources par le mécanisme de protection du cluster.</block>
  <block id="b75b5e926d49413bee793b27e7970d16" category="list-text">Validez la clôture du nœud en déclenchant manuellement la clôture du nœud de secours et observez que le nœud de secours a été mis hors ligne et redémarré après un délai d'attente.</block>
  <block id="6f85421f174c6ff87f28c58d29a55e01" category="list-text">Simulez une panne d'écoute de base de données en tuant le processus d'écoute et observez que PCS a surveillé la panne d'écoute et l'a redémarré en quelques secondes.</block>
  <block id="6b7e1d09ce4175230e6954de1fbacd5f" category="list-text">Simulez une panne de base de données en arrêtant le processus pmon et observez que PCS a surveillé la panne de la base de données et l'a redémarrée en quelques secondes.</block>
  <block id="d8064bf0ba112423ec7ead336f82e22d" category="list-text">Validez un basculement de base de données gérée du nœud principal vers le nœud de secours en mettant le nœud principal en mode veille pour basculer les ressources Oracle vers le nœud de secours.</block>
  <block id="780b348917daf4928244ca4613cb1939" category="list-text">Validez une restauration de base de données gérée du mode veille au mode principal par un nœud principal non en veille et observez que les ressources Oracle reviennent automatiquement en raison du paramètre de nœud préféré.</block>
  <block id="9d7ebd8bfdc4020b80787b124334247c" category="paragraph">Ceci complète la validation Oracle HA et la démonstration de la solution dans AWS EC2 avec le clustering Pacemaker et Amazon FSx ONTAP comme backend de stockage de base de données.</block>
  <block id="54b88dfac5142a6ef111d2804fcaefce" category="paragraph">NetApp recommande l'outil d'interface utilisateur SnapCenter pour gérer la base de données Oracle déployée dans AWS EC2 et Amazon FSx ONTAP.  Se référer à TR-4979<block ref="0153a3553e83e4434512b51a9a7cbd13" category="inline-link-macro-rx"></block> section<block ref="d372b360dda93a1ed98b047b474a8d14" prefix=" " category="inline-code"></block> pour plus de détails sur la configuration de SnapCenter et l'exécution des flux de travail de sauvegarde, de restauration et de clonage de la base de données.</block>
  <block id="8d604ece9d10bedbcf9843723c4fcc5f" category="inline-link-macro">Configuration et gestion des clusters à haute disponibilité</block>
  <block id="53844bc49958d73d2cb9902888d2a99f" category="list-text"><block ref="53844bc49958d73d2cb9902888d2a99f" category="inline-link-macro-rx"></block></block>
  <block id="08308a5e75c5fd7dae81f458ca85ca02" category="list-text"><block ref="08308a5e75c5fd7dae81f458ca85ca02" category="inline-link-macro-rx"></block></block>
  <block id="376d4a8ab4b6448bdd9cf3e5b49152f3" category="summary">La solution fournit une vue d'ensemble et des détails sur la configuration d'Oracle Data Guard à l'aide de Microsoft Azure NetApp Files (ANF) comme stockage de base de données principal et de secours afin de réduire les coûts de licence et d'exploitation de la solution Oracle Data Guard HA/DR dans le cloud Azure.</block>
  <block id="5199060bcbb7cb2e69ac426a05561630" category="doc">TR-5002 : Réduction des coûts d'Oracle Active Data Guard avec Azure NetApp Files</block>
  <block id="74ea172c8d694033520176b5ddf098b7" category="paragraph">Si vous souhaitez réduire les coûts de votre exploitation de base de données Oracle et envisagez de configurer un Active Data Guard dans le cloud Azure, vous devriez envisager une alternative.  Au lieu d’Active Data Guard, utilisez Data Guard pour répliquer de la base de données principale vers une seule base de données de secours physique sur le stockage Azure NetApp Files .  Par la suite, plusieurs copies de cette base de données de secours peuvent être clonées et ouvertes pour un accès en lecture/écriture afin de servir de nombreux autres cas d'utilisation tels que le reporting, le développement, les tests, etc. Les résultats nets fournissent efficacement les fonctionnalités d'Active Data Guard tout en éliminant la licence Active Data Guard.  Dans cette documentation, nous montrons comment configurer un Oracle Data Guard avec votre base de données principale existante et votre base de données de secours physique sur le stockage ANF.  La base de données de secours est sauvegardée et clonée pour un accès en lecture/écriture pour les cas d'utilisation souhaités via l'outil de gestion de base de données NetApp SnapCenter .  L'équipe d'ingénierie des solutions NetApp fournit également une boîte à outils d'automatisation pour actualiser le clone selon un calendrier défini par l'utilisateur pour une gestion complète et automatisée du cycle de vie du clone de base de données sans intervention de l'utilisateur.</block>
  <block id="d46437a3c920e1a7e4d444db6e4ce8fe" category="list-text">Implémentation d'Oracle Data Guard entre une base de données principale et une base de données de secours physique sur le stockage Microsoft Azure NetApp Files dans les régions Azure.</block>
  <block id="1c7854e2b1991ec817153c59c8e6cbbf" category="list-text">Sauvegardez et clonez la base de données de secours physique pour répondre à des cas d'utilisation tels que le reporting, le développement, les tests, etc.</block>
  <block id="6160e7e9069ff63c88e7673ce0d96873" category="list-text">Gestion du cycle de vie de l'actualisation du clone de base de données Oracle via l'automatisation.</block>
  <block id="6e7b364ff61e6c348bb1aabfb9887c34" category="list-text">Un administrateur de base de données qui configure Oracle Active Data Guard dans le cloud Azure pour une haute disponibilité, une protection des données et une reprise après sinistre.</block>
  <block id="dc9db537596cd8dca3523aef65c7cd15" category="list-text">Un architecte de solutions de base de données intéressé par la configuration d'Oracle Active Data Guard dans le cloud Azure.</block>
  <block id="79af86573852f19a3fb81d63d524468a" category="list-text">Un administrateur de stockage qui gère le stockage Azure NetApp Files prenant en charge Oracle Data Guard.</block>
  <block id="7483aba493aca4cae17203fc4f72e9b5" category="list-text">Un propriétaire d’application qui aime mettre en place Oracle Data Guard dans un environnement cloud Azure.</block>
  <block id="0f1e5763d303b05dc0c9f30135bb0d6e" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement de laboratoire cloud Azure qui peut ne pas correspondre à l’environnement de déploiement utilisateur réel. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="df427984e8736c269d2bd236d929f403" category="inline-image-macro">Cette image fournit une image détaillée de l’implémentation d’Oracle Data Guard dans le cloud Azure sur ANF.</block>
  <block id="4213c90ad1dac07a7c15a3dbf4f86905" category="paragraph"><block ref="4213c90ad1dac07a7c15a3dbf4f86905" category="inline-image-macro-rx" type="image"></block></block>
  <block id="85dec17e5aae8074e9cc2265ba72e4f3" category="cell">Version actuelle proposée par Microsoft</block>
  <block id="bc62b56e4a468da879944f2fb5f5206f" category="cell">Deux pools de capacité de 3 Tio, niveau de service standard, qualité de service automatique</block>
  <block id="43ce18a6cfeb5b21b4398e16b32a7ae4" category="cell">Machines virtuelles Azure pour serveurs de base de données</block>
  <block id="19acc071e88e4f4be6d6d2745aacfcdb" category="cell">Standard B4ms (4 vcpus, 16 Gio de mémoire)</block>
  <block id="89d5fb7ce1143cba364c8e7e347d0b40" category="cell">Trois machines virtuelles de base de données, une comme serveur de base de données principal, une comme serveur de base de données de secours et la troisième comme serveur de base de données clone</block>
  <block id="c5551760a04a6751873759596b08b4e8" category="cell">Red Hat Enterprise Linux 8.6 (LVM) - x64 Gen2</block>
  <block id="5c014f8939a89da0166a347a0237cf4f" category="cell">SnapCenter</block>
  <block id="55e907e9a7937a6e4e6f8b54b8fa57a6" category="cell">Version 6.0.1</block>
  <block id="cbf18f668647ab0ec4b13d8ba8c954d2" category="cell">Version 6.0.1.4487</block>
  <block id="8b6f240f1b498b5883fe067867c6f22b" category="cell">dNFS activé pour Oracle</block>
  <block id="337b5233207b521e8991f995229f8051" category="cell">NTAP_NY</block>
  <block id="a8b409275df2e9ffeeebb09c97594c2f" category="cell">NTAP_NY.internal.cloudapp.net</block>
  <block id="2dbec34a65724db94f81e8533ee18192" category="cell">Attendre</block>
  <block id="67de08426fc7abdaa5edc1a974106017" category="cell">NTAP_LA</block>
  <block id="31a7da2d9051b16899472698e665728e" category="cell">NTAP_LA.internal.cloudapp.net</block>
  <block id="04715e3bbf60dfad50a2b8b7f61b2637" category="list-text">*Clone de base de données de secours.*  Lors de la réception et de l'application des journaux de transactions de la base de données principale, la base de données de secours physique peut être clonée et montée sur une machine virtuelle DB pour prendre en charge d'autres charges de travail telles que DEV, TEST ou Report.  Le clone peut être un clone fin ou épais.  À l'heure actuelle, ANF ne prend en charge que le clone épais, qui est une copie complète de la base de données de secours.  L'option de clone mince ANF sera bientôt disponible.  Pour les copies clonées de manière fine des volumes de base de données, il partage les mêmes volumes de base de données de secours et utilise la technologie de copie sur écriture pour gérer les E/S d'écriture.  Ainsi, les clones sont très efficaces en termes de stockage et peuvent être utilisés pour de nombreux autres cas d'utilisation avec une allocation de stockage minimale et incrémentielle pour les nouvelles E/S d'écriture.  Cela permet de réaliser d’énormes économies de coûts de stockage en réduisant considérablement l’empreinte de stockage d’Active Data Guard.  NetApp recommande de minimiser les activités FlexClone en cas de basculement de la base de données du stockage principal vers le stockage ANF de secours afin de maintenir les performances Oracle à un niveau élevé.</block>
  <block id="6f5aee1606bc32b8cda116a18c44689a" category="list-text">*Configuration requise pour le logiciel Oracle.*  En général, une base de données de secours physique doit avoir la même version de base de données que la base de données principale, y compris les exceptions de jeu de correctifs (PSE), les mises à jour de correctifs critiques (CPU) et les mises à jour de jeu de correctifs (PSU), sauf si un processus d'application de correctif Oracle Data Guard Standby-First est en cours (comme décrit dans la note My Oracle Support 1265700.1 à l'adresse<block ref="0ab5bd35a1fa5e1394476ebbb9c4d982" category="inline-link-macro-rx"></block> .</block>
  <block id="0e308fd71b0ee649913ca390cf02390a" category="list-text">*Dimensionnement de la machine virtuelle Azure.*  Dans ces tests et validations, nous avons utilisé une machine virtuelle Azure - Standard_B4ms avec 4 vCPU et 16 Gio de mémoire.  Vous devez dimensionner la machine virtuelle Azure DB de manière appropriée en fonction du nombre de processeurs virtuels et de la quantité de RAM en fonction des exigences réelles de la charge de travail.</block>
  <block id="046a4224e07dc494210e5ccb905191d0" category="list-text">* Configuration des Azure NetApp Files .*  Les Azure NetApp Files sont alloués dans le compte de stockage Azure NetApp comme<block ref="a74c45c38136d5cb4b7be385e3a8c24e" prefix=" " category="inline-code"></block> .  Dans ces tests et validations, nous avons déployé un pool de capacité de 3 Tio pour héberger la base de données principale Oracle dans la région Est et une base de données de secours dans la région Ouest 2.  Le pool de capacité ANF propose trois niveaux de service : Standard, Premium et Ultra.   La capacité d'E/S du pool de capacité ANF est basée sur la taille du pool de capacité et son niveau de service.  Pour le déploiement en production, NetApp recommande d'effectuer une évaluation complète des besoins en débit de votre base de données Oracle et de dimensionner le pool de capacité de la base de données en conséquence.  Lors de la création d'un pool de capacité, vous pouvez définir la qualité de service sur Auto ou Manuel et le chiffrement des données au repos sur Simple ou Double.  </block>
  <block id="1aaa50d1be4baffceb38042371421cd8" category="list-text">*Configuration dNFS.*  En utilisant dNFS, une base de données Oracle exécutée sur une machine virtuelle Azure avec stockage ANF peut générer beaucoup plus d’E/S que le client NFS natif.  Le déploiement Oracle automatisé à l’aide de la boîte à outils d’automatisation NetApp configure automatiquement dNFS sur NFSv3.</block>
  <block id="338f920f41a055b87c208e43d2a356e4" category="paragraph">Il est supposé que votre base de données Oracle principale est déjà déployée dans un environnement cloud Azure au sein d’un VNet comme point de départ pour la configuration d’Oracle Data Guard.  Idéalement, la base de données principale est déployée sur un stockage ANF avec montage NFS.  Trois points de montage NFS sont créés pour le stockage de la base de données Oracle : mount /u01 pour les fichiers binaires Oracle, mount /u02 pour les fichiers de données Oracle et un fichier de contrôle, mount /u03 pour les fichiers journaux Oracle actuels et archivés, et un fichier de contrôle redondant.</block>
  <block id="476971b1fe4337b058f08247a46b4dc0" category="paragraph">Votre base de données Oracle principale peut également être exécutée sur un stockage NetApp ONTAP ou tout autre stockage de votre choix au sein de l’écosystème Azure ou d’un centre de données privé.  La section suivante fournit des procédures de déploiement étape par étape pour la configuration d’un Oracle Data Guard entre une base de données Oracle principale dans Azure avec stockage ANF et une base de données Oracle de secours physique dans Azure avec stockage ANF.</block>
  <block id="ffa369d3a2435033b454caec664bfafd" category="list-text">Un compte cloud Azure a été configuré et les sous-réseaux VNet et réseau nécessaires ont été créés dans votre compte Azure.</block>
  <block id="ed826a0ea4b8d674a29a54acb3442471" category="inline-link-macro">Machines virtuelles Azure</block>
  <block id="b40c72cf070584523ea9769beaa38246" category="list-text">À partir de la console du portail cloud Azure, vous devez déployer au moins trois machines virtuelles Azure Linux, une comme serveur de base de données Oracle principal, une comme serveur de base de données Oracle de secours et un serveur de base de données cible cloné pour la création de rapports, le développement, les tests, etc. Consultez le diagramme d'architecture dans la section précédente pour plus de détails sur la configuration de l'environnement.  Consultez également le site Microsoft<block ref="e2b42370d5c3948995fa1fb7ff8ecba8" category="inline-link-macro-rx"></block> pour plus d'informations.</block>
  <block id="ee71904859506ab4263b22bf4e8f4d97" category="list-text">La base de données Oracle principale doit avoir été installée et configurée sur le serveur de base de données Oracle principal.  En revanche, dans le serveur de base de données Oracle de secours ou le serveur de base de données Oracle clone, seul le logiciel Oracle est installé et aucune base de données Oracle n'est créée.  Idéalement, la disposition des répertoires de fichiers Oracle doit correspondre exactement sur tous les serveurs de base de données Oracle.  Pour plus de détails sur la recommandation NetApp pour le déploiement automatisé d’Oracle dans le cloud Azure et ANF, veuillez vous référer aux rapports techniques suivants pour obtenir de l’aide.</block>
  <block id="b69512ba398655f814ba260d85e13caf" category="list-text"><block ref="b69512ba398655f814ba260d85e13caf" category="inline-link-macro-rx"></block></block>
  <block id="674796d8d6c4f9b57ac77f0d52b9cdb6" category="admonition">Assurez-vous d’avoir alloué au moins 128 Go dans le volume racine des machines virtuelles Azure afin de disposer de suffisamment d’espace pour préparer les fichiers d’installation d’Oracle.</block>
  <block id="8c060d9ae24c7bc4518e54cd5ed13098" category="inline-link-macro">Démarrage rapide : configurer Azure NetApp Files et créer un volume NFS</block>
  <block id="06930c45b128808fe22a3ec3d6169a96" category="list-text">À partir de la console du portail cloud Azure, déployez deux pools de capacité de stockage ANF pour héberger les volumes de base de données Oracle.  Les pools de capacité de stockage ANF doivent être situés dans différentes régions pour imiter une véritable configuration DataGuard.  Si vous n'êtes pas familier avec le déploiement du stockage ANF, consultez la documentation<block ref="1bbe5611068f9dda0e0123e846af8b8b" category="inline-link-macro-rx"></block> pour des instructions étape par étape.</block>
  <block id="e33c6d7db8a7a86db5ccfddecb81897f" category="inline-image-macro">Capture d’écran montrant la configuration de l’environnement Azure.</block>
  <block id="0cde9322261368b3e9ada8dc4e45433d" category="paragraph"><block ref="0cde9322261368b3e9ada8dc4e45433d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5444565322807053cf9a28647b9dd806" category="list-text">Lorsque la base de données Oracle principale et la base de données Oracle de secours sont situées dans deux régions différentes, une passerelle VPN doit être configurée pour autoriser le flux de trafic de données entre deux réseaux virtuels distincts.  La configuration détaillée du réseau dans Azure dépasse le cadre de ce document.  Les captures d'écran suivantes fournissent des références sur la manière dont les passerelles VPN sont configurées, connectées et dont le flux de trafic de données est confirmé en laboratoire.</block>
  <block id="88f0b1bce53ef0373663761415061e8a" category="paragraph">Passerelles VPN de laboratoire :<block ref="4f8175090220e33ac069ea5dcc8ae42c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="85ab9d24012e609a3c1d3ef2a3fd3c31" category="paragraph">La passerelle vnet principale :<block ref="dc4cd1d2627a831b684872669edaf1da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="652ec542aee86abb50fcf4a256e17377" category="paragraph">État de la connexion de la passerelle Vnet :<block ref="05674beddf8c009b66f52c183f504bd1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b6c40030ae531d13cc6979f8ec327095" category="paragraph">Valider que les flux de trafic sont établis (cliquez sur les trois points pour ouvrir la page) :<block ref="ccee1c77780b1e530d143226fe3a4a10" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23f6537ae49a0f2ea8867ca748da301c" category="paragraph">Dans cette démonstration, nous avons configuré une base de données Oracle principale appelée NTAP sur le serveur Azure DB principal avec trois points de montage NFS : /u01 pour le binaire Oracle, /u02 pour les fichiers de données Oracle et un fichier de contrôle Oracle, /u03 pour les journaux actifs Oracle, les fichiers journaux archivés et un fichier de contrôle Oracle redondant.  Ce qui suit illustre les procédures détaillées de configuration de la base de données principale pour la protection Oracle Data Guard.  Toutes les étapes doivent être exécutées en tant que propriétaire de la base de données Oracle ou par défaut<block ref="a189c633d9995e11bf8607170ec9a4b8" prefix=" " category="inline-code"></block> utilisateur.</block>
  <block id="e3233dee851571ab0b05882fd75b67ea" category="list-text">La base de données principale NTAP sur le serveur Azure DB principal orap.internal.cloudapp.net est initialement déployée en tant que base de données autonome avec l’ANF comme stockage de base de données.</block>
  <block id="e55541d2bbbb4bdac3a112c6304e5a32" category="list-text">Connectez-vous au serveur de base de données principal en tant qu'utilisateur Oracle.  Connectez-vous à la base de données via sqlplus, activez la journalisation forcée sur le primaire.</block>
  <block id="95b5a36409ab1e34b31ffb5261dda901" category="list-text">Depuis sqlplus, activez le flashback sur la base de données principale.  Flashback permet de rétablir facilement la base de données principale en tant que base de données de secours après un basculement.</block>
  <block id="10509c4f00df46bac19e4373e779e45a" category="list-text">Configurez l'authentification du transport de rétablissement à l'aide du fichier de mot de passe Oracle - créez un fichier pwd sur le principal à l'aide de l'utilitaire orapwd s'il n'est pas défini et copiez-le dans le répertoire de la base de données de secours $ORACLE_HOME/dbs.</block>
  <block id="da73c165e3e25888a132859361d1f8a9" category="list-text">Créez des journaux de rétablissement de secours sur la base de données principale avec la même taille que le fichier journal en ligne actuel.  Les groupes de journaux sont un groupe de fichiers journaux en ligne de plus.  La base de données principale peut alors rapidement passer au rôle de secours lorsqu'un basculement se produit et commence à recevoir des données de rétablissement.  Répétez la commande suivante quatre fois pour créer quatre fichiers journaux de secours.</block>
  <block id="2d45e8c06ef3bf046ded76d84125ca0b" category="list-text">À partir de sqlplus, créez un pfile à partir de spfile pour l'édition.</block>
  <block id="cc6ca465b181bec842179c065162e3a6" category="list-text">Depuis sqlplus, recréez le spfile à partir du pfile révisé pour écraser le spfile existant dans le répertoire $ORACLE_HOME/dbs.</block>
  <block id="a03784f83fc23eb62ecade006a307759" category="list-text">Modifiez Oracle tnsnames.ora dans le répertoire $ORACLE_HOME/network/admin pour ajouter db_unique_name pour la résolution de nom.</block>
  <block id="3ee89a269c95cfc958d00e3526dfeb77" category="admonition">Si vous choisissez de nommer votre serveur Azure DB différemment de la valeur par défaut, ajoutez les noms au fichier hôte local pour la résolution du nom d’hôte.</block>
  <block id="fc5c681a7e6a65cf78550259c1d37e4b" category="list-text">Ajoutez le nom du service de protection des données NTAP_NY_DGMGRL.internal.cloudapp.net pour la base de données principale au fichier listener.ora.</block>
  <block id="97a5e95ee961b0668c21ee7d5a940f1c" category="list-text">Arrêtez et redémarrez la base de données via sqlplus et vérifiez que les paramètres de protection des données sont désormais actifs.</block>
  <block id="38172db4ce82c686a901dc8b829c3b49" category="paragraph">Ceci termine la configuration de la base de données principale pour Data Guard.</block>
  <block id="31a770fda8923c41827859c59367682f" category="paragraph">Oracle Data Guard nécessite une configuration du noyau du système d'exploitation et des piles logicielles Oracle, y compris des ensembles de correctifs sur le serveur de base de données de secours, pour correspondre au serveur de base de données principal.  Pour une gestion et une simplicité aisées, la configuration de stockage de la base de données du serveur de base de données de secours doit idéalement correspondre également à celle du serveur de base de données principal, comme la disposition du répertoire de la base de données et les tailles des points de montage NFS.  Vous trouverez ci-dessous les procédures détaillées pour configurer le serveur de base de données Oracle de secours et activer Oracle DataGuard pour la protection HA/DR.  Toutes les commandes doivent être exécutées avec l'ID utilisateur propriétaire Oracle par défaut<block ref="a189c633d9995e11bf8607170ec9a4b8" prefix=" " category="inline-code"></block> .</block>
  <block id="5446e5ec60d5b828279661d24c9f6b14" category="list-text">Tout d’abord, vérifiez la configuration de la base de données principale sur le serveur de base de données Oracle principal.  Dans cette démonstration, nous avons configuré une base de données Oracle principale appelée NTAP dans le serveur de base de données principal avec trois montages NFS sur le stockage ANF.</block>
  <block id="99b4b6acb33685f8fb85368acdcb8133" category="list-text">Si vous suivez la documentation NetApp TR-4987 pour configurer le serveur de base de données de secours Oracle<block ref="b69512ba398655f814ba260d85e13caf" category="inline-link-macro-rx"></block> , utiliser une balise<block ref="086570090d3b94e251b875c9d59376ed" prefix=" " category="inline-code"></block> à l'étape 2 de<block ref="3fde1508528c4b7e4e8ed67ccec6aa4a" prefix=" " category="inline-code"></block> pour exécuter l'installation automatisée d'Oracle.  La syntaxe de commande révisée est répertoriée ci-dessous.  La balise permettra d'installer et de configurer la pile logicielle Oracle, mais ne permettra pas de créer une base de données.</block>
  <block id="05fdbf2eee600ac1e9d9ec8e14c89001" category="list-text">La configuration du serveur de base de données Oracle de secours sur le site de secours dans le laboratoire de démonstration.</block>
  <block id="9698d2d6ae189df8a801461a97af0ffa" category="list-text">Une fois le logiciel Oracle installé et configuré, définissez le répertoire d'accueil et le chemin d'accès Oracle.  De plus, à partir du répertoire de base de données de secours $ORACLE_HOME, copiez le mot de passe Oracle de la base de données principale si vous ne l'avez pas encore fait.</block>
  <block id="0658232c21e84c1a41c357f4b3221af1" category="list-text">Mettre à jour le fichier tnsnames.ora avec les entrées suivantes.</block>
  <block id="d2de60c5aa975f87f24cdf604bc2eda4" category="list-text">Lancez dbca pour instancier la base de données de secours à partir de la base de données principale NTAP.</block>
  <block id="e5036187b6856f2313a16f0d4c3639c4" category="list-text">Valider la base de données de secours dupliquée.  La base de données de secours nouvellement dupliquée est initialement ouverte en mode LECTURE SEULE.</block>
  <block id="f303f4b598c44903d4f958a556e5754c" category="list-text">Redémarrez la base de données de secours dans<block ref="19822b1b15d9eefc54c07ab49f87b100" prefix=" " category="inline-code"></block> étape et exécutez la commande suivante pour activer la récupération gérée de la base de données de secours.</block>
  <block id="34d0e7c7d4594285d2ee3d8644d9772f" category="paragraph">Ceci termine la configuration de la protection Data Guard pour NTAP du serveur principal au serveur de secours avec la récupération de secours gérée activée.</block>
  <block id="ea9320283463d5e10b454d6d13459ba2" category="list-text">Démarrez Data Guard Broker sur les bases de données principales et de secours avec la commande suivante via sqlplus.</block>
  <block id="5ee3dedda42b77708f990b7c7e931557" category="list-text">Valider l'état de la base de données dans le cadre de gestion Data Guard Broker.</block>
  <block id="5581ee08deb0114467d7c62fb3cf7214" category="paragraph">En cas de panne, Data Guard Broker peut être utilisé pour basculer instantanément la base de données principale vers la base de données de secours.  Si<block ref="1f47cdf46667a47e70a7da64a4a59b8e" prefix=" " category="inline-code"></block> est activé, Data Guard Broker peut basculer la base de données principale vers la base de données de secours lorsqu'une panne est détectée sans intervention de l'utilisateur.</block>
  <block id="072f8b9b1892cf46bbd8ccc94c6525fd" category="paragraph">Le principal avantage de l’hébergement de la base de données de secours Oracle sur l’ANF dans la configuration Oracle Data Guard est qu’elle peut être rapidement clonée pour servir de nombreux autres cas d’utilisation avec un investissement de stockage supplémentaire minimal si un clone fin est activé.  NetApp recommande d’utiliser l’outil d’interface utilisateur SnapCenter pour gérer votre base de données Oracle DataGuard.  Dans la section suivante, nous démontrons comment capturer et cloner les volumes de base de données de secours montés et en cours de récupération sur l'ANF à d'autres fins, telles que DEV, TEST, REPORT, etc., à l'aide de l'outil NetApp SnapCenter .</block>
  <block id="e8ddb61b1be0ffb488af296ef36654e9" category="paragraph">Vous trouverez ci-dessous des procédures de haut niveau pour cloner une base de données en LECTURE/ÉCRITURE à partir de la base de données de secours physique gérée dans Oracle Data Guard à l'aide de SnapCenter.  Pour obtenir des instructions détaillées sur la façon d'installer et de configurer SnapCenter pour Oracle sur ANF, veuillez vous référer au TR-4988<block ref="490ee9b45ffe73b572c2cdde5f32b530" category="inline-link-macro-rx"></block> pour plus de détails.</block>
  <block id="2cd32452e5b7c1668ea7c770bac053fb" category="list-text">Nous commençons la validation du cas d’utilisation en créant une table de test et en insérant une ligne dans la table de test de la base de données principale.  Nous validerons ensuite que la transaction traverse jusqu'au standby et enfin au clone.</block>
  <block id="27358749c7d27b33ef181e0416ab00af" category="list-text">Dans la configuration de SnapCenter , un utilisateur Unix (azureuser pour la démonstration) et des informations d'identification Azure (azure_anf pour la démonstration) ont été ajoutés à<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> dans<block ref="f4f70727dc34561dfde1a3c529b6205c" prefix=" " category="inline-code"></block> .</block>
  <block id="b88ae4d9ca99ca902a87244a31166449" category="paragraph"><block ref="b88ae4d9ca99ca902a87244a31166449" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8506441a9cc9c598ec207da7d5483249" category="list-text">Utilisez les informations d'identification azure_anf pour ajouter le stockage ANF à<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> .  Si vous disposez de plusieurs comptes de stockage ANF dans votre abonnement Azure, assurez-vous de cliquer sur la liste déroulante pour choisir le bon compte de stockage.  Nous avons créé deux comptes de stockage Oracle dédiés pour cette démonstration.</block>
  <block id="83114dd89d8a4b3e299b9bafabe933ed" category="paragraph"><block ref="83114dd89d8a4b3e299b9bafabe933ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ad8e67e7e6ddf4f9059c84b3ef529db" category="list-text">Tous les serveurs de base de données Oracle ont été ajoutés à SnapCenter<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> .</block>
  <block id="02ab2d789c472986838969bcb1d7b055" category="paragraph"><block ref="02ab2d789c472986838969bcb1d7b055" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b86d0a49c602ae82d6eab5152a65ec9" category="admonition">Le serveur de base de données clone doit avoir des piles logicielles Oracle identiques installées et configurées.  Dans notre cas de test, le logiciel Oracle 19C est installé et configuré, mais aucune base de données n'est créée.</block>
  <block id="851a04fb6142b36a0faa03412b54529e" category="paragraph"><block ref="851a04fb6142b36a0faa03412b54529e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53b8bf5236b6c7bd5de540264f9662cb" category="list-text">Appliquer une politique de sauvegarde pour protéger la base de données de secours dans<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> languette.  Lors de la découverte initiale, l'état de la base de données s'affiche comme suit :<block ref="4aa6066b3ed6d1b995450c6c7ad4a3d8" prefix=" " category="inline-code"></block> .</block>
  <block id="e6dccd80eeecc8522d016c50603f7c66" category="paragraph"><block ref="e6dccd80eeecc8522d016c50603f7c66" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1bdc3faaf34069dccd0ee53ae64e8930" category="list-text">Vous avez la possibilité de déclencher une sauvegarde manuellement ou de la planifier à une heure définie après l'application d'une politique de sauvegarde.</block>
  <block id="0b9638940486be86ab019291bcdf236d" category="paragraph"><block ref="0b9638940486be86ab019291bcdf236d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d8f3ae4ab4171c1cbd200327377acf2" category="list-text">Après une sauvegarde, cliquez sur le nom de la base de données pour ouvrir la page de sauvegarde de la base de données.  Sélectionnez une sauvegarde à utiliser pour le clonage de la base de données et cliquez sur<block ref="ff24590464659ee8cdec688128c35f89" prefix=" " category="inline-code"></block> bouton pour lancer le workflow de clonage.</block>
  <block id="c1cdb3a269fd76cc7dfb2c77c98e9b22" category="paragraph"><block ref="c1cdb3a269fd76cc7dfb2c77c98e9b22" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9321d07871449f3537267c6fddaede8a" category="list-text">Sélectionnez le<block ref="6d966589c645cae872f42060de0bbe70" prefix=" " category="inline-code"></block> et nommez l'instance clone SID.</block>
  <block id="52be8ae8d2b018176d42b89ef57a3613" category="paragraph"><block ref="52be8ae8d2b018176d42b89ef57a3613" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7971008d84e34395fccaf6e7329449dc" category="list-text">Sélectionnez le serveur de base de données cloné, qui héberge la base de données clonée à partir de la base de données de secours.  Acceptez la valeur par défaut pour les fichiers de données et les journaux de rétablissement.  Placez un fichier de contrôle sur le point de montage /u03.</block>
  <block id="73f43b472e74c6289400f654cae3f68b" category="paragraph"><block ref="73f43b472e74c6289400f654cae3f68b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9e26d07e217e7fb5469ae943c2ad43ab" category="list-text">Aucune information d'identification de base de données n'est nécessaire pour l'authentification basée sur le système d'exploitation.  Faites correspondre les paramètres d'accueil d'Oracle avec ce qui est configuré sur le serveur de base de données cloné.</block>
  <block id="abcec197c9f755ec665ceab70ace785c" category="paragraph"><block ref="abcec197c9f755ec665ceab70ace785c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ee66e850ff33ce8c5dcd87b850c6eb62" category="list-text">Modifiez les paramètres de la base de données clonée si nécessaire, par exemple en réduisant la taille PGA ou SGA pour une base de données clonée.  Spécifiez les scripts à exécuter avant le clonage, le cas échéant.</block>
  <block id="99f228e767c81f60c164cfe312c99407" category="paragraph"><block ref="99f228e767c81f60c164cfe312c99407" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3a68f972884eacded1a347d684cde6e" category="list-text">Entrez SQL à exécuter après le clone.  Dans la démo, nous avons exécuté des commandes pour désactiver le mode d'archivage de base de données pour une base de données dev/test/report.</block>
  <block id="6d6e14846373f96586278facb479f46b" category="paragraph"><block ref="6d6e14846373f96586278facb479f46b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49eef0b2da7844e7c9217fd1a38fed2c" category="paragraph"><block ref="49eef0b2da7844e7c9217fd1a38fed2c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="555609024b2674cfeaeede0ae73efd04" category="paragraph"><block ref="555609024b2674cfeaeede0ae73efd04" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ea157be665e5e852ad2af6c86e0b6a5e" category="list-text">Surveiller le travail de clonage dans<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> languette.  Nous avons observé qu'il fallait environ 14 minutes pour cloner une base de données d'environ 950 Go de volume de base de données.</block>
  <block id="0b1e7ddf072c7fd62297ea971fa67a91" category="paragraph"><block ref="0b1e7ddf072c7fd62297ea971fa67a91" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ed1cd7d9286032dc1d4d8c1cebc8c4fa" category="paragraph"><block ref="ed1cd7d9286032dc1d4d8c1cebc8c4fa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6009b71b10a93975ded6c094cea08e7b" category="list-text">Interrogez la base de données clonée à partir du serveur de base de données clonée.  Nous avons validé que la transaction de test qui s'est produite dans la base de données principale avait été transmise à la base de données clone.</block>
  <block id="6de3ee6cf49309efa9ee555799d83dc9" category="paragraph">Ceci termine la démonstration du clone de base de données de secours Oracle dans le stockage Oracle Data Guard sur Azure ANF pour DEV, TEST, REPORT ou tout autre cas d'utilisation.  Plusieurs bases de données Oracle peuvent être clonées à partir de la même base de données de secours dans Oracle Data Guard sur ANF.</block>
  <block id="2a5eba546233f90579d3260dd00dbd31" category="list-text">TR-4988 : Sauvegarde, récupération et clonage de bases de données Oracle sur ANF avec SnapCenter</block>
  <block id="244eaea39e1742e612ba3ce80558cb17" category="paragraph"><block ref="244eaea39e1742e612ba3ce80558cb17" category="inline-link-macro-rx"></block></block>
  <block id="cf47eb0008cf0223ebb97c83c23361d9" category="paragraph"><block ref="cf47eb0008cf0223ebb97c83c23361d9" category="inline-link-macro-rx"></block></block>
  <block id="ef024b787204cedd20ab38792eb8aa97" category="list-text">Concepts et administration d'Oracle Data Guard</block>
  <block id="300ff7c5525219cf0316ee35285ce086" category="summary">La solution fournit une vue d'ensemble et des détails pour une récupération rapide d'Oracle VLDB déployé sur une instance de calcul Azure VM avec montage NFS sur un pool de capacité Azure NetApp Files pour préparer une copie de base de données de secours qui est fusionnée de manière incrémentielle en permanence via RMAN.</block>
  <block id="af9bda0d447d00102cfa07c616299ce9" category="doc">TR-4990 : Récupération rapide d'Oracle VLDB avec fusion incrémentielle sur ANF</block>
  <block id="22260d0205fff2334c6db0210fe74e87" category="paragraph">Cette solution fournit une vue d'ensemble et des détails pour une récupération rapide d'Oracle VLDB déployé sur une instance de calcul Azure VM avec montage NFS sur un pool de capacité Azure NetApp Files pour préparer une copie de base de données de secours qui est fusionnée de manière incrémentielle en permanence via RMAN.</block>
  <block id="36c33b5f7d9b9effb307d69b5d9bbfcd" category="paragraph">Si vous êtes intéressé par le SLA pour votre VLDB et que vous envisagez de déplacer la base de données Oracle vers un cloud public tel qu'Azure, vous pouvez configurer une structure de protection de base de données similaire à l'aide de ressources telles que Microsoft Azure NetApp Files (ANF) pour préparer votre copie d'image de base de données de secours.  Dans cette documentation, nous démontrons comment provisionner et exporter un système de fichiers NFS à partir d'un pool de capacité ANF pour le monter sur un serveur de base de données Oracle afin de préparer une copie de base de données de secours pour une récupération rapide en cas de panne de stockage principal.</block>
  <block id="7c743caa66583893abbd5fd02fcd8c44" category="list-text">Une fusion incrémentielle de copie d'image Oracle VLDB via RMAN sur le point de montage NFS du stockage du pool de capacité Microsoft ANF.</block>
  <block id="c7b169899b3bf3e517397a1e66b1f9ba" category="list-text">Récupération rapide d'un Oracle VLDB en cas de panne sur la même VM du serveur de base de données Azure.</block>
  <block id="3ddf9d0387ffbe57231793a1a3a59444" category="list-text">Récupération rapide d'un Oracle VLDB en cas de panne sur une VM de serveur de base de données Azure de secours.</block>
  <block id="96f297eca8d0059e7b41d63cbfa46bb8" category="list-text">Un administrateur de base de données qui configure la fusion incrémentielle de copie d'image Oracle VLDB via RMAN dans Azure pour une récupération plus rapide de la base de données.</block>
  <block id="86cc76cfb1ceaac3aaa0bace96f788de" category="list-text">Un architecte de solutions de base de données qui teste les charges de travail Oracle dans le cloud public Azure.</block>
  <block id="a92ab2bd86f06e76dca598f233e87f33" category="list-text">Un administrateur de stockage qui gère les bases de données Oracle déployées sur le stockage du pool de capacité ANF.</block>
  <block id="96ffa3242f6ce78c662078c986d2dd13" category="list-text">Un propriétaire d’application qui souhaite mettre en place des bases de données Oracle dans un environnement cloud Azure.</block>
  <block id="a16384631c8a3c77092c08c44ebe3627" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement de stockage de pool de capacité Microsoft ANF et de calcul Azure VM qui pourrait ne pas correspondre à l'environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="df5be9cce2556109a991648585423150" category="inline-image-macro">Cette image fournit une image détaillée de l’implémentation de la fusion incrémentielle Oracle VLDB dans le cloud public Azure avec ANF.</block>
  <block id="5a582736ed938dddf357783a0920aa5d" category="paragraph"><block ref="5a582736ed938dddf357783a0920aa5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="952ad133c322e6ea15c7668391a420d8" category="cell">Stockage de l'ANF</block>
  <block id="16f2328b190976509986f33db9227d85" category="cell">Stockage en pool de capacité ANF de 2 Tio avec niveau de service Premium</block>
  <block id="6d06f0bd5a2f3059a22e9257d7c1a905" category="cell">2 machines virtuelles, une comme serveur de base de données principal et l'autre comme serveur de secours</block>
  <block id="2e705b831fd1a05f9ff862ccde72a99f" category="list-text">*Disposition de stockage Oracle VLDB pour la fusion incrémentielle RMAN.*  Dans nos tests et validations, le volume NFS pour la sauvegarde incrémentielle et la fusion Oracle est alloué à partir d'un seul pool de capacité ANF, qui dispose de 100 Tio par volume et d'une limite de capacité totale de 1 000 Tio.  Pour un déploiement au-delà des seuils, plusieurs volumes et pools de capacité ANF peuvent être concaténés en parallèle avec plusieurs points de montage NFS pour fournir une capacité supérieure.</block>
  <block id="fa44cff8a0d3a1bde3e39afbd57dc266" category="list-text">*Récupération Oracle à l'aide de la fusion incrémentielle RMAN.*  La sauvegarde incrémentielle et la fusion RMAN sont généralement exécutées à une fréquence définie par l'utilisateur en fonction de vos objectifs RTO et RPO.  En cas de perte totale du stockage de données primaires et/ou des journaux archivés, la perte de données peut se produire.  La base de données Oracle peut être récupérée jusqu'à la dernière sauvegarde incrémentielle disponible à partir de la copie d'image de sauvegarde de la base de données ANF.  Pour minimiser la perte de données, la zone de récupération flash Oracle peut être configurée sur le point de montage ANF NFS et les journaux archivés sont sauvegardés sur le montage ANF NFS avec la copie de l'image de la base de données.</block>
  <block id="30de34c3a06eca8594944e005f614d80" category="list-text">*Exécution d'Oracle VLDB à partir du système de fichiers ANF NFS.*  Contrairement à d’autres stockages en masse pour la sauvegarde de bases de données, Microsoft ANF est un stockage de qualité production compatible cloud qui offre un niveau élevé de performances et d’efficacité de stockage.  Une fois qu'Oracle VLDB passe du stockage principal à la copie d'image sur le système de fichiers ANF NFS, les performances de la base de données peuvent être maintenues à un niveau élevé pendant que la panne du stockage principal est résolue.  Vous pouvez être rassuré de savoir que l’expérience de l’application utilisateur ne souffre pas d’une défaillance du stockage principal.</block>
  <block id="98ba9c7927b5d14764e8115588d2d54d" category="list-text">*Instances de calcul Azure.*  Dans ces tests et validations, nous avons utilisé les machines virtuelles Azure Standard_B4ms comme serveurs de base de données Oracle.  Il existe d’autres machines virtuelles Azure qui peuvent être optimisées et mieux adaptées à la charge de travail de la base de données.  Vous devez également dimensionner la machine virtuelle Azure de manière appropriée en fonction du nombre de processeurs virtuels et de la quantité de RAM en fonction des exigences réelles de la charge de travail.</block>
  <block id="f09ca0335aec5f261a1b868e570f0505" category="list-text">*Niveau de service du pool de capacité ANF.*  Le pool de capacité ANF propose trois niveaux de service : Standard, Premium, Ultra.  Par défaut, une QoS automatique s'applique à un volume créé dans un pool de capacité, ce qui limite le débit sur le volume.  Le débit d'un volume peut être ajusté manuellement en fonction de la taille du pool de capacité et du niveau de service.</block>
  <block id="4d189a9c9e5d55cc3a34938358e133d3" category="list-text">*Configuration dNFS.* dNFS est intégré au noyau Oracle et est connu pour augmenter considérablement les performances de la base de données Oracle lorsque Oracle est déployé sur le stockage NFS. dNFS est empaqueté dans le binaire Oracle mais n'est pas activé par défaut.  Il doit être activé pour tout déploiement de base de données Oracle sur NFS.  Pour le déploiement de plusieurs pools de capacité ANF pour un VLDB, les chemins multiples dNFS vers différents stockages de pools de capacité ANF doivent être correctement configurés.</block>
  <block id="5ae994fde73945264c47ce48647d57b2" category="paragraph">Il est supposé que votre Oracle VLDB est déjà déployé dans un environnement cloud Azure au sein d’un VNet.  Si vous avez besoin d’aide sur le déploiement d’Oracle dans Azure, veuillez vous référer aux rapports techniques suivants pour obtenir de l’aide.</block>
  <block id="3914554f3e4d9e4c6db0b30795651877" category="inline-link-macro">Déploiement Oracle simplifié et automatisé sur Azure NetApp Files avec NFS</block>
  <block id="3229de008a550a1b47ddb6964fa5485c" category="list-text"><block ref="3229de008a550a1b47ddb6964fa5485c" category="inline-link-macro-rx"></block></block>
  <block id="879f2366c198b1fc05740657cacebcc1" category="inline-link-macro">Déploiement et protection de la base de données Oracle sur Azure NetApp Files</block>
  <block id="859aec84cfff3ac536a9719c48b75c30" category="list-text"><block ref="859aec84cfff3ac536a9719c48b75c30" category="inline-link-macro-rx"></block></block>
  <block id="a3f00a7e147e7b84aa2b711174f65541" category="paragraph">Votre Oracle VLDB peut s’exécuter sur un stockage ANF ou sur tout autre stockage de votre choix au sein de l’écosystème cloud Azure.  La section suivante fournit des procédures de déploiement étape par étape pour la configuration de la fusion incrémentielle RMAN sur une copie d'image d'un Oracle VLDB qui est en cours de préparation dans un montage NFS hors stockage ANF.</block>
  <block id="dda1820cbe40a6a04b7c08135677cb5f" category="list-text">Un compte Azure a été configuré et les segments de réseau et de réseau virtuel Azure nécessaires ont été créés dans votre compte Azure.</block>
  <block id="ee50869919154f8e0bb1c9a79b0e68bf" category="inline-link-macro">Série de machines virtuelles Azure</block>
  <block id="12b67dd937a6aa2aac9654fe14c80158" category="list-text">À partir de la console du portail Azure, vous devez déployer deux instances de machine virtuelle Azure, une comme serveur de base de données Oracle principal et un serveur de base de données de secours facultatif.  Consultez le diagramme d’architecture dans la section précédente pour plus de détails sur la configuration de l’environnement.  Consultez également le<block ref="0bcbff73d1e13f874b4c63b6603f9a12" category="inline-link-macro-rx"></block> pour plus d'informations.</block>
  <block id="2439b2fcc93766c923093f1c217cff51" category="list-text">À partir de la console du portail Azure, déployez le stockage ANF pour héberger les volumes NFS qui stockent la copie de l’image de secours de la base de données Oracle.  Si vous n'êtes pas familier avec le déploiement d'ANF, consultez la documentation<block ref="1bbe5611068f9dda0e0123e846af8b8b" category="inline-link-macro-rx"></block> pour des instructions étape par étape.</block>
  <block id="c78f04ded81296476b99e27cfcf8b81e" category="admonition">Assurez-vous d’avoir alloué au moins 128 Go au volume racine de la machine virtuelle Azure afin de disposer de suffisamment d’espace pour préparer les fichiers d’installation d’Oracle.</block>
  <block id="57ce3e90b99a309ad26ec73de2896ff9" category="section-title">Provisionner et exporter le volume NFS à monter sur le serveur Oracle VLDB principal</block>
  <block id="48e63302f12330ed309d536a92b3ff3d" category="paragraph">Dans cette section, nous montrons le provisionnement d’un volume NFS à partir d’un pool de capacité ANF via la console du portail Azure.  Répétez les procédures sur d’autres pools de capacité ANF si plusieurs pools de capacité ANF sont configurés pour prendre en charge la taille de la base de données.</block>
  <block id="edc598e26c4191781ff6fb9a427f3e26" category="list-text">Tout d’abord, à partir de la console du portail Azure, accédez au pool de capacité ANF utilisé pour préparer la copie de l’image Oracle VLDB.</block>
  <block id="db13e5cf484d3e563e6a6313426b51c3" category="inline-image-macro">Cette image fournit l'écran de provisionnement du volume ANF à l'aide de la console du portail Azure</block>
  <block id="1e83ea8a6e8cd0a02ac2c348ae00c565" category="paragraph"><block ref="1e83ea8a6e8cd0a02ac2c348ae00c565" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5ba92870c86eabfee4cc4cc8bd42317" category="list-text">À partir du pool de capacité sélectionné -<block ref="11e0eed8d3696c0a632f822df385ab3c" prefix=" " category="inline-code"></block> , cliquez<block ref="c6f01c78bfe0a0a495cb5d3ed77824a9" prefix=" " category="inline-code"></block> et puis,<block ref="da20d395d0cd59983278111b9c95d6c3" prefix=" " category="inline-code"></block> pour lancer le flux de travail d'ajout de volume.</block>
  <block id="8141b7ec7aec9bed8e05062ee1fd6a11" category="paragraph"><block ref="8141b7ec7aec9bed8e05062ee1fd6a11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1318d277156dfc7ca8b396a8bacab47d" category="list-text">Remplir<block ref="7ffce295d6c61cb38fd76a4e505cdb33" prefix=" " category="inline-code"></block> ,<block ref="d2d5c3e087f684e56b5b81d6212d7ccb" prefix=" " category="inline-code"></block> ,<block ref="bf76cafc47141522dca89c4d6e25b822" prefix=" " category="inline-code"></block> , et<block ref="48d32046f376779858d068d73d85f80e" prefix=" " category="inline-code"></block> déménager à<block ref="888a77f5ac0748b6c8001822417df8b6" prefix=" " category="inline-code"></block> page.</block>
  <block id="3b8d4c9b49219e733e7e1caac71ea58b" category="paragraph"><block ref="3b8d4c9b49219e733e7e1caac71ea58b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ca80750436bdab142d2e43cd1ef42cf" category="list-text">Prenez note du chemin du fichier, entrez la plage CIDR des clients autorisés et activez<block ref="677c422f11e77a5df1d44e4f6c517954" prefix=" " category="inline-code"></block> pour le volume.</block>
  <block id="79bf0eefa3fd47307e8b7e15e106cab7" category="paragraph"><block ref="79bf0eefa3fd47307e8b7e15e106cab7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3df3ccf0cba7ad3be7d9143f84d067b4" category="list-text">Ajoutez une balise de volume si vous le souhaitez.</block>
  <block id="eb782355945736b6c51aad301842df5d" category="paragraph"><block ref="eb782355945736b6c51aad301842df5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="427d09585c379ab8f0af7219a6cac2a1" category="list-text">Révisez et créez le volume.</block>
  <block id="0d864297daf4cabd371c2a5d525d209b" category="paragraph"><block ref="0d864297daf4cabd371c2a5d525d209b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d0f312ff08c789fc7e37000b9637b9c6" category="list-text">Connectez-vous au serveur Oracle VLDB principal en tant qu'utilisateur avec privilège sudo et montez le volume NFS exporté depuis le stockage ANF.  Modifiez l'adresse IP et le chemin d'accès au fichier de votre serveur NFS ANF si nécessaire.  L'adresse IP du serveur NFS ANF peut être récupérée à partir de la page de la console du volume ANF.</block>
  <block id="73304323457935ed833c76e67c23f068" category="section-title">Configurer la fusion incrémentielle Oracle RMAN pour copier l'image sur ANF</block>
  <block id="ec95b19db84d374be749fe05dbb34147" category="list-text">Connectez-vous au serveur Oracle VLDB principal en tant qu'utilisateur Oracle.</block>
  <block id="9466e78eda574ac1c2b0373b37e691eb" category="list-text">Créez un répertoire oracopy sous le point de montage /nfsanf pour stocker les copies d'image des fichiers de données Oracle et le répertoire archlog pour la zone de récupération flash Oracle.</block>
  <block id="94c15d2a6c277de2e60033355a135ffd" category="list-text">Connectez-vous à la base de données Oracle via sqlplus, activez le suivi des modifications de bloc pour une sauvegarde incrémentielle plus rapide et modifiez la zone de récupération flash Oracle en montage NFS ANF si elle se trouve actuellement sur le stockage principal.  Cela permet de sauvegarder le fichier de contrôle par défaut RMAN/SPfile et les journaux archivés automatiquement sur le montage NFS ANF pour la récupération.</block>
  <block id="d15e02bf0c54e008af2e8212aa7c7d4f" category="paragraph">Résultat attendu :</block>
  <block id="fb6dc8561460f909af465eb0cfcfd84d" category="list-text">Sur le serveur Oracle VLDB principal, connectez-vous à RMAN localement en tant qu'utilisateur Oracle avec ou sans catalogue RMAN.  Dans cette démonstration, nous ne nous connectons pas à un catalogue RMAN.</block>
  <block id="c937bbcfc1739e03f02ce386195ec2fc" category="list-text">Répertoriez la copie de l'image de la base de données après la sauvegarde pour observer qu'une copie de l'image de la base de données a été créée dans le point de montage NFS ANF.</block>
  <block id="7d3185dbec5bee3286899aa1908bdbc4" category="list-text">Schéma de rapport à partir de l'invite de commande Oracle RMAN pour observer que les fichiers de données VLDB actuels se trouvent sur le stockage principal.</block>
  <block id="0c6f3c70d69fdbc10889c0bf3d54d400" category="paragraph">Ceci termine la configuration d'une sauvegarde et d'une fusion de copie d'image de secours Oracle VLDB.</block>
  <block id="1afaba9f41e3dd6015389dd6a151412d" category="section-title">Basculez Oracle VLDB vers une copie d'image pour une récupération rapide</block>
  <block id="dfba912cd166af4cfe8896146ef629da" category="paragraph">En cas de panne due à un problème de stockage principal tel qu'une perte ou une corruption de données, la base de données peut être rapidement basculée vers une copie d'image sur un montage NFS ANF et récupérée à son état actuel sans restauration de la base de données.  L’élimination de la restauration des supports accélère considérablement la récupération de la base de données pour un VLDB.  Ce cas d'utilisation suppose que le serveur de base de données Oracle VLDB est intact et que le fichier de contrôle de la base de données, les journaux archivés et actuels sont tous disponibles pour la récupération.</block>
  <block id="15f67ba350e31e49f6aac9b603305228" category="list-text">Connectez-vous à l’hôte du serveur VLDB principal Azure en tant qu’utilisateur Oracle et créez une table de test avant le basculement.</block>
  <block id="dce3cc3b84024400ca1056239e416340" category="list-text">Vérifiez la structure de la base de données à partir de sqlplus après la récupération pour observer que tous les fichiers de données VLDB à l'exception des fichiers journaux de contrôle, temporaires et actuels sont désormais basculés vers la copie sur le système de fichiers ANF NFS.</block>
  <block id="bab07f680481d370684c7c7bb3717bae" category="list-text">Depuis SQL plus, vérifiez le contenu de la table de test que nous avons insérée avant le passage à la copie.</block>
  <block id="26644cbe4753a4ade8012d2ba03e81e4" category="list-text">Vous pouvez exécuter Oracle VLDB dans le montage NFS ANF pendant une période prolongée tout en maintenant le niveau de performances attendu.  Une fois le problème de stockage principal résolu, vous pouvez y revenir en inversant les processus de fusion de sauvegarde incrémentielle avec un temps d'arrêt minimal.</block>
  <block id="5a00ad02f147850c7af23fdfd27e0eaa" category="section-title">Récupération d'Oracle VLDB à partir d'une copie d'image vers un serveur de base de données de secours</block>
  <block id="17296cbb22286362e179c848e8e57295" category="paragraph">En cas de panne où le stockage principal et l'hôte du serveur de base de données principal sont perdus, la récupération ne peut pas être effectuée à partir du serveur d'origine.  Cependant, votre copie d'image de sauvegarde de base de données Oracle disponible sur le système de fichiers ANF NFS est pratique.  Vous pouvez rapidement récupérer la base de données principale sur un serveur de base de données de secours s'il en existe un disponible, à l'aide de la copie d'image de sauvegarde.  Dans cette section, nous allons démontrer les procédures étape par étape pour une telle récupération.</block>
  <block id="6936d296c2b811c489aca0e32d359fcd" category="list-text">Insérez une ligne pour tester la table que nous avons créée précédemment pour la restauration d'Oracle VLDB vers une validation d'hôte alternatif.</block>
  <block id="f18d7c57a5ebb3caa3ea2bfe276de7f2" category="list-text">En tant qu'utilisateur Oracle, exécutez la sauvegarde incrémentielle RMAN et fusionnez pour vider la transaction vers l'ensemble de sauvegarde sur le montage NFS ANF.</block>
  <block id="cb94a5220dfad4d0aa2f693c894fb9e9" category="list-text">Arrêtez l'hôte du serveur VLDB principal pour simuler une panne totale de l'hôte du serveur de stockage et de base de données.</block>
  <block id="e761e3a893aaa3520b400ce648ab8a6a" category="list-text">Sur le serveur DB de secours ora-02 avec le même système d'exploitation et la même version, le noyau du système d'exploitation doit être corrigé en tant qu'hôte du serveur VLDB principal.  De plus, la même version et les mêmes correctifs d'Oracle ont été installés et configurés sur le serveur de base de données de secours avec l'option logicielle uniquement.</block>
  <block id="8c37710929190bb2d41b656aeceeae08" category="list-text">Configurez l'environnement Oracle de la même manière que le serveur VLDB principal ora_01, tel que oratab et l'utilisateur Oracle .bash_profile, etc. Il est recommandé de sauvegarder ces fichiers sur le point de montage NFS ANF.</block>
  <block id="62b6592dd07cf67430eb62e8fa7a1134" category="list-text">La copie de l'image de sauvegarde de la base de données Oracle sur le système de fichiers NFS ANF est ensuite montée sur le serveur de base de données de secours pour la récupération.  Les procédures suivantes illustrent les détails du processus.</block>
  <block id="d7ee3226eda2c84f098cd207f0d54f24" category="paragraph">En tant qu'azueruser, créez le point de montage.</block>
  <block id="ad8e2a2e998153fae9d61ff8f9d9f743" category="paragraph">En tant qu’utilisateur Azure, montez le volume NFS qui stockait la copie de l’image de sauvegarde Oracle VLDB.</block>
  <block id="57037eb23ec9213da633092ef5499d2e" category="list-text">Validez la copie de l'image de sauvegarde de la base de données Oracle sur le point de montage NFS ANF.</block>
  <block id="ebb08557fe1c4afb90525797dd43db2e" category="list-text">Vérifiez les journaux archivés Oracle disponibles sur le montage NFS ANF pour la récupération et notez le dernier numéro de séquence du journal du fichier journal.  Dans ce cas, c'est 10.  Notre point de récupération se situe jusqu'à la séquence de journal numéro 11.</block>
  <block id="a4182a7080e9f6f2151069ccb62a5457" category="list-text">En tant qu'utilisateur Oracle, définissez la variable ORACLE_HOME sur l'installation Oracle actuelle sur le serveur de base de données de secours ora-02, ORACLE_SID sur le SID de l'instance Oracle principale.  Dans ce cas, il s'agit de NTAP1.</block>
  <block id="a0cf68f6b5b4902668150f7bd93de702" category="list-text">En tant qu'utilisateur Oracle, créez un fichier d'initialisation Oracle générique dans le répertoire $ORACLE_HOME/dbs avec les répertoires d'administration appropriés configurés.  Le plus important est d'avoir Oracle<block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> pointez vers le chemin de montage ANF NFS tel que défini dans le serveur Oracle VLDB principal. <block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> la configuration est démontrée dans la section<block ref="73304323457935ed833c76e67c23f068" prefix=" " category="inline-code"></block> .  Définissez le fichier de contrôle Oracle sur le système de fichiers NFS ANF.</block>
  <block id="a43978f8f72cfac9215264289dc0bbc5" category="paragraph">Le fichier d'initialisation ci-dessus doit être remplacé par le fichier d'initialisation de sauvegarde restauré à partir du serveur Oracle VLDB principal en cas de divergence.</block>
  <block id="763216a4e00351ecca33c64834ed517e" category="list-text">En tant qu'utilisateur Oracle, lancez RMAN pour exécuter la récupération Oracle sur l'hôte du serveur de base de données de secours.  Tout d’abord, démarrez l’instance Oracle dans<block ref="b407a7f2e317a40388660332475e7643" prefix=" " category="inline-code"></block> État.</block>
  <block id="8d54569996869aecad559c10bb1e2c87" category="list-text">Définir l'ID de la base de données.  L'ID de la base de données peut être récupéré à partir du nom de fichier Oracle de la copie d'image sur le point de montage NFS ANF.</block>
  <block id="a36331bab1648a62444eb296287a6fdc" category="list-text">Restaurez le fichier init de spfile vers un dossier /tmp pour mettre à jour le fichier de paramètres ultérieurement afin qu'il corresponde au VLDB principal.</block>
  <block id="245c0febb36259f78725542aabcf3a2c" category="list-text">Validez la structure de la base de données restaurée sur le nouvel hôte ainsi que la ligne de test que nous avons insérée avant l'échec du VLDB principal.</block>
  <block id="5cfbf4ac8374e1dd5933aecbf7073072" category="list-text">Supprimez les fichiers temporaires non valides et ajoutez de nouveaux fichiers temporaires aux tablespaces temporaires.</block>
  <block id="b254731bf46f569e3541aea574a9240f" category="paragraph">Ceci termine la récupération de la base de données Oracle VLDB à partir d'une copie d'image de sauvegarde sur le système de fichiers ANF NFS vers un hôte de serveur de base de données de secours.</block>
  <block id="d3f74ca8a0731f82353c037422b4a066" category="summary">La solution fournit une vue d’ensemble et des détails pour la configuration d’une base de données Oracle Very Large Database (VLDB) à haut débit sur Microsoft Azure NetApp Files (ANF) avec Oracle Data Guard dans le cloud Azure.</block>
  <block id="ea3f52ad072d0c22eef85e7718048f10" category="doc">TR-5003 : Implémentation Oracle VLDB à haut débit sur ANF</block>
  <block id="ac2a865a5ac3beffbb6e82feb1642f5d" category="paragraph">La solution fournit une vue d’ensemble et des détails pour la configuration d’une base de données Oracle Very Large Database (VLDB) à haut débit sur Microsoft Azure NetApp Files (ANF) avec Oracle Data Guard dans le cloud Azure.</block>
  <block id="bc44c54c1ace508b8c262b89414fc118" category="inline-link-macro">Performances de la base de données Oracle sur plusieurs volumes Azure NetApp Files</block>
  <block id="7e91e431d0d705cb0deed644bfa3e158" category="paragraph">Le débit élevé et la mission critique d'Oracle VLDB imposent une forte demande en matière de stockage de base de données back-end.  Pour respecter le contrat de niveau de service (SLA), le stockage de la base de données doit fournir la capacité requise et des opérations d'entrée/sortie par seconde (IOPS) élevées tout en maintenant des performances de latence inférieures à la milliseconde.  Cela est particulièrement difficile lors du déploiement d’une telle charge de travail de base de données dans le cloud public avec un environnement de ressources de stockage partagées.  Toutes les plateformes de stockage ne sont pas créées de la même manière.  Le stockage Azure NetApp Files Premium associé à l’infrastructure Azure peut répondre aux besoins d’une charge de travail Oracle aussi exigeante.  Dans un benchmark de performance validé (<block ref="9ab2ff2b4b0ce4e627f3b2b61c4c51e7" category="inline-link-macro-rx"></block> ), ANF a fourni 2,5 millions d'IOPS en lecture avec une latence de 700 microsecondes dans une charge de travail de sélection aléatoire synthétique à 100 % via l'outil SLOB.  Avec une taille de bloc standard de 8 k, cela se traduit par un débit d'environ 20 Gio/s.</block>
  <block id="40bb9e52a428c50e9d4260327ae36ae0" category="paragraph">Dans cette documentation, nous montrons comment configurer un Oracle VLDB avec une configuration Data Guard sur un stockage ANF avec plusieurs volumes NFS et Oracle ASM pour l'équilibrage de la charge de stockage.  La base de données de secours peut être rapidement (en quelques minutes) sauvegardée via un instantané et clonée pour un accès en lecture/écriture pour les cas d'utilisation souhaités.  L'équipe d'ingénierie des solutions NetApp fournit une boîte à outils d'automatisation pour créer et actualiser facilement des clones selon un calendrier défini par l'utilisateur.</block>
  <block id="6426a2ab6b3d824d1a657f76ce59af76" category="list-text">Implémentation d’Oracle VLDB dans un paramètre Data Guard sur le stockage Microsoft Azure NetApp Files dans les régions Azure.</block>
  <block id="2bbb6519cb42fb5ad193cbb08504b0ea" category="list-text">Sauvegarde instantanée et clonage de la base de données de secours physique pour répondre à des cas d'utilisation tels que la création de rapports, le développement, les tests, etc. via l'automatisation.</block>
  <block id="576e227dcb1e0d80713bcf3c26196c6f" category="list-text">Un administrateur de base de données qui configure Oracle VLDB avec Data Guard dans le cloud Azure pour une haute disponibilité, une protection des données et une reprise après sinistre.</block>
  <block id="5753258a78d8f3a9beb9cc106e6f9034" category="list-text">Un architecte de solutions de base de données intéressé par Oracle VLDB avec configuration Data Guard dans le cloud Azure.</block>
  <block id="5274e960c7dd428c75a6144ebb308bce" category="list-text">Un administrateur de stockage qui gère le stockage Azure NetApp Files prenant en charge la base de données Oracle.</block>
  <block id="703068f950e0ca65139d87b49eb83e6f" category="list-text">Un propriétaire d’application qui aime mettre en place Oracle VLDB avec Data Guard dans un environnement cloud Azure.</block>
  <block id="cc4e806c11d730c592dbbbbbe13e7e65" category="paragraph"><block ref="cc4e806c11d730c592dbbbbbe13e7e65" category="inline-image-macro-rx" type="image"></block></block>
  <block id="958e567b3c1c55ffc247da958c959bb0" category="cell">Deux pools de capacité de 4 Tio, niveau de service Premium, qualité de service automatique</block>
  <block id="48cd7e2a04cc7a2c0db818d222feb3d9" category="cell">Patch unique dNFS</block>
  <block id="0a47877dcb480736ed911404e6680808" category="cell">p32931941_190000_Linux-x86-64.zip</block>
  <block id="5f71efbefae6963d850d2f98f4eb45a7" category="cell">Appliqué à la fois à la grille et à la base de données</block>
  <block id="ed04a43e0d6fd50cdfb484c753725112" category="cell">Version principale 2.16.2</block>
  <block id="8b4fa9fd84c38bb567a32f6a0529234a" category="cell">version Python - 3.10.13</block>
  <block id="e8194910cb10ca7dabc8efc9910a19ac" category="section-title">Configuration Oracle VLDB Data Guard avec une configuration DR simulée de New York à Los Angeles</block>
  <block id="63fee887d948a555fc7e7fa0e4048d52" category="list-text">* Configuration des Azure NetApp Files .*  Les Azure NetApp Files sont alloués dans le compte de stockage Azure NetApp comme<block ref="a74c45c38136d5cb4b7be385e3a8c24e" prefix=" " category="inline-code"></block> .  Dans ces tests et validations, nous avons déployé un pool de capacité de 2 Tio pour héberger la base de données principale Oracle dans la région Est et un pool de capacité de 4 Tio pour héberger la base de données de secours et le clone de base de données dans la région Ouest 2.  Le pool de capacité ANF propose trois niveaux de service : Standard, Premium et Ultra.  La capacité d'E/S du pool de capacité ANF est basée sur la taille du pool de capacité et son niveau de service.  Lors de la création d'un pool de capacité, vous pouvez définir la qualité de service sur Auto ou Manuel et le chiffrement des données au repos sur Simple ou Double.</block>
  <block id="469fbba4b0f5f2060092292911ed8af8" category="list-text">*Dimensionnement des volumes de la base de données.*  Pour le déploiement en production, NetApp recommande d'effectuer une évaluation complète des besoins en débit de votre base de données Oracle à partir du rapport Oracle AWR.  Tenez compte à la fois de la taille de la base de données et des exigences de débit lors du dimensionnement des volumes ANF pour la base de données.  Avec la configuration automatique QoS pour ANF, la bande passante est garantie à 128 Mio/s par capacité de volume TiB allouée avec le niveau de service Ultra.  Un débit plus élevé peut nécessiter un dimensionnement de volume plus important pour répondre aux exigences.</block>
  <block id="e169ef58267a44a036a2431b258bb8bb" category="list-text">*Volume unique ou volumes multiples.*  Un seul grand volume peut fournir un niveau de performance similaire à celui de plusieurs volumes avec la même taille globale, car la qualité de service est strictement appliquée en fonction du dimensionnement du volume et du niveau de service du pool de capacité.  Il est recommandé d'implémenter plusieurs volumes (plusieurs points de montage NFS) pour Oracle VLDB afin de mieux utiliser le pool de ressources de stockage ANF back-end partagé.  Implémentez Oracle ASM pour l’équilibrage de charge IO sur plusieurs volumes NFS.</block>
  <block id="13405dddab4bfc8f05bf4cef70d4ba34" category="list-text">*Groupe de volumes d'application.*  Déployez Application Volume Group (AVG) pour Oracle pour optimiser les performances.  Les volumes déployés par groupe de volumes d'application sont placés dans l'infrastructure régionale ou zonale pour obtenir une latence et un débit optimisés pour les machines virtuelles d'application.</block>
  <block id="e3abfd4444bd3673edd8bcaf154ef1b7" category="list-text">*Considération relative aux machines virtuelles Azure.*  Dans ces tests et validations, nous avons utilisé une machine virtuelle Azure - Standard_B4ms avec 4 vCPU et 16 Gio de mémoire.  Vous devez choisir la machine virtuelle Azure DB de manière appropriée pour Oracle VLDB avec des exigences de débit élevées.  Outre le nombre de vCPU et la quantité de RAM, la bande passante du réseau VM (entrée et sortie ou limite de débit de la carte réseau) peut devenir un goulot d'étranglement avant que la capacité de stockage de la base de données ne soit atteinte.</block>
  <block id="3e3ac9cab9c622b8cdc90f392ca12717" category="list-text">*Configuration dNFS.*  En utilisant dNFS, une base de données Oracle exécutée sur une machine virtuelle Azure avec stockage ANF peut générer beaucoup plus d’E/S que le client NFS natif.  Assurez-vous que le correctif Oracle dNFS p32931941 est appliqué pour corriger les bogues potentiels.</block>
  <block id="0dc065cc938849ffd984d61b209b4102" category="paragraph">Il est supposé que votre base de données Oracle principale est déjà déployée dans un environnement cloud Azure au sein d’un VNet comme point de départ pour la configuration d’Oracle Data Guard.  Idéalement, la base de données principale est déployée sur un stockage ANF avec montage NFS.  Votre base de données Oracle principale peut également s’exécuter sur un stockage NetApp ONTAP ou tout autre stockage de votre choix au sein de l’écosystème Azure ou d’un centre de données privé.  La section suivante illustre la configuration d’Oracle VLDB sur ANF dans un paramètre Oracle Data Guard entre une base de données Oracle principale dans Azure avec stockage ANF et une base de données Oracle de secours physique dans Azure avec stockage ANF.</block>
  <block id="b6a8795b89427b9bcedb329706ce612e" category="inline-link-macro">Déployer un groupe de volumes d'application pour Oracle</block>
  <block id="f288dca98de9fd8f68cabce75de41f63" category="list-text">Consultez cette documentation<block ref="92fe001805609a088a0730df6826e443" category="inline-link-macro-rx"></block> pour déployer Application Volume Group pour Oracle.</block>
  <block id="6de56926cf16ae7e5acadafffe9cebaa" category="section-title">Configuration principale d'Oracle VLDB pour Data Guard</block>
  <block id="3ad9c4c8e99ed69f2aabbca53120048e" category="paragraph">Dans cette démonstration, nous avons configuré une base de données Oracle principale appelée NTAP sur le serveur Azure DB principal avec six points de montage NFS : /u01 pour le binaire Oracle, /u02, /u04, /u05, /u06 pour les fichiers de données Oracle et un fichier de contrôle Oracle, /u03 pour les journaux actifs Oracle, les fichiers journaux archivés et un fichier de contrôle Oracle redondant.  Cette configuration sert de configuration de référence.  Votre déploiement réel doit prendre en compte vos besoins et exigences spécifiques en termes de dimensionnement du pool de capacité, de niveau de service, de nombre de volumes de base de données et de dimensionnement de chaque volume.</block>
  <block id="d51ded5e9f753b1b0f2beb2d3abbb5b0" category="inline-link-macro">TR-5002 - Réduction des coûts d'Oracle Active Data Guard avec Azure NetApp Files</block>
  <block id="a83e8767090057c4cce3ba759abbcdf5" category="inline-link-macro">TR-4974- Oracle 19c en redémarrage autonome sur AWS FSx/EC2 avec NFS/ASM</block>
  <block id="e816473ee6c7a0f05babc405986f6f79" category="paragraph">Pour des procédures détaillées étape par étape pour la configuration d'Oracle Data Guard sur NFS avec ASM, veuillez vous référer à<block ref="b1d6ef03bcdcd359f71dd4154c9cceb7" category="inline-link-macro-rx"></block> et<block ref="20283444534604ae8bcc997636416590" category="inline-link-macro-rx"></block> sections pertinentes.  Bien que les procédures du TR-4974 aient été validées sur Amazon FSx ONTAP, elles sont également applicables à ANF.  Ce qui suit illustre les détails d’un Oracle VLDB principal dans une configuration Data Guard.</block>
  <block id="c45548c59f7dad91372bcd725f152c39" category="list-text">La base de données principale NTAP sur le serveur Azure DB principal orap.internal.cloudapp.net est initialement déployée en tant que base de données autonome avec l'ANF sur NFS et ASM comme stockage de base de données.</block>
  <block id="7bf1a0c80391c93f6f892d9092d39902" category="list-text">Connectez-vous au serveur de base de données principal en tant qu'utilisateur Oracle.  Valider la configuration de la grille.</block>
  <block id="3ad7f7aa34443fba49a951acd20290a3" category="list-text">Configuration du groupe de disques ASM.</block>
  <block id="3cf4fb8a73e23748b1f4113ab35d63b1" category="list-text">Définition des paramètres pour Data Guard sur la base de données principale.</block>
  <block id="4af7aad920d7b025faecb6b1df125c0a" category="list-text">Configuration de la base de données principale.</block>
  <block id="e3bd7dd107adfa986e5c56078ffece74" category="list-text">Configuration dNFS sur la base de données principale.</block>
  <block id="82d34c5b758259ddb431fbc68f3c1258" category="paragraph">Ceci termine la démonstration d'une configuration Data Guard pour VLDB NTAP sur le site principal sur ANF avec NFS/ASM.</block>
  <block id="ee7ea56a90c6257d42a731fa2163e414" category="section-title">Configuration Oracle VLDB de secours pour Data Guard</block>
  <block id="073b26f74075ded1047f17ed2fb3f4e4" category="paragraph">Oracle Data Guard nécessite une configuration du noyau du système d'exploitation et des piles logicielles Oracle, y compris des ensembles de correctifs sur le serveur de base de données de secours, pour correspondre au serveur de base de données principal.  Pour une gestion et une simplicité aisées, la configuration de stockage de la base de données du serveur de base de données de secours doit idéalement correspondre également à celle du serveur de base de données principal, comme la disposition du répertoire de la base de données et les tailles des points de montage NFS.</block>
  <block id="b13373feb0d0480cb26331702f9f72ab" category="inline-link-macro">TR-5002 - Réduction des coûts d'Oracle Active Data Guard avec Azure NetApp Files</block>
  <block id="78aa914b3586201e6f7371f59227aea6" category="inline-link-macro">TR-4974 - Oracle 19c en redémarrage autonome sur AWS FSx/EC2 avec NFS/ASM</block>
  <block id="cf3a78e2385d868ecef44d6d54172850" category="paragraph">Encore une fois, pour des procédures détaillées étape par étape pour la configuration d'Oracle Data Guard en veille sur NFS avec ASM, veuillez vous référer à<block ref="94a03fa05762772c643d935de8449f7a" category="inline-link-macro-rx"></block> et<block ref="179b88d7d08fc36b4d4a3783382a72e4" category="inline-link-macro-rx"></block> sections pertinentes.  Ce qui suit illustre les détails de la configuration Oracle VLDB de secours sur le serveur de base de données de secours dans un paramètre Data Guard.</block>
  <block id="edda20f8b9d369d8982c572e12f17fa5" category="list-text">Configuration de l'infrastructure de grille sur le serveur de base de données de secours.</block>
  <block id="5bf53e0e8e47a0543347995a8936912f" category="list-text">Configuration des groupes de disques ASM sur le serveur de base de données de secours.</block>
  <block id="b8b919859dcfe201ff05ad4c99c2757f" category="list-text">Paramétrage de Data Guard sur la base de données de secours.</block>
  <block id="179f52441082fa066322c1655150ce66" category="list-text">Configuration de la base de données de secours.</block>
  <block id="dc769e77c3d823a7a27acf7ecd475281" category="list-text">Configuration dNFS sur la base de données de secours.</block>
  <block id="ab12cfbfb1418ea24706a0a5bd7644dd" category="paragraph">Ceci termine la démonstration d'une configuration Data Guard pour VLDB NTAP avec récupération de secours gérée activée sur le site de secours.</block>
  <block id="f8e190301bfcaa06e179b533dfde6240" category="section-title">Cloner la base de données de secours pour d'autres cas d'utilisation via l'automatisation</block>
  <block id="b3d01b085ffe63145776626c2de38e93" category="paragraph">La boîte à outils d'automatisation suivante est spécifiquement conçue pour créer ou actualiser des clones d'une base de données de secours Oracle Data Guard déployée sur ANF avec une configuration NFS/ASM pour une gestion complète du cycle de vie des clones.</block>
  <block id="117ea9c26563c0caf3f390559197cd2f" category="paragraph"><block ref="117ea9c26563c0caf3f390559197cd2f" category="inline-link-macro-rx"></block></block>
  <block id="f67f058c75bbff16c69f4bd1d435df34" category="paragraph"><block ref="f67f058c75bbff16c69f4bd1d435df34" category="inline-link-macro-rx"></block></block>
  <block id="b985336298cf9391b91c898572090625" category="summary">Cette section décrit une architecture de solution de déploiement de base de données Oracle et de protection des données avec une machine virtuelle Azure et un stockage Azure NetApp Files .</block>
  <block id="91e17bfb5f535513b5320d68f6afe1fc" category="paragraph">Le diagramme d’architecture suivant illustre un déploiement de base de données Oracle hautement disponible sur des instances de machine virtuelle Azure et le stockage Azure NetApp Files .</block>
  <block id="520c5c426000f1dbbd8ac385d5547603" category="paragraph">Dans l’environnement, l’instance de calcul Oracle est déployée via une console de machine virtuelle de services Azure.  Plusieurs types d’instances Azure sont disponibles depuis la console.  NetApp recommande de déployer une instance de machine virtuelle Azure orientée base de données qui répond à votre charge de travail attendue.</block>
  <block id="9e20ded809aa2fa1bd072f48ceacfdd8" category="paragraph">Le stockage de base de données Oracle, quant à lui, est déployé avec le service Azure NetApp Files disponible depuis la console Azure.  Les volumes binaires, de données ou de journaux Oracle sont ensuite présentés et montés sur un hôte Linux d’instance de machine virtuelle Azure.</block>
  <block id="6b5cae77dbc9c4b759bf654b117eb10b" category="inline-image-macro">Cette image illustre la relation entre le site principal, le site de secours et le peering vNet de chacun de ces sites.  Cela forme quatre réseaux virtuels distincts.</block>
  <block id="bddd62b850dfe65861a140dee07a77c4" category="paragraph"><block ref="bddd62b850dfe65861a140dee07a77c4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03aa17a1290e1122adecd07d53463cde" category="paragraph">À bien des égards, l’implémentation d’ Azure NetApp Files dans le cloud Azure est très similaire à une architecture de stockage de données ONTAP sur site avec de nombreuses redondances intégrées, telles que RAID et deux contrôleurs.  Pour la reprise après sinistre, un site de secours peut être configuré dans différentes régions et la base de données peut être synchronisée avec le site principal à l'aide de la réplication au niveau de l'application (par exemple, Oracle Data Guard).</block>
  <block id="6f1714a5ced243b141295d01d4038364" category="paragraph">Dans notre validation de test pour le déploiement de la base de données Oracle et la protection des données, la base de données Oracle est déployée sur une seule machine virtuelle Azure, comme illustré dans le diagramme suivant :</block>
  <block id="fef3344ae2f384e724a169b6e9d90be7" category="inline-image-macro">Cette image illustre l’organisation d’une seule machine virtuelle Azure avec un peering vNet pour créer deux réseaux virtuels distincts.</block>
  <block id="066919795ab4c6c94fe9a4aef67a4607" category="paragraph"><block ref="066919795ab4c6c94fe9a4aef67a4607" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3c70c58c925177cc6e4034cfa1006c0" category="paragraph">L'environnement Azure Oracle peut être géré avec un nœud de contrôleur Ansible pour l'automatisation à l'aide de kits d'outils fournis par NetApp pour le déploiement, la sauvegarde, la récupération et la migration de bases de données.  Toutes les mises à jour du noyau du système d’exploitation de l’instance Oracle Azure VM ou les correctifs Oracle peuvent être effectués en parallèle pour maintenir la synchronisation entre le serveur principal et le serveur de secours.  En fait, les boîtes à outils initiales peuvent être facilement étendues pour effectuer des tâches Oracle quotidiennes si nécessaire.  Si vous avez besoin d'aide pour configurer un contrôleur Ansible CLI, consultez<block ref="230dfc589866e347afe497262b15904b" category="inline-link-macro-rx"></block> pour commencer.</block>
  <block id="cffc2899d8dda4926e6563cef4e76608" category="summary">Cette section fournit des détails sur les facteurs à prendre en compte lors du déploiement d’une base de données Oracle sur une machine virtuelle Azure et un stockage Azure NetApp Files .</block>
  <block id="1a6a6241c0105da34f664d1e12534598" category="paragraph">Les sections suivantes décrivent les principales considérations à prendre en compte lors du déploiement d’une base de données Oracle dans le cloud public Azure sur une instance de machine virtuelle Azure avec stockage Azure NetApp Files .</block>
  <block id="c2b3b1e82aa97a133f0f6bbc12843085" category="section-title">Type et dimensionnement de la machine virtuelle</block>
  <block id="4ca9712a9cd82ea80c8e225977fae1bb" category="inline-link-macro">Tailles des machines virtuelles dans Azure</block>
  <block id="7c4a17715675ccfa7ce507eea6098318" category="paragraph">La sélection du type et de la taille de machine virtuelle appropriés est importante pour des performances optimales d’une base de données relationnelle dans un cloud public.  Une machine virtuelle Azure fournit une variété d’instances de calcul qui peuvent être utilisées pour héberger des charges de travail de base de données Oracle.  Voir la documentation Microsoft<block ref="d854faa84ea41d8819c42ca3741a3561" category="inline-link-macro-rx"></block> pour différents types de machines virtuelles Azure et leur dimensionnement.  En général, NetApp recommande d’utiliser une machine virtuelle Azure à usage général pour le déploiement de bases de données Oracle de petite et moyenne taille.  Pour le déploiement de bases de données Oracle plus volumineuses, une machine virtuelle Azure optimisée en mémoire est appropriée.  Avec plus de RAM disponible, un cache Oracle SGA ou Smart Flash plus grand peut être configuré pour réduire les E/S physiques, ce qui améliore à son tour les performances de la base de données.</block>
  <block id="84942a15b69259aab0ff7c2620afcaf6" category="inline-link-macro">TR-4780 : Bases de données Oracle sur Microsoft Azure</block>
  <block id="760a7b6c1bd4f6ebab6918d42feb4825" category="paragraph">Azure NetApp Files fonctionne comme un montage NFS attaché à une machine virtuelle Azure, qui offre un débit plus élevé et surmonte la limite de débit de machine virtuelle optimisée pour le stockage avec le stockage local.  Par conséquent, l’exécution d’Oracle sur Azure NetApp Files pourrait réduire le nombre de cœurs de processeur Oracle sous licence et les coûts de licence.  Voir<block ref="b46cbe9b7b18b9ff8101a014c206465f" category="inline-link-macro-rx"></block> Section 7 - Comment fonctionne la licence Oracle ?</block>
  <block id="71b93ac808ac25bb511ebcbb028e32e8" category="paragraph">D’autres facteurs à prendre en compte sont les suivants :</block>
  <block id="592bc946b588ad0e83c05f528895bcc8" category="list-text">Choisissez la bonne combinaison vCPU et RAM en fonction des caractéristiques de la charge de travail.  À mesure que la taille de la RAM augmente sur la machine virtuelle, le nombre de cœurs vCPU augmente également.  Il devrait y avoir un équilibre à un moment donné, car les frais de licence Oracle sont facturés en fonction du nombre de cœurs vCPU.</block>
  <block id="fb9844eb7ee0ff341d6f7066f78918ff" category="list-text">Ajoutez de l’espace d’échange à une machine virtuelle.  Le déploiement de machine virtuelle Azure par défaut ne crée pas d’espace d’échange, ce qui n’est pas optimal pour une base de données.</block>
  <block id="81afc696937e3786d5701212de79c536" category="section-title">Performances Azure NetApp Files</block>
  <block id="c7bc5faed38f5284386f25a6fc3a5752" category="paragraph">Les volumes Azure NetApp Files sont alloués à partir d’un pool de capacité que le client doit provisionner dans son compte de stockage Azure NetApp Files .  Chaque pool de capacité est attribué comme suit :</block>
  <block id="3af20f4cec87eac026d0990a8a3f4169" category="list-text">À un niveau de service qui définit la capacité de performance globale.</block>
  <block id="dd1fb66595c069d1b267fb8ca87e46eb" category="list-text">La capacité de stockage initialement provisionnée ou la hiérarchisation pour ce pool de capacité.  Un niveau de qualité de service (QoS) qui définit le débit maximal global par espace provisionné.</block>
  <block id="9dc50220b7e70511b5aeebb862346fad" category="paragraph">Le niveau de service et la capacité de stockage initialement provisionnée déterminent le niveau de performance d'un volume de base de données Oracle particulier.</block>
  <block id="59b8b6b998c3c0fcd2f1b107a68c290a" category="section-title">1. Niveaux de service pour Azure NetApp Files</block>
  <block id="f02ad1a8080bf1b50f8a15cb346ed483" category="paragraph">Azure NetApp Files prend en charge trois niveaux de service : Ultra, Premium et Standard.</block>
  <block id="3eec40f71dc46b07f32031c9703968ec" category="list-text">*Ultra stockage.*  Ce niveau fournit jusqu'à 128 Mio/s de débit par quota de volume de 1 Tio attribué.</block>
  <block id="1b0fa75a1e8b815e03fb38f8a90d2a73" category="list-text">*Stockage premium.*  Ce niveau fournit jusqu'à 64 Mio/s de débit par quota de volume de 1 Tio attribué.</block>
  <block id="00792f6ec40d3e2833834d90802a7aa5" category="list-text">*Stockage standard.*  Ce niveau fournit jusqu'à 16 Mio/s de débit par quota de volume de 1 Tio attribué.</block>
  <block id="7a720602d11a97fd37964c9979e2f1a5" category="section-title">2. Réserve de capacité et qualité de service</block>
  <block id="36ac84521252c58a4238292bf0c21d92" category="paragraph">Chacun des niveaux de service souhaités est associé à un coût pour la capacité provisionnée et comprend un niveau de qualité de service (QoS) qui définit le débit maximal global pour l'espace provisionné.</block>
  <block id="7a93db9cf06fd65415faf241927e2087" category="paragraph">Par exemple, un pool de capacité unique provisionné de 10 Tio avec le niveau de service premium fournit un débit global disponible pour tous les volumes de ce pool de capacité de 10 x 64 Mbit/s, soit 640 Mbit/s avec 40 000 (16 K) IOP ou 80 000 (8 K) IOP.</block>
  <block id="18dc8b2cbfb938a0ba32c141664fba0e" category="paragraph">La taille minimale du pool de capacité est de 4 Tio.  Vous pouvez modifier la taille d'un pool de capacité par incréments de 1 Tio en réponse aux changements de vos besoins en charge de travail pour gérer les besoins et les coûts de stockage.</block>
  <block id="8a26494cf7b0c3c3ca7cd38e89c068eb" category="section-title">3. Calculer le niveau de service à un volume de base de données</block>
  <block id="9ce59559a0b99338ee0bad0c153c961a" category="paragraph">La limite de débit d'un volume de base de données Oracle est déterminée par une combinaison des facteurs suivants : le niveau de service du pool de capacité auquel appartient le volume et le quota attribué au volume.</block>
  <block id="b87e1c6e437216fc2d3719c3dad93cb8" category="paragraph">Le diagramme suivant montre comment la limite de débit d'un volume de base de données Oracle est calculée.</block>
  <block id="1624b6f83446cd1719c94bae28cbbeb7" category="inline-image-macro">Cette image illustre l’équation appliquée aux trois niveaux de capacité pour déterminer le débit brut.</block>
  <block id="2b9f85feb56e3ff5f26a18665197efe9" category="paragraph"><block ref="2b9f85feb56e3ff5f26a18665197efe9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ce3321601c29c87cb29ae9817843b8d" category="paragraph">Dans l'exemple 1, un volume d'un pool de capacité avec le niveau de stockage Premium auquel est attribué un quota de 2 Tio se voit attribuer une limite de débit de 128 Mio/s (2 Tio * 64 Mio/s).  Ce scénario s'applique quelle que soit la taille du pool de capacité ou la consommation de volume réelle.</block>
  <block id="69da5d3e48cc26414a9177d843bd55d9" category="paragraph">Dans l'exemple 2, un volume d'un pool de capacité avec le niveau de stockage Premium auquel est attribué 100 Gio de quota se voit attribuer une limite de débit de 6,25 Mio/s (0,09765625 Tio * 64 Mio/s).  Ce scénario s'applique quelle que soit la taille du pool de capacité ou la consommation de volume réelle.</block>
  <block id="def2c2ae4fa72ee296eada07b44a0cc9" category="paragraph">Veuillez noter que la taille minimale du volume est de 100 Gio.</block>
  <block id="78ad659ec79d8ee9e7432271167d18d3" category="list-text">Pour les petites bases de données, utilisez une disposition de volume unique pour tous les fichiers Oracle.</block>
  <block id="51672f1f7a65c28f28e5e113376309bd" category="inline-image-macro">Cette image représente trois bases de données (DB1, DB2 et DB3) qui contiennent chacune des fichiers de données, des journaux de rétablissement, des journaux d'archivage et des fichiers de contrôle, le tout dans un seul pool de capacité.</block>
  <block id="17b01d05a8624b76c9c3e11c01a97fe1" category="paragraph"><block ref="17b01d05a8624b76c9c3e11c01a97fe1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="816445ad7ba016a8c0be293c985f068b" category="list-text">Pour les bases de données volumineuses, la disposition de volume recommandée est composée de plusieurs volumes : un pour les données Oracle et un fichier de contrôle en double et un pour le journal actif Oracle, le journal archivé et le fichier de contrôle.  NetApp recommande fortement d'allouer un volume au binaire Oracle au lieu du lecteur local afin que la base de données puisse être déplacée vers un nouvel hôte et restaurée rapidement.</block>
  <block id="955db4ecf8716abf17a3ea3f8e113671" category="inline-image-macro">Cette image représente deux bases de données avec deux volumes chacune.  Le premier volume contient des fichiers de données, tandis que le deuxième volume de chaque base de données contient des journaux de rétablissement, des journaux d'archive et des fichiers de contrôle.  Tout cela au sein d'un seul et même pool de capacité.</block>
  <block id="3db3356640f2324630385dfbbdb66aca" category="paragraph"><block ref="3db3356640f2324630385dfbbdb66aca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="efeaafaa286e164985a0c325f0727cf1" category="paragraph">Linux, le système d’exploitation le plus courant, inclut des fonctionnalités NFS natives.  Oracle propose un client NFS direct (dNFS) intégré nativement à Oracle.  Oracle dNFS contourne le cache du système d'exploitation et permet le traitement parallèle pour améliorer les performances de la base de données.  Oracle prend en charge NFSv3 depuis plus de 20 ans et NFSv4 est pris en charge avec Oracle 12.1.0.2 et versions ultérieures.</block>
  <block id="be5ef2ba2540e077db09ca784b1ac18f" category="paragraph">En utilisant dNFS (disponible depuis Oracle 11g), une base de données Oracle exécutée sur une machine virtuelle Azure peut générer beaucoup plus d’E/S que le client NFS natif.  Le déploiement Oracle automatisé à l’aide de la boîte à outils d’automatisation NetApp configure automatiquement dNFS sur NFSv3.</block>
  <block id="632bf0b812e05925eff22d7d0a7677c2" category="paragraph">Le diagramme suivant illustre l’analyse comparative SLOB sur Azure NetApp Files avec Oracle dNFS.</block>
  <block id="08826656fd88155bdfaebbb292320e33" category="inline-image-macro">Ce graphique démontre de manière spectaculaire que dNFS améliore la latence des fichiers séquentiels de la base de données (ms) par rapport à KNFS.</block>
  <block id="a2503533a9982cdf2864cc90fe439f25" category="paragraph"><block ref="a2503533a9982cdf2864cc90fe439f25" category="inline-image-macro-rx" type="image"></block></block>
  <block id="24019b0d54b5da3a46b400c6a6dfee77" category="paragraph">Pour des performances optimales et pour éviter les problèmes de performances, ajustez les paramètres du noyau qui contrôlent les tables d'emplacements TCP sur 128.</block>
  <block id="754e164c2de7ed1f02667d5f74297a0e" category="list-text">Le tableau suivant fournit les options de montage NFS recommandées pour une seule instance de Linux NFSv3.</block>
  <block id="fa7abb28d1b83f9ee23d95aff1d3123b" category="inline-image-macro">Ce tableau présente les options de montage NFS détaillées pour les types de fichiers suivants : fichiers de contrôle, fichiers de données, journaux de rétablissement, ORACLE_HOME et ORACLE_BASE.</block>
  <block id="26a8ec6fc2bf7ef2dbfdef2c7cf0e0f6" category="paragraph"><block ref="26a8ec6fc2bf7ef2dbfdef2c7cf0e0f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="41f2543265fcbcf566ce925409c1bfbb" category="summary">Cette section fournit des détails sur la façon de migrer une base de données Oracle depuis un emplacement local vers Azure NetApp Files et vice versa.</block>
  <block id="3c2b924258f32094eb64883db57a778a" category="paragraph">Suite à la décision d'Oracle d'éliminer progressivement les bases de données à instance unique, de nombreuses organisations ont converti les bases de données Oracle à instance unique en bases de données de conteneurs multilocataires.  Cela permet la relocalisation facile d'un sous-ensemble de bases de données de conteneurs appelées PDB vers le cloud avec l'option de disponibilité maximale, ce qui minimise les temps d'arrêt pendant la migration.</block>
  <block id="a221bb2d4b0b28bb7e9aa40527e36333" category="paragraph">Cependant, si vous disposez toujours d'une seule instance d'une base de données Oracle, elle peut d'abord être convertie en base de données de conteneur multilocataire avant de tenter la relocalisation de PDB.</block>
  <block id="3312d9383c6e42558bb6c7ffa86498b5" category="paragraph">Les sections suivantes fournissent des détails sur la migration des bases de données Oracle sur site vers le cloud Azure dans les deux scénarios.</block>
  <block id="b65ba7cc82289837e3a44b6025b8a104" category="paragraph">Si vous disposez toujours d'une base de données Oracle à instance unique, elle doit être convertie en base de données conteneur multilocataire, que vous souhaitiez la migrer vers le cloud ou non, car Oracle cessera bientôt de prendre en charge les bases de données à instance unique.</block>
  <block id="60a4157f0722b484d4ce9ec02662db31" category="paragraph">Les procédures suivantes connectent une base de données d'instance unique à une base de données conteneur en tant que base de données enfichable ou PDB.</block>
  <block id="aefccbe3e9382cbdd83d84fee06a408d" category="list-text">Créez une base de données de conteneur shell sur le même hôte que la base de données à instance unique dans un emplacement séparé.<block ref="e1f651debac4f720c13ae930ff3ca14a" prefix=" " category="inline-code"></block> .</block>
  <block id="182e093a477c76844c12680be3deb7a4" category="list-text">Arrêtez la base de données à instance unique et redémarrez-la en mode lecture seule.</block>
  <block id="48270a516aeb2dd47c2b7f5d897c3182" category="list-text">Exécutez le<block ref="707fc638546e97f4dca068fcf2fbe277" prefix=" " category="inline-code"></block> procédure pour générer les métadonnées de la base de données.</block>
  <block id="61c2d2d903cc3e2bc374cc66b3a1572d" category="list-text">Arrêtez la base de données à instance unique.</block>
  <block id="d0e90ac40083de7010746f1c7afa8680" category="list-text">Démarrez la base de données du conteneur.</block>
  <block id="c9b14b140c5af8df85a71e71e823fcd9" category="list-text">Exécutez le<block ref="6f6e7bfe46efb74f46338dcd4b8d7530" prefix=" " category="inline-code"></block> fonction permettant de déterminer si le non-CDB est compatible avec le CDB.</block>
  <block id="b4579eff709cfd4a9e9d9b3c7823a470" category="paragraph">Si la sortie est OUI, alors le non-CDB est compatible et vous pouvez passer à l’étape suivante.</block>
  <block id="b788542aadbeda07cae67fad51f01ecf" category="paragraph">Si la sortie est NON, alors le non-CDB n'est pas compatible et vous pouvez vérifier le<block ref="40bcd9431704d488bfba8de25bdd0469" prefix=" " category="inline-code"></block> voir pour voir pourquoi ce n'est pas compatible.  Toutes les violations doivent être corrigées avant de continuer.  Par exemple, toute incompatibilité de version ou de correctif doit être résolue en exécutant une mise à niveau ou l'utilitaire opatch.  Après avoir corrigé les violations, exécutez<block ref="6f6e7bfe46efb74f46338dcd4b8d7530" prefix=" " category="inline-code"></block> encore une fois pour garantir que le non-CDB est compatible avec le CDB.</block>
  <block id="3dc81f6d88ee2f38ca30676e4b371634" category="list-text">Branchez l'instance unique non-CDB.</block>
  <block id="10a9ce9a6e151e6ff04bee976e0cb1de" category="admonition">S'il n'y a pas suffisamment d'espace sur l'hôte, le<block ref="4777c7eb130280b37f5b4b3abde7c586" prefix=" " category="inline-code"></block> l'option peut être utilisée pour créer le PDB.  Dans ce cas, une instance unique non-CDB n'est pas utilisable après le branchement en tant que PDB car les fichiers de données d'origine ont été utilisés pour le PDB.  Assurez-vous de créer une sauvegarde avant la conversion afin d'avoir quelque chose sur lequel vous appuyer en cas de problème.</block>
  <block id="03d9f2c68151dce9edd03b346e5b110c" category="list-text">Commencez par la mise à niveau PDB après la conversion si la version entre la source à instance unique non-CDB et la cible CDB est différente.  Pour la conversion de la même version, cette étape peut être ignorée.</block>
  <block id="81954d0087f2bc7590c39792b2d3ff79" category="paragraph">Consultez le fichier journal de mise à niveau dans le<block ref="8940bd010306ed7bc730469a2815003c" prefix=" " category="inline-code"></block> annuaire.</block>
  <block id="65f9a981d9b9caaa37a227c9d787c280" category="list-text">Ouvrez la base de données enfichable, vérifiez les violations du plug-in pdb et recompilez les objets non valides.</block>
  <block id="f4d5586e12195159e664b1f0a78cccd3" category="list-text">Exécuter<block ref="30636d635a272a80dff68679e08f1c7a" prefix=" " category="inline-code"></block> pour mettre à jour le dictionnaire de données.</block>
  <block id="182d7c995640cc8ef16b728a670fbe58" category="paragraph">Arrêtez et redémarrez la base de données du conteneur.  La base de données NCDB est sortie du mode restreint.</block>
  <block id="d6af386b8be94481db3de6778b3fc24a" category="section-title">Migrer les bases de données Oracle sur site vers Azure avec la relocalisation PDB</block>
  <block id="8ba045e8292f88863e71268ec6dabc53" category="paragraph">La relocalisation Oracle PDB avec l'option de disponibilité maximale utilise la technologie de clonage à chaud PDB, qui permet la disponibilité de la PDB source pendant que la PDB est copiée vers la cible.  Lors du basculement, les connexions utilisateur sont automatiquement redirigées vers le PDB cible.  Ainsi, les temps d’arrêt sont minimisés indépendamment de la taille du PDB.  NetApp fournit une boîte à outils basée sur Ansible qui automatise la procédure de migration.</block>
  <block id="a8efacce1c06e5f64504448dec25740a" category="list-text">Créez une CDB dans le cloud public Azure sur une machine virtuelle Azure avec la même version et le même niveau de correctif.</block>
  <block id="0f09a4e81820f79a89d0b433bb0de6ca" category="list-text">À partir du contrôleur Ansible, clonez une copie de la boîte à outils d’automatisation.</block>
  <block id="33abd0ac6a3fb7ef8c104725e8360e85" category="list-text">Lisez les instructions dans le fichier README.</block>
  <block id="59082266ab8171963eb8785041055ee1" category="list-text">Configurez les fichiers de variables d'hôte Ansible pour les serveurs Oracle source et cible et le fichier de configuration de l'hôte du serveur de base de données pour la résolution de noms.</block>
  <block id="166811e58fa2fd17b3ab3305ca4b1948" category="list-text">Installez les prérequis du contrôleur Ansible sur le contrôleur Ansible.</block>
  <block id="e40dd1f176a77cef20eb421dee4fea9f" category="list-text">Exécutez toutes les tâches de pré-migration sur le serveur local.</block>
  <block id="aba7f3209eb8c49aca729c7368fb42fe" category="admonition">L'utilisateur administrateur est l'utilisateur de gestion sur l'hôte du serveur Oracle sur site avec des privilèges sudo.  L'utilisateur administrateur est authentifié avec un mot de passe.</block>
  <block id="a1da14dd2e192d36a7fe7bae327c2b23" category="list-text">Exécutez la relocalisation Oracle PDB depuis le site vers l’hôte Azure Oracle cible.</block>
  <block id="39f1871870cabd138bd313c450662e67" category="admonition">Le contrôleur Ansible peut être situé sur site ou dans le cloud Azure.  Le contrôleur a besoin d’une connectivité à l’hôte du serveur Oracle local et à l’hôte de la machine virtuelle Azure Oracle.  Le port de base de données Oracle (tel que 1521) est ouvert entre l’hôte du serveur Oracle local et l’hôte de la machine virtuelle Azure Oracle.</block>
  <block id="63a48a0f7ee4b39ef32c11b92acc2baa" category="section-title">Options supplémentaires de migration de base de données Oracle</block>
  <block id="7619081ba13aebf0c83d5660f9bf01bb" category="inline-link-macro">Processus de décision de migration de la base de données Oracle</block>
  <block id="0257ad9cf0c221fcf0c611f835c027ca" category="paragraph">Veuillez consulter la documentation Microsoft pour des options de migration supplémentaires :<block ref="421a85ebca6e289a6eff559e7e35faf8" category="inline-link-macro-rx"></block> .</block>
  <block id="cf2fb9f52eae11aaa1b6818cc22ade30" category="section-title">Déployer une machine virtuelle Azure avec ANF pour Oracle via la console du portail Azure</block>
  <block id="5e89dc82cb54763baa7cece42e7c3189" category="paragraph">Si vous êtes nouveau sur Azure, vous devez d’abord configurer un environnement de compte Azure.  Cela inclut l’inscription de votre organisation pour utiliser Azure Active Directory.  La section suivante est un résumé de ces étapes.  Pour plus de détails, consultez la documentation spécifique à Azure liée.</block>
  <block id="c743c9c56cd6cc2acf874405ef178af3" category="section-title">Créer et consommer des ressources Azure</block>
  <block id="cc59653114a0ca329e90c87f8de8f2da" category="paragraph">Une fois votre environnement Azure configuré et un compte créé et associé à un abonnement, vous pouvez vous connecter au portail Azure avec le compte pour créer les ressources nécessaires à l’exécution d’Oracle.</block>
  <block id="4848dfd418cc69fdc8a92da472ac41b8" category="section-title">1. Créer un réseau virtuel ou VNet</block>
  <block id="dd587303db328c6fc30f15fbf133eade" category="paragraph">Azure Virtual Network (VNet) est l’élément de base de votre réseau privé dans Azure.  VNet permet à de nombreux types de ressources Azure, telles que les machines virtuelles Azure (VM), de communiquer en toute sécurité entre elles, avec Internet et avec les réseaux locaux.  Avant de provisionner une machine virtuelle Azure, un réseau virtuel (où une machine virtuelle est déployée) doit d’abord être configuré.</block>
  <block id="2b9029fce84bbf7056c94e4b86015679" category="inline-link-macro">Créer un réseau virtuel à l'aide du portail Azure</block>
  <block id="698a842fc17e080abbf6b6796628879b" category="paragraph">Voir<block ref="f497c9708f9505977884a23053323735" category="inline-link-macro-rx"></block> pour créer un VNet.</block>
  <block id="66d98f4e89afee6dc557332b0e9ebe43" category="section-title">2. Créer un compte de stockage NetApp et un pool de capacité pour ANF</block>
  <block id="fecd60b0aedf111caefb4cf98b8d7be5" category="paragraph">Dans ce scénario de déploiement, un système d’exploitation de machine virtuelle Azure est provisionné à l’aide d’un stockage Azure standard, mais les volumes ANF sont provisionnés pour exécuter la base de données Oracle via NFS.  Tout d’abord, vous devez créer un compte de stockage NetApp et un pool de capacité pour héberger les volumes de stockage.</block>
  <block id="76dc01e3f39d83b88a3d3ad36c338654" category="inline-link-macro">Configurer Azure NetApp Files et créer un volume NFS</block>
  <block id="8a57d5f988c678cd141c2f704e110472" category="paragraph">Voir<block ref="2337ae471c0cc5402cdba65ad3b4dc78" category="inline-link-macro-rx"></block> de mettre en place un pool de capacités ANF.</block>
  <block id="ed39ba49be7769bdf483ae876d88cdff" category="section-title">3. Provisionner une machine virtuelle Azure pour Oracle</block>
  <block id="acb4908e71af4ce0945c90f9039d0fc2" category="paragraph">En fonction de votre charge de travail, déterminez le type de machine virtuelle Azure dont vous avez besoin ainsi que la taille du processeur virtuel et de la RAM de la machine virtuelle à déployer pour Oracle.  Ensuite, depuis la console Azure, cliquez sur l’icône VM pour lancer le workflow de déploiement de la VM.</block>
  <block id="20d1e12ba2a72916f3917e44ff29b40a" category="list-text">Depuis la page Machine virtuelle Azure, cliquez sur *Créer*, puis choisissez *Machine virtuelle Azure*.</block>
  <block id="94f088d23454b3c408a17cfff3cb8989" category="inline-image-macro">Cette capture d’écran montre la liste des machines virtuelles Azure disponibles.</block>
  <block id="8c5cf454eabef1850ea0ffb2653a77c6" category="paragraph"><block ref="8c5cf454eabef1850ea0ffb2653a77c6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="78ba4b8df4acae5536f056217b16c353" category="list-text">Choisissez l’ID d’abonnement pour le déploiement, puis choisissez le groupe de ressources, la région, le nom d’hôte, l’image de machine virtuelle, la taille et la méthode d’authentification.  Accédez à la page Disque.</block>
  <block id="cbbcba216ab68f94c8fab62d9c907a00" category="inline-image-macro">Cette capture d’écran montre l’entrée de la page Créer une machine virtuelle.</block>
  <block id="825d4c0973e48f04ab75cc30df85bbdc" category="inline-image-macro">Cette capture d’écran montre des entrées supplémentaires pour la page Créer une machine virtuelle.</block>
  <block id="1da34b0dc20dafeba216b1017d6c0cdc" category="paragraph"><block ref="d343b3f21a3b8445ef0630fc7fd303c4" category="inline-image-macro-rx" type="image"></block> <block ref="55fdb72bee907ff2263eb8949e6ebba9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c435f9a03a03e7cff44b06c9efafa31" category="list-text">Choisissez *SSD premium* pour la redondance locale du système d'exploitation et laissez le disque de données vide car les disques de données sont montés à partir du stockage ANF.  Accédez à la page Réseau.</block>
  <block id="04faa74bfe9ea34a9831d24d039dc159" category="inline-image-macro">Cette capture d’écran montre l’entrée de la page Créer des disques de machine virtuelle.</block>
  <block id="7670b911047caf1456c4e5a1cdea2099" category="paragraph"><block ref="7670b911047caf1456c4e5a1cdea2099" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9c5742f2bffff7dd4a50e578bfb093b" category="list-text">Choisissez le VNet et le sous-réseau.  Allouer une adresse IP publique pour l’accès à la machine virtuelle externe.  Ensuite, allez sur la page Gestion.</block>
  <block id="0c0077e9a9d4700a64e70d30e9d110df" category="inline-image-macro">Cette capture d’écran montre des entrées supplémentaires pour la page Créer une machine virtuelle.</block>
  <block id="4b018590f08f314594692835596b90aa" category="paragraph"><block ref="4b018590f08f314594692835596b90aa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6d5e4bb7568c6e8fb6a1f49aea08e975" category="list-text">Conservez tous les paramètres par défaut pour la gestion et passez à la page Avancé.</block>
  <block id="45291c6293e8de1084c3b8de71bfe120" category="inline-image-macro">Cette capture d’écran montre l’entrée de la page Créer une gestion de machine virtuelle.</block>
  <block id="db42c8205ca730413e7d4b544635768b" category="paragraph"><block ref="db42c8205ca730413e7d4b544635768b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22b5d3beb0289dfe21618d5664538321" category="list-text">Conservez tous les paramètres par défaut pour la page Avancé, sauf si vous devez personnaliser une machine virtuelle après le déploiement avec des scripts personnalisés.  Ensuite, allez à la page Tags.</block>
  <block id="1a911a2f1237ad150a29236bcfe044a0" category="inline-image-macro">Cette capture d’écran montre l’entrée de la page Créer une machine virtuelle avancée.</block>
  <block id="7b193f52167fe62720e1191e3efa2f05" category="paragraph"><block ref="7b193f52167fe62720e1191e3efa2f05" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46dfe2059392afeb84a872afb7cd09d5" category="list-text">Ajoutez une balise pour la VM si vous le souhaitez.  Ensuite, accédez à la page Réviser + créer.</block>
  <block id="85e3843de649be49b63e3b04c6887bcd" category="inline-image-macro">Cette capture d’écran montre l’entrée pour la page Créer des balises de machine virtuelle.</block>
  <block id="1965d4b328b0678fe742226c1592b886" category="paragraph"><block ref="1965d4b328b0678fe742226c1592b886" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57a6346e9ebfe8164361d5e2facffb62" category="list-text">Le workflow de déploiement exécute une validation sur la configuration et, si la validation réussit, cliquez sur *Créer* pour créer la machine virtuelle.</block>
  <block id="dec1fd75845506029d8751bb7979c797" category="inline-image-macro">"Cette capture d'écran montre l'entrée pour la page de révision et de création de Créer une machine virtuelle".</block>
  <block id="2f823056bdc8319f09d63c5d35397828" category="paragraph"><block ref="2f823056bdc8319f09d63c5d35397828" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c18c3fe2e695bda0cb8b3e7ecccbdc4e" category="section-title">4. Provisionner les volumes de base de données ANF pour Oracle</block>
  <block id="f162c2b2b89920293c1f24ac435c520e" category="paragraph">Vous devez créer trois volumes NFS pour un pool de capacité ANF pour les volumes binaires, de données et de journaux Oracle respectivement.</block>
  <block id="09d8c19d5844128b31e1fa195808b215" category="list-text">Depuis la console Azure, sous la liste des services Azure, cliquez sur Azure NetApp Files pour ouvrir un workflow de création de volume.  Si vous disposez de plusieurs comptes de stockage ANF, cliquez sur le compte à partir duquel vous souhaitez provisionner des volumes.</block>
  <block id="733cf6b848c8e38a49b4b604225141a5" category="inline-image-macro">Cette capture d’écran montre la page Services Azure, avec ANF en surbrillance.</block>
  <block id="5c9f9e2ae2dd3406b2c3ed99714481d1" category="paragraph"><block ref="5c9f9e2ae2dd3406b2c3ed99714481d1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8972cd5a80e6e385a27023ce45537a9" category="list-text">Sous votre compte de stockage NetApp , cliquez sur *Volumes*, puis sur *Ajouter un volume* pour créer de nouveaux volumes Oracle.</block>
  <block id="c8ce9170654447aba6747494e61bf3a2" category="inline-image-macro">Cette capture d’écran montre l’écran d’accueil d’un compte de stockage NetApp .</block>
  <block id="b0d2d575f2aee1703b6e2896d43b72f9" category="inline-image-macro">Cette capture d’écran montre les volumes disponibles pour le compte de stockage NetApp .</block>
  <block id="27c5f8d8117616b1145ce68857574d45" category="paragraph"><block ref="be9f79088d942996d006cfa074f5385e" category="inline-image-macro-rx" type="image"></block> <block ref="2c16e3955ad0449ac72b48cd76a3cf75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbeaec71dc2b8275a14b23283d51cc04" category="list-text">En tant que bonne pratique, identifiez les volumes Oracle avec le nom d'hôte de la machine virtuelle comme préfixe, suivi du point de montage sur l'hôte, tel que u01 pour le binaire Oracle, u02 pour les données Oracle et u03 pour le journal Oracle.  Choisissez le même VNet pour le volume que pour la VM.  Cliquez sur *Suivant : Protocole&gt;*.</block>
  <block id="ce4ff1bdb6d954e6967a7c241ff89518" category="inline-image-macro">Écran de création de volume.</block>
  <block id="3d982f5483fec64974322b41c9939c41" category="paragraph"><block ref="3d982f5483fec64974322b41c9939c41" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b50bdcda066df8ed373847c60bc2f546" category="list-text">Choisissez le protocole NFS, ajoutez l'adresse IP de l'hôte Oracle au client autorisé et supprimez la stratégie par défaut qui autorise toutes les adresses IP 0.0.0.0/0.  Cliquez ensuite sur *Suivant : Tags&gt;*.</block>
  <block id="f8bc211f91c2b350b268959a57418393" category="inline-image-macro">Saisie du protocole sur l'écran de création de volume.</block>
  <block id="2e72ba5a8e99432be226f3c8010a796c" category="paragraph"><block ref="2e72ba5a8e99432be226f3c8010a796c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fffcdc9cd5233d4718046c8f6d19c80b" category="list-text">Ajoutez une balise de volume si vous le souhaitez.  Cliquez ensuite sur *Réviser + Créer&gt;*.</block>
  <block id="05864b350d713935d13966f3c8fcbcd7" category="inline-image-macro">Balises saisies sur l'écran de création de volume.</block>
  <block id="c24d8e027538479bd8224eaad667feae" category="paragraph"><block ref="c24d8e027538479bd8224eaad667feae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e574c0c875926f1fe654026995f3543" category="list-text">Si la validation réussit, cliquez sur *Créer* pour créer le volume.</block>
  <block id="4a585922412f050ac4a7fbcc34a2655b" category="inline-image-macro">Étape de révision et de création de l'écran de création de volume.</block>
  <block id="1b0924565a7b6db6820b4bf3dec72aaa" category="paragraph"><block ref="1b0924565a7b6db6820b4bf3dec72aaa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d2dbc217706d8bb1248bc209e0ab9da" category="section-title">Installer et configurer Oracle sur Azure VM avec ANF</block>
  <block id="7beaf3d9487c79b7245a1d9ae42d46aa" category="paragraph">L’équipe de solutions NetApp a créé de nombreuses boîtes à outils d’automatisation basées sur Ansible pour vous aider à déployer Oracle dans Azure en douceur.  Suivez ces étapes pour déployer Oracle sur une machine virtuelle Azure.</block>
  <block id="0c782f45b1de4e6d016eafeeb60d286f" category="section-title">Configurer un contrôleur Ansible</block>
  <block id="41532ec0bce440e4eaf71b75b5f03284" category="paragraph">Si vous n'avez pas configuré de contrôleur Ansible, consultez<block ref="230dfc589866e347afe497262b15904b" category="inline-link-macro-rx"></block> , qui contient des instructions détaillées sur la façon de configurer un contrôleur Ansible.</block>
  <block id="ce9ef6052d2c6ac4b97c01049ee4ec2b" category="section-title">Obtenir la boîte à outils d'automatisation du déploiement Oracle</block>
  <block id="52eae91ee8ea917bc73df6d9f1792469" category="paragraph">Clonez une copie de la boîte à outils de déploiement Oracle dans votre répertoire personnel sous l’ID utilisateur que vous utilisez pour vous connecter au contrôleur Ansible.</block>
  <block id="19cd6e3dfb797a7325548b346dc358f1" category="section-title">Exécutez la boîte à outils avec votre configuration</block>
  <block id="98f609c421f8172f6df79c8e630eb3e0" category="paragraph">Voir le<block ref="6ac1394093c86e2516997ffd90247387" category="inline-link-macro-rx"></block> pour exécuter le playbook avec la CLI.  Vous pouvez ignorer la partie ONTAP de la configuration des variables dans le fichier VARS global lorsque vous créez des volumes de base de données à partir de la console Azure plutôt que de l’interface de ligne de commande.</block>
  <block id="24e16cc700e2ced028e529370af380e1" category="admonition">La boîte à outils déploie par défaut Oracle 19c avec RU 19.8.  Il peut être facilement adapté à tout autre niveau de patch avec des modifications mineures de configuration par défaut.  Les fichiers journaux actifs de la base de données de semences par défaut sont également déployés dans le volume de données.  Si vous avez besoin de fichiers journaux actifs sur le volume de journaux, ceux-ci doivent être déplacés après le déploiement initial.  Contactez l’équipe NetApp Solution pour obtenir de l’aide si nécessaire.</block>
  <block id="dd52a71d2066e527d28efdbd46784e07" category="section-title">Configurer l'outil de sauvegarde AzAcSnap pour des instantanés cohérents avec les applications pour Oracle</block>
  <block id="211e60df4f320c617afaa9a96f62758f" category="paragraph">L’outil Azure Application-Consistent Snapshot (AzAcSnap) est un outil de ligne de commande qui permet la protection des données pour les bases de données tierces en gérant toute l’orchestration requise pour les mettre dans un état cohérent avec l’application avant de prendre un instantané de stockage.  Il ramène ensuite ces bases de données à un état opérationnel.  NetApp recommande d’installer l’outil sur l’hôte du serveur de base de données.  Consultez les procédures d’installation et de configuration suivantes.</block>
  <block id="40390144ce134a2e38bfef9f590f867b" category="section-title">Installer l'outil AzAcSnap</block>
  <block id="c2d834909e264a2f3bf3d3facd27740b" category="inline-link-macro">le programme d'installation d'AzArcSnap</block>
  <block id="aed9be57adbc2906c27b7f325e1322aa" category="list-text">Obtenez la version la plus récente du<block ref="696590d44d21e9b71649cae0895a0bca" category="inline-link-macro-rx"></block> .</block>
  <block id="243004130aa732bde904924170fa2e5c" category="list-text">Copiez l’auto-installateur téléchargé sur le système cible.</block>
  <block id="1aa45c54511185e4e2043ee91e8969bc" category="list-text">Exécutez l’auto-installateur en tant qu’utilisateur root avec l’option d’installation par défaut.  Si nécessaire, rendez le fichier exécutable en utilisant le<block ref="48c01707d676030dd223de543c6beb09" prefix=" " category="inline-code"></block> commande.</block>
  <block id="483944250a0e1f955ad6fec7c6578bde" category="section-title">Configurer la connectivité Oracle</block>
  <block id="b6f7df8a3ada5b45cee3400740b83c9a" category="paragraph">Les outils de capture instantanée communiquent avec la base de données Oracle et nécessitent un utilisateur de base de données disposant des autorisations appropriées pour activer ou désactiver le mode de sauvegarde.</block>
  <block id="6cd11918e51f60b6ce021e9d56c9e74a" category="section-title">1. Configurer l'utilisateur de la base de données AzAcSnap</block>
  <block id="84fe6666ea577b7ede5c61912d97705e" category="paragraph">Les exemples suivants montrent la configuration de l'utilisateur de la base de données Oracle et l'utilisation de sqlplus pour la communication avec la base de données Oracle.  Les commandes d'exemple configurent un utilisateur (AZACSNAP) dans la base de données Oracle et modifient l'adresse IP, les noms d'utilisateur et les mots de passe selon le cas.</block>
  <block id="342df2b2fb63c81cdd53e5e7bc5d00b9" category="list-text">À partir de l’installation de la base de données Oracle, lancez sqlplus pour vous connecter à la base de données.</block>
  <block id="ab0840eee4ba613870ae404c907c1948" category="list-text">Créer l'utilisateur.</block>
  <block id="e90b9dc19df07f784e3fc408169077df" category="list-text">Accorder les autorisations à l'utilisateur.  Cet exemple définit l'autorisation pour l'utilisateur AZACSNAP pour permettre de mettre la base de données en mode de sauvegarde.</block>
  <block id="f508d634fc1aa5df7fed84e6b58afce9" category="list-text">Modifiez l'expiration du mot de passe de l'utilisateur par défaut en illimité.</block>
  <block id="bc5fff092e99ce3d1966b94061cb5953" category="list-text">Valider la connectivité azacsnap pour la base de données.</block>
  <block id="8e0d0fb1cb3a50066ecd397700dfd22e" category="section-title">2. Configurer l'utilisateur Linux azacsnap pour l'accès à la base de données avec le portefeuille Oracle</block>
  <block id="7140a904f4b795616fdc3c3efbdcd066" category="paragraph">L'installation par défaut d'AzAcSnap crée un utilisateur du système d'exploitation azacsnap.  Son environnement shell Bash doit être configuré pour l'accès à la base de données Oracle avec le mot de passe stocké dans un portefeuille Oracle.</block>
  <block id="c54cf7bb99b0e669ce6dc05ec8272470" category="list-text">En tant qu'utilisateur root, exécutez le<block ref="760381f8107a856bc583301b7b272917" prefix=" " category="inline-code"></block> commande pour identifier les variables ORACLE_HOME et ORACLE_SID sur l'hôte.</block>
  <block id="2a4941dc3f20c8f34a09b066691e66a5" category="list-text">Ajoutez les variables ORACLE_HOME, ORACLE_SID, TNS_ADMIN et PATH au profil bash utilisateur azacsnap.  Modifiez les variables selon vos besoins.</block>
  <block id="e3c85fad3d30c470aac355430e98dc21" category="list-text">En tant qu'utilisateur Linux azacsnap, créez le portefeuille.  Vous êtes invité à saisir le mot de passe du portefeuille.</block>
  <block id="83617bd12022f2dd9ba94816c7e56670" category="list-text">Ajoutez les informations d’identification de la chaîne de connexion au portefeuille Oracle.  Dans l'exemple de commande suivant, AZACSNAP est le ConnectString à utiliser par AzAcSnap, azacsnap est l'utilisateur de la base de données Oracle et AzPasswd1 est le mot de passe de la base de données de l'utilisateur Oracle.  Vous êtes à nouveau invité à saisir le mot de passe du portefeuille.</block>
  <block id="02f08719de6240015b4e67725107792a" category="list-text">Créer le<block ref="9de875b13677cf9b036a438bf9aedf5c" prefix=" " category="inline-code"></block> déposer.  Dans l'exemple de commande suivant, HOST doit être défini sur l'adresse IP de la base de données Oracle et le SID du serveur doit être défini sur le SID de la base de données Oracle.</block>
  <block id="0eec77cc5ed96c42afb08c83ea3f1e3b" category="list-text">Créer le<block ref="0501c2d94325e267bf15055591fb8157" prefix=" " category="inline-code"></block> déposer.</block>
  <block id="cafefcc0e796f3e73bc39de23dfc6b68" category="list-text">Tester l'accès Oracle à l'aide du portefeuille.</block>
  <block id="5fe36f3a6d3cc4a34d1f045b7cd14ac3" category="paragraph">Le résultat attendu de la commande :</block>
  <block id="54eb020b97d7e8a9f56d67e93754e270" category="section-title">Configurer la connectivité ANF</block>
  <block id="8c9356aaf30e863db064ba22b7d4b204" category="paragraph">Cette section explique comment activer la communication avec Azure NetApp Files (avec une machine virtuelle).</block>
  <block id="d78964ac0334c0f69ef24aada9864028" category="list-text">Dans une session Azure Cloud Shell, assurez-vous que vous êtes connecté à l’abonnement que vous souhaitez associer au principal de service par défaut.</block>
  <block id="8611ff0fcccf2f05ff0dbde909379c14" category="list-text">Si l'abonnement n'est pas correct, utilisez la commande suivante :</block>
  <block id="2d66e076b40e24c73ffa7a1704d985db" category="list-text">Créez un principal de service à l’aide de l’interface de ligne de commande Azure comme dans l’exemple suivant :</block>
  <block id="707cc085819c641d15b9ea2b3b13cb53" category="paragraph">Le résultat attendu :</block>
  <block id="c51a1e8c830ed4f63c489347dbcce1a7" category="list-text">Coupez et collez le contenu de sortie dans un fichier appelé<block ref="b50999884a39c5efe8da46cd87acfeb2" prefix=" " category="inline-code"></block> stocké dans le répertoire bin de l'utilisateur Linux azacsnap et sécurisez le fichier avec les autorisations système appropriées.</block>
  <block id="211f39ae9cd979a9f01bb800eca0b832" category="admonition">Assurez-vous que le format du fichier JSON est exactement comme décrit ci-dessus, en particulier avec les URL entre guillemets doubles (").</block>
  <block id="c1f6adfa882cba0dbd256d4909ac588c" category="section-title">Terminer la configuration de l'outil AzAcSnap</block>
  <block id="e0e7b63ff02eb3221940162934949dd0" category="paragraph">Suivez ces étapes pour configurer et tester les outils de capture instantanée.  Après un test réussi, vous pouvez effectuer le premier instantané de stockage cohérent avec la base de données.</block>
  <block id="fe615094ac9bb468d26149280e3769d7" category="list-text">Passez au compte utilisateur snapshot.</block>
  <block id="4ef9af49185e683998d060aa71c30e2b" category="list-text">Modifier l'emplacement des commandes.</block>
  <block id="412d274adbc3fc7cb51ab315d7a77f82" category="list-text">Configurer un fichier de détails de sauvegarde de stockage.  Cela crée un<block ref="8ed8c6bfea85d72bc4a36772490109c7" prefix=" " category="inline-code"></block> fichier de configuration.</block>
  <block id="d4c18f094b4959d27f52ee2a9709a6b9" category="paragraph">Le résultat attendu avec trois volumes Oracle :</block>
  <block id="72b0a1cda785576a979ca4ee2e3c8c62" category="list-text">En tant qu’utilisateur Linux azacsnap, exécutez la commande de test azacsnap pour une sauvegarde Oracle.</block>
  <block id="7be23e8f29bfc799fd8fbcdc55fe0e77" category="list-text">Exécutez votre première sauvegarde instantanée.</block>
  <block id="c61bde3125ecb64e4b84664b7b602512" category="summary">Ce guide des meilleures pratiques fournit des détails sur une solution de déploiement et de migration de la base de données Oracle sur le stockage de fichiers Azure NetApp et la machine virtuelle Azure.</block>
  <block id="8a70737cbbacb33fdb8f99eff63d5441" category="doc">TR-4954 : Meilleures pratiques de déploiement et de migration de bases de données Oracle pour ANF</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">Aperçu</block>
  <block id="b2bd5134cf9b573edd93cbfe6ee4559d" category="paragraph">De nombreuses bases de données d’entreprise Oracle critiques sont toujours hébergées sur site, et de nombreuses entreprises cherchent à migrer ces bases de données Oracle vers un cloud public.  Souvent, ces bases de données Oracle sont centrées sur les applications et nécessitent donc des configurations spécifiques à l'utilisateur, une capacité qui manque à de nombreuses offres de cloud public de base de données en tant que service.  Par conséquent, le paysage actuel des bases de données nécessite une solution de base de données Oracle basée sur le cloud public, construite à partir d'un service de calcul et de stockage hautes performances et évolutif, capable de répondre à des exigences uniques.  Les instances de calcul de machine virtuelle Azure et le service de stockage Azure NetApp Files pourraient être les pièces manquantes de ce puzzle que vous pouvez exploiter pour créer et migrer vos charges de travail de base de données Oracle critiques vers un cloud public.</block>
  <block id="ca1f43ed95dcff37918897f15b054794" category="section-title">Machine virtuelle Azure</block>
  <block id="e3247bf98cee6a48e2210749d0b7ab2d" category="paragraph">Les machines virtuelles Azure sont l’un des nombreux types de ressources informatiques évolutives à la demande proposées par Azure.  En règle générale, vous choisissez une machine virtuelle lorsque vous avez besoin de plus de contrôle sur l’environnement informatique que ce que les autres choix offrent.  Les machines virtuelles Azure offrent un moyen rapide et simple de créer un ordinateur avec des configurations spécifiques requises pour exécuter votre base de données Oracle, qu’il s’agisse de charges de travail gourmandes en calcul ou en mémoire.  Les machines virtuelles d’un réseau virtuel Azure peuvent facilement être connectées au réseau de votre organisation, par exemple via un tunnel VPN sécurisé.</block>
  <block id="8f53b5241aa3284f9058318dcbc2504d" category="section-title">Azure NetApp Files (ANF)</block>
  <block id="466d154dd31c873c4a2fd7113dc6b818" category="paragraph">Azure NetApp Files est un service Microsoft entièrement géré qui transférera votre charge de travail de base de données vers le cloud plus rapidement et en toute sécurité que jamais.  Il a été conçu pour répondre aux exigences de base de l'exécution de charges de travail hautes performances telles que les bases de données Oracle dans le cloud, et il fournit des niveaux de performances qui reflètent la gamme réelle des demandes d'IOPS, une faible latence, une haute disponibilité, une durabilité élevée, une facilité de gestion à grande échelle et une sauvegarde, une récupération et un clonage rapides et efficaces.  Ces fonctionnalités sont possibles car Azure NetApp Files est basé sur des systèmes NetApp ONTAP entièrement flash physiques exécutés dans l’environnement du centre de données Azure.  Azure NetApp Files est entièrement intégré aux contrôleurs de domaine et au portail Azure, et les clients peuvent utiliser la même interface graphique et les mêmes API confortables pour créer et gérer des fichiers partagés qu’avec tout autre objet Azure.  Avec Azure NetApp File, vous pouvez exploiter toutes les fonctionnalités d’Azure sans risque, coût ou temps supplémentaire et faire confiance au seul service de fichiers d’entreprise natif d’Azure.</block>
  <block id="30106aaa3e986f62cbb327f935569bca" category="inline-link-macro">Bases de données Oracle sur Microsoft Azure</block>
  <block id="bdb41d103336edebf957f48add0f3554" category="inline-link-macro">NetApp- Automatisation</block>
  <block id="b3013ddda19ca14bf0c11f196dff4a57" category="paragraph">Cette documentation décrit en détail comment déployer, configurer et migrer une base de données Oracle avec une machine virtuelle Azure et un service de stockage Azure NetApp Files qui offre des performances et une durabilité similaires à celles d’un système local.  Pour des conseils sur les meilleures pratiques, voir TR-4780<block ref="43d70d3cb7600babfb5820086b5480b6" category="inline-link-macro-rx"></block> .  Plus important encore, NetApp fournit également des kits d’outils d’automatisation qui automatisent la plupart des tâches requises pour le déploiement, la configuration, la protection des données, la migration et la gestion de votre charge de travail de base de données Oracle dans le cloud public Azure.  Les kits d'outils d'automatisation sont disponibles en téléchargement sur le site GitHub public de NetApp :<block ref="1b9adaed0e4ba13a6d8f6edc7ab8f2d8" category="inline-link-macro-rx"></block> .</block>
  <block id="466e75a50b0c71805b14d8243bd95d89" category="summary">La solution fournit une boîte à outils utile pour dimensionner le calcul et le stockage pour le déploiement Oracle sur ANF dans le cloud Azure</block>
  <block id="785f4ba8d55db20dc724a60afc28f84a" category="doc">Guide de dimensionnement Oracle pour Azure NetApp Files</block>
  <block id="20b809a3f4824b521376cfc292ddd483" category="paragraph">Cette solution fournit une boîte à outils utile pour dimensionner le calcul et le stockage pour le déploiement Oracle sur ANF dans le cloud Azure.</block>
  <block id="ed5766f3cdc3adad7995cc81f0248354" category="paragraph">Le déplacement de la charge de travail Oracle existante d'une plate-forme à une autre, par exemple d'un environnement local vers un cloud public, nécessite de dimensionner le calcul et le stockage sur la plate-forme cible pour répondre aux exigences de performances et de niveau de service.  Cette documentation présente une boîte à outils simple pour atteindre cet objectif.</block>
  <block id="878511663b5526e80590b1e795eb9060" category="paragraph">Contrairement à une nouvelle application de base de données, qui peut évoluer au fil du temps, une charge de travail Oracle existante a établi des modèles de charge de travail en termes d'exigences de calcul et de stockage, qui sont enregistrés dans un référentiel de charge de travail Oracle ou AWR.  Cette boîte à outils utilise un analyseur HTML pour récupérer les informations pertinentes d'Oracle AWR.  Les résultats sont complétés par des informations de dimensionnement supplémentaires obtenues via des scripts SQL sur la base de données pour fournir des conseils de calcul et de stockage significatifs lors du déplacement de la base de données Oracle.</block>
  <block id="e7f0bfd3895df86bb57d400fdbd480eb" category="list-text">Fournissez des conseils de dimensionnement pour le calcul du serveur de base de données Oracle lors du déplacement de la base de données sur site vers le cloud Microsoft Azure.</block>
  <block id="4c5bd28bfdb3c1a3ec92f8604e5aacaa" category="list-text">Fournissez des conseils de dimensionnement pour le stockage du serveur de base de données Oracle lors du déplacement de la base de données sur site vers Microsoft Azure NetApp Files.</block>
  <block id="d6d4c06619c0b547d4b3329d35ce5f1d" category="list-text">Un administrateur de base de données qui gère les bases de données Oracle dans un centre de données privé sur site ou dans un environnement cloud Microsoft Azure.</block>
  <block id="0028d1ecc06926cad9bf6ed3e97d0582" category="list-text">Un administrateur de stockage qui gère le stockage sur site ou le stockage Microsoft Azure NetApp Files qui prend en charge les bases de données Oracle.</block>
  <block id="24533dfc47add8f8960eaaf1f7ab538f" category="list-text">Un propriétaire d’application qui souhaite migrer la base de données Oracle sur site vers le cloud Microsoft Azure.</block>
  <block id="398393a6740417ed0a5020cc6382706c" category="paragraph">En accédant, en téléchargeant, en installant ou en utilisant le contenu de ce référentiel de boîte à outils, vous acceptez les termes de la licence énoncés dans<block ref="62d065fbd7084423125af257eab414b9" category="inline-link-macro-rx"></block> .</block>
  <block id="1d7ed3a0dc5ae98ed34a1698c0936087" category="admonition">Il existe certaines restrictions concernant la production et/ou le partage d'œuvres dérivées du contenu de ce référentiel de boîte à outils.  Veuillez vous assurer de lire les termes de la licence avant d'utiliser le contenu.  Si vous n'acceptez pas toutes les conditions, n'accédez pas, ne téléchargez pas et n'utilisez pas le contenu de ce référentiel.</block>
  <block id="a9434144b2ecab8a1551aa3f356831a4" category="list-text">Rapports Oracle AWR qui capturent les instantanés des activités de la base de données pendant la charge de travail maximale des applications.</block>
  <block id="09893c03681f0427847775f074f38963" category="list-text">Accès à la base de données Oracle pour exécuter des scripts SQL avec privilège DBA.</block>
  <block id="97b8f9378711f0d69311d576b1f4a080" category="inline-link-macro">Guide de dimensionnement Oracle pour ANF</block>
  <block id="d61fd641d504e6b15572a5b645d11d7d" category="paragraph">Récupérer la boîte à outils du référentiel<block ref="9d80dd73d3a7a092e6605ac547074b0f" category="inline-link-macro-rx"></block></block>
  <block id="ef67c85019e8ac817ecbbb2983bd0153" category="section-title">Comment utiliser la boîte à outils ?</block>
  <block id="e0849abccea244e0fba40c3aa575d398" category="paragraph">La boîte à outils se compose d'un analyseur HTML basé sur le Web et de deux scripts SQL pour collecter des informations sur la base de données Oracle.  La sortie est ensuite saisie dans un modèle Excel pour générer des conseils de dimensionnement du calcul et du stockage pour le serveur de base de données Oracle.</block>
  <block id="f5db9a220f11d7b08f96f33f94122f33" category="inline-link-macro">Analyseur HTML</block>
  <block id="e82f0c37b6bd3400eddaf0d48fac4a76" category="list-text">Utilisez un<block ref="735c7742f70fe756ee1537fe41775ee0" category="inline-link-macro-rx"></block> Module AWR permettant de récupérer les informations de dimensionnement d'une base de données Oracle actuelle à partir d'un rapport AWR.</block>
  <block id="c000aa7f2c0d2b7df671b9d059b39d9a" category="list-text">Exécutez ora_db_data_szie.sql en tant qu'administrateur de base de données pour récupérer la taille du fichier de données Oracle physique à partir de la base de données.</block>
  <block id="7e56648a80a16947fe5208c82f20d2f8" category="list-text">Exécutez ora_db_logs_size.sql en tant qu'administrateur de base de données pour récupérer la taille des journaux archivés Oracle avec la fenêtre de conservation des journaux d'archivage souhaitée (jours).</block>
  <block id="d4cc69ca96964b53d4dc4a8c8e70fa45" category="list-text">Saisissez les informations de dimensionnement obtenues ci-dessus dans le fichier de modèle Excel oracle_db_sizing_template_anf.xlsx pour créer un guide de dimensionnement sur le calcul et le stockage pour le serveur Oracle DB.</block>
  <block id="c32f0548f32df1c5796715d6838accdc" category="section-title">Démonstration de l'utilisation de la boîte à outils</block>
  <block id="d5f96f88e7de03605e304965b97f0def" category="list-text">Ouvrez le module AWR de l'analyseur HTML.</block>
  <block id="da50365aa63534d4c2bd7ce86099231d" category="inline-image-macro">Cette image fournit un écran d'analyse HTML pour le dimensionnement Oracle</block>
  <block id="3f5b57723c46294beb00e1186aa5ad24" category="paragraph"><block ref="3f5b57723c46294beb00e1186aa5ad24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="331c55723aab195e48092626da4e6907" category="list-text">Vérifiez le format de sortie au format .csv et cliquez sur<block ref="c7de86f69db264c3950d8ae46ed2e33f" prefix=" " category="inline-code"></block> pour télécharger le rapport awr.  L'analyseur renvoie les résultats dans une page HTML avec un résumé du tableau ainsi qu'un fichier output.csv dans<block ref="801ab24683a4a8c433c6eb40c48bcd9d" prefix=" " category="inline-code"></block> dossier.</block>
  <block id="b1669933b15a72a1d097ccb948f1a63e" category="paragraph"><block ref="b1669933b15a72a1d097ccb948f1a63e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e58053ef001d0bd68ef74dcf703dbfc2" category="list-text">Ouvrez le fichier de modèle Excel et copiez-collez le contenu csv dans la colonne A et la cellule 1 pour générer les informations de dimensionnement du serveur de base de données.</block>
  <block id="a404780f0611d0e3011cd46a7dfab9ca" category="inline-image-macro">Cette image fournit une capture d'écran de modèle Excel pour le dimensionnement Oracle</block>
  <block id="b7e4998429b3b5a8354876cd11e093d1" category="paragraph"><block ref="b7e4998429b3b5a8354876cd11e093d1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c72112d51e1f40e5814355a84f4fdae" category="list-text">Mettez en surbrillance la colonne A et les champs 1 et 2, cliquez sur<block ref="f6068daa29dbb05a7ead1e3b5a48bbee" prefix=" " category="inline-code"></block> , alors<block ref="0e219571c786524302c4eebb4879a15e" prefix=" " category="inline-code"></block> pour ouvrir l'assistant de texte.  Choisir<block ref="f6a6c0fefcadb1df90205a0b9a7fb8b7" prefix=" " category="inline-code"></block> , alors<block ref="10ac3d04253ef7e1ddc73e6091c0cd55" prefix=" " category="inline-code"></block> à l'écran suivant.</block>
  <block id="6b8b67eff4ae7619f4c9640e5d46b619" category="paragraph"><block ref="6b8b67eff4ae7619f4c9640e5d46b619" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d01033901ef75a46bb97c8b3a8178d1" category="list-text">Vérifier<block ref="6311ae17c1ee52b36e68aaf4ad066387" prefix=" " category="inline-code"></block> , puis entrez '=' comme<block ref="958b66a95f3598861511c6b9239889ce" prefix=" " category="inline-code"></block> .  Cliquez sur<block ref="10ac3d04253ef7e1ddc73e6091c0cd55" prefix=" " category="inline-code"></block> à l'écran suivant.</block>
  <block id="4392e02cbca6fe375bf473ca46e889e9" category="paragraph"><block ref="4392e02cbca6fe375bf473ca46e889e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="709647fd98d95c62185491a6e07ba5b5" category="list-text">Cliquez sur<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> pour terminer la conversion de la chaîne en format de colonne lisible.  Notez que les champs de dimensionnement VM et ANF ont été renseignés avec les données récupérées à partir du rapport Oracle AWR.</block>
  <block id="cf05c5c12e1ac1f3947032075df24058" category="paragraph"><block ref="82d32fbdd353c5f6df12ee246dab167e" category="inline-image-macro-rx" type="image"></block> <block ref="ffaae23b1e866c7cdc3ad6a2059cb9d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="16a45fbf8378bcc158d03e720d4b5bba" category="list-text">Exécutez le script ora_db_data_size.sql, ora_db_logs_size.sql en tant qu'administrateur de base de données dans sqlplus pour récupérer la taille des données de la base de données Oracle existante et la taille des journaux archivés avec le nombre de jours de fenêtre de conservation.</block>
  <block id="5accfe4816c4c580d7ae070e09f468e5" category="admonition">Les informations de dimensionnement de la base de données récupérées à l'aide des scripts ci-dessus sont la somme de la taille réelle de tous les fichiers de données de base de données physiques ou fichiers journaux.  Cela ne prend pas en compte l’espace libre qui peut être disponible à l’intérieur de chaque fichier de données.</block>
  <block id="bb5201d282886d5d02f43e46996631ad" category="list-text">Saisissez le résultat dans un fichier Excel pour compléter la sortie des conseils de dimensionnement.</block>
  <block id="ebee364afb3abd101bd0eeb4f1016806" category="paragraph"><block ref="ebee364afb3abd101bd0eeb4f1016806" category="inline-image-macro-rx" type="image"></block></block>
  <block id="08917e640578a9459480e8e1aa85c104" category="list-text">ANF utilise un niveau de service à trois niveaux (Standard, Premium, Ultra) pour gérer la limite de débit du volume de la base de données.  Se référer à<block ref="d946b67215f0c4092575c0d87ca9aa5f" category="inline-link-macro-rx"></block> pour plus de détails.  En fonction des résultats des instructions de dimensionnement, choisissez un niveau de service ANF qui fournit un débit répondant aux exigences de la base de données.</block>
  <block id="a9d2cd7c11b6889ebe8c5d20ef8d1190" category="summary">La solution fournit une vue d'ensemble et des détails pour une récupération rapide d'Oracle VLDB déployé sur la machine virtuelle Google Compute Engine avec montage NFS sur le pool de stockage Google Cloud NetApp Volumes pour mettre en scène une copie de base de données de secours qui est fusionnée de manière incrémentielle en permanence via RMAN.</block>
  <block id="3df18118dead4d7d954b6bd79e563b6b" category="doc">TR-5007 : Optimiser la sauvegarde et la récupération Oracle VLDB avec la fusion incrémentielle sur serveur sur les Google Cloud NetApp Volumes</block>
  <block id="4dea7f6b93d69a3281f7d12f28f2c836" category="paragraph">La récupération d'une très grande base de données (VLDB) dans Oracle à l'aide de l'outil de sauvegarde Oracle Recovery Manager (RMAN) peut être une tâche très difficile.  Le processus de restauration de la base de données à partir d'un support de sauvegarde en cas de panne peut prendre du temps, retarder la récupération de la base de données et potentiellement avoir un impact significatif sur votre contrat de niveau de service (SLA).  La situation s'aggrave encore pour Oracle VLDB déployé dans le cloud, car la sauvegarde RMAN est généralement diffusée vers le stockage d'objets en raison de considérations de coût.  Par conséquent, il n’est pas viable de restaurer et de récupérer un VLDB si le SLA est essentiel.  À partir de la version 10g, Oracle a introduit une fonctionnalité RMAN qui permet aux utilisateurs de créer des copies d'image intermédiaires des fichiers de données de la base de données Oracle sur un stockage sur disque supplémentaire situé sur l'hôte du serveur de base de données.  Ces copies d'image peuvent être mises à jour de manière incrémentielle à l'aide de RMAN selon un intervalle défini par l'utilisateur.  En cas de panne, l'administrateur de base de données (DBA) peut rapidement basculer la base de données Oracle du support défaillant vers la copie d'image, éliminant ainsi le besoin d'une restauration complète du support de base de données.  Le résultat est un SLA grandement amélioré, bien qu’au prix d’un doublement du stockage de base de données requis.</block>
  <block id="2fa5d7dc487549a7833401477b2c605b" category="paragraph">Si vous êtes intéressé par le SLA pour votre VLDB et que vous envisagez de déplacer la base de données Oracle vers un cloud public tel que Google Cloud Platform (GCP), vous pouvez configurer une structure de protection de base de données similaire à l'aide de ressources telles que Google Cloud NetApp Volumes (GCNV) pour préparer votre copie d'image de base de données de secours.  GCNV est un service de stockage de fichiers hautes performances entièrement géré proposé par Google qui facilite, sécurise et rend plus rentable la migration et l'exécution d'applications d'entreprise exigeantes telles que la base de données Oracle dans Google Cloud.  Ses niveaux de service variés permettent la flexibilité de contrôler le coût de stockage tout en atteignant un RPO proche de zéro et un RTO gérable.  Dans cette documentation, nous démontrons comment provisionner et exporter un système de fichiers NFS à partir d'un pool de stockage GCNV pour le monter sur un serveur de base de données Oracle afin de préparer une copie de base de données de secours pour une récupération rapide en cas de panne de stockage principal.</block>
  <block id="e41fb07802a91f8849d8c2ce357c8d4f" category="list-text">Sauvegarde de copie d'image des fichiers de données de base de données Oracle via RMAN vers un système de fichiers NFS sur serveur sur un pool de stockage Google Cloud NetApp Volumes .</block>
  <block id="217aa677edcff2aa1e3bba382f52fef3" category="list-text">Récupération rapide d'un Oracle VLDB en cas de panne sur la même VM Google Compute Engine ou sur une VM de secours.</block>
  <block id="003d272efe0cb24d229088b8e7fb7859" category="list-text">Clonez une copie de base de données Oracle sur un hôte clone pour d'autres cas d'utilisation à partir de la copie d'image de base de données intermédiaire en quelques minutes.</block>
  <block id="511cf9fac168dd7d5b1261e335c2e0f8" category="list-text">Un administrateur de base de données qui configure et gère Oracle VLDB dans la plateforme Google Cloud.</block>
  <block id="45cc5f4bdb8bb6eeab5a5b1da8d2293d" category="list-text">Un architecte de solutions de base de données qui teste les charges de travail Oracle dans la plateforme Google Cloud.</block>
  <block id="ab635707025ce48f98ee4d6a3c166a17" category="list-text">Un administrateur de stockage qui gère les bases de données Oracle déployées sur les pools de stockage GCNV.</block>
  <block id="4d47d0eed355af4efa793ed30818be40" category="list-text">Un propriétaire d'application qui souhaite mettre en place des bases de données Oracle dans Google Cloud Platform.</block>
  <block id="e6849ae533ce1e181073f2cfe965c78c" category="paragraph">Les tests et la validation de cette solution ont été effectués dans des pools de stockage Google Cloud NetApp Volumes et des machines virtuelles Google Compute Engine qui pourraient ne pas correspondre à l'environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="c11a98355b333f2b180fd5f54595dc7c" category="inline-image-macro">Cette image fournit une image détaillée de l'implémentation de la fusion incrémentielle Oracle VLDB dans Google Cloud avec GCNV.</block>
  <block id="982aa9d8c6b2535aa9b84732aec0dab1" category="paragraph"><block ref="982aa9d8c6b2535aa9b84732aec0dab1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f21b6a2382d256aa586680b59e096f52" category="cell">Pools de stockage Google Cloud NetApp Volumes</block>
  <block id="4eefdf824befa119e7123cbc3506ff77" category="cell">Services actuels offerts par Google</block>
  <block id="7c2735930a64d6d644940444317ccba5" category="cell">Pool de stockage de 2 Tio avec service Premium, pool de stockage de 2 Tio avec service standard</block>
  <block id="dc311520f56bf65b0f05633ee3a59438" category="cell">Machine virtuelle Google Compute Engine pour serveur de base de données</block>
  <block id="994403285c25c7868b9c5d12040acaa0" category="cell">N1 (4 vcpu, 15 Gio de mémoire)</block>
  <block id="b87a8dedca7795dfd0a96cf1a447f06f" category="cell">2 machines virtuelles, une comme serveur de base de données principal et l'autre comme serveur de base de données de secours ou clone</block>
  <block id="f6a00acc4e994469d58fd3e88369ec5f" category="cell">Red Hat Enterprise Linux 8.10 (Ootpa) - x86/64</block>
  <block id="5def2287fc9938fd6e8233a1aab13eb5" category="cell">Image de la place de marché RHEL, PAYG</block>
  <block id="ce636607c5b432e8113a4c010a03698b" category="list-text">*Niveau de service du pool de stockage GCNV.*  Le pool de stockage GCNV propose quatre niveaux de service : Standard, Premium, Extreme et Flex.  Par défaut, une QoS automatique s'applique à un volume créé dans un pool de stockage, ce qui limite le débit du volume en fonction de sa taille ainsi que du niveau de service.  La seule exception est que les volumes alloués à partir du pool de stockage Flex partagent le débit disponible pour le pool de stockage.</block>
  <block id="b6e3073aa6f03b7abbef4a13fe7bad06" category="list-text">*Limite de stockage de sauvegarde sur serveur Oracle VLDB pour la fusion incrémentielle RMAN.*  Dans notre test et validation, un volume NFS pour la sauvegarde incrémentielle et la fusion Oracle est alloué à partir d'un seul pool de stockage GCNV avec un niveau de service standard, qui a une limite de capacité de 200 Tio.  Pour un déploiement au-delà de ces seuils, plusieurs pools de stockage GCNV peuvent être implémentés en parallèle avec plusieurs points de montage NFS pour fournir une capacité supérieure.</block>
  <block id="2dc86d5e55889328f95168005ae971e6" category="list-text">*Récupération Oracle à l'aide de la fusion incrémentielle RMAN.*  La sauvegarde incrémentielle et la fusion sur serveur RMAN sont généralement exécutées à une fréquence définie par l'utilisateur en fonction de vos objectifs RTO et RPO.  En cas de perte totale du stockage des fichiers de la base de données principale et/ou des journaux archivés, une perte de données peut se produire.  La base de données Oracle peut être récupérée jusqu'à la dernière sauvegarde incrémentielle disponible à partir de la copie d'image de sauvegarde de la base de données sur le serveur.  Pour minimiser la perte de données, la zone de récupération flash Oracle doit être configurée sur le point de montage de sauvegarde NFS GCNV, et les journaux archivés sont sauvegardés sur le même montage NFS avec une copie de l'image de base de données pour transférer la base de données vers le dernier journal archivé, en cas de panne.  Ainsi, un RPO proche de zéro peut être atteint.</block>
  <block id="fa8962ac2a0644c0b737f5d9913ed2aa" category="list-text">*Exécution d'Oracle VLDB à partir d'une sauvegarde d'image NFS sur un pool de stockage GCNV.*  À ce stade, la réaffectation du niveau de service du volume de base de données de standard à premium ou extrême n'est pas prise en charge.  Toutefois, la réaffectation des niveaux de service de premium à extrême est prise en charge.  Pour exécuter la base de données sur une copie d'image pendant une période prolongée après une panne, il est recommandé d'allouer un volume à partir du pool de stockage premium pour la sauvegarde de la copie d'image de la base de données.</block>
  <block id="a65a4d1b202aad0e41c33159971db2da" category="list-text">*Machines virtuelles Google Compute Engine.*  Dans le test et la validation, nous avons utilisé le type N1 d'instance de machine virtuelle GCE comme serveurs de base de données Oracle.  Il existe d’autres types de machines virtuelles GCE qui peuvent être plus optimisées et mieux adaptées à la charge de travail de la base de données.  Dimensionnez la machine virtuelle de manière appropriée en fonction du nombre de vCPU et de la quantité de RAM en fonction des exigences réelles de la charge de travail.</block>
  <block id="58c31c175760ef2afef9370059c87279" category="list-text">*Configuration dNFS.* dNFS est intégré au noyau Oracle et est connu pour augmenter considérablement les performances de la base de données Oracle lorsque Oracle est déployé sur le stockage NFS. dNFS est empaqueté dans le binaire Oracle mais n'est pas activé par défaut.  Il doit être activé pour tout déploiement de base de données Oracle sur NFS.  Pour le déploiement de plusieurs pools de stockage GCNV pour un VLDB, les chemins multiples dNFS vers différents pools de stockage GCNV doivent être correctement configurés.</block>
  <block id="d5042fcbf75a335e4bbd64458969c169" category="paragraph">La solution suppose qu’un Oracle VLDB est déjà déployé dans l’environnement Google Cloud au sein d’un VPC.  Oracle VLDB peut s'exécuter sur le stockage GCNV ou sur toute autre option de stockage au sein de l'écosystème Google Cloud.  La section suivante fournit des procédures de déploiement étape par étape pour la configuration d'une sauvegarde d'image Oracle VLDB et d'une fusion incrémentielle via RMAN vers un système de fichiers NFS monté à partir d'un pool de stockage GCNV.  Le stockage principal d'Oracle VLDB est également hébergé sur un pool de stockage GCNV différent.</block>
  <block id="4584e211ab63f558a256410aadccfe21" category="list-text">Un compte GCP a été configuré et la configuration VPC et réseau nécessaire a été créée dans un projet dans le compte Google Cloud.</block>
  <block id="694bb5d3641d16eb91812f8515d06f39" category="inline-link-macro">Créer un pool de stockage</block>
  <block id="9629c50053f6440c4d3f3de413fa5c5d" category="list-text">Depuis la console du portail Google Cloud, suivez la documentation<block ref="ccf54767debcb21f2c036879522a1373" category="inline-link-macro-rx"></block> pour créer un pool de stockage GCNV avec un service standard comme indiqué ci-dessous.</block>
  <block id="39f75c435beb6f2c1269a252d1eeb433" category="inline-image-macro">Cette image présente l'écran du pool de stockage GCNV de la console du portail cloud de Google</block>
  <block id="fa882d48839ce7c395cb6672faf3203c" category="paragraph"><block ref="fa882d48839ce7c395cb6672faf3203c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="inline-link-macro">Créer un volume</block>
  <block id="089b4c13d09085d441e341f9e9a07c9f" category="list-text">Depuis la console du portail Google Cloud, suivez la documentation<block ref="4db6c28dc7628e964ce59182faf325bf" category="inline-link-macro-rx"></block> pour créer un volume pour la sauvegarde d'image Oracle VLDB sur le serveur.  Dans cette démonstration de solution, le stockage principal Oracle VLDB est également hébergé sur GCNV comme indiqué ci-dessous.</block>
  <block id="8c35935b792dbfb0c45b0ba043179020" category="inline-image-macro">Cette image présente l'écran des volumes de stockage GCNV de la console du portail cloud de Google</block>
  <block id="f3cba55811f1586d3cbcd30eb0d88882" category="paragraph"><block ref="f3cba55811f1586d3cbcd30eb0d88882" category="inline-image-macro-rx" type="image"></block></block>
  <block id="63d963bb68e25b14a31a9131be37d0f6" category="section-title">Monter un volume NFS de GCNV sur le serveur Oracle VLDB principal</block>
  <block id="65deb2cd638fe3e222246b20b5ef3fdb" category="paragraph">Le volume GCNV provisionné pour la sauvegarde sur serveur Oracle VLDB doit idéalement être situé dans la même zone Google Cloud que le serveur de base de données principal et le stockage principal pour de meilleures performances.</block>
  <block id="05629bf787dc88b6a67261df4424ecdc" category="list-text">Récupérez le chemin d’exportation NFS du volume GCNV à partir de la console Google Cloud.</block>
  <block id="e78f41de213df01d36f1200c184f68f0" category="paragraph"><block ref="e78f41de213df01d36f1200c184f68f0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="509b916009ae5598cca4730826e296de" category="list-text">Connectez-vous au serveur Oracle VLDB principal.  En tant que root, montez le volume NFS exporté depuis le stockage GCNV.  Modifiez l'adresse IP et le chemin d'accès au fichier de votre serveur NFS selon vos besoins.</block>
  <block id="4f9459ab35b0d146cb31194babf2fbc1" category="list-text">Modifiez la propriété du point de montage sur oracle:oisntall ou modifiez votre nom d'utilisateur Oracle et votre groupe principal si nécessaire.</block>
  <block id="18ff92cceaf8a206e0bd24262ca37891" category="list-text">Ajoutez le montage NFS à /etc/fstab.</block>
  <block id="0270b4b10541e40381248cc22e46cff0" category="section-title">Configurer la fusion incrémentielle Oracle RMAN vers une copie d'image sur GCNV pour la sauvegarde VLDB sur serveur</block>
  <block id="29942911cbc26b4e3d4d25c44d4633eb" category="paragraph">La fusion incrémentielle RMAN met à jour la copie d'image des fichiers de données de la base de données intermédiaire en continu à chaque intervalle de sauvegarde/fusion incrémentielle.  La copie d'image de la sauvegarde de la base de données sera aussi à jour que la fréquence à laquelle vous exécutez la sauvegarde/fusion incrémentielle.  Prenez donc en compte les performances de la base de données, vos objectifs RTO et RPO lorsque vous décidez de la fréquence de sauvegarde incrémentielle et de fusion RMAN.</block>
  <block id="38f21ad9fd660bb6f7bfaa10848ca926" category="list-text">Pour cette validation de solution, la base de données principale est configurée en tant que serveur autonome avec une infrastructure de grille. Redémarrez la configuration comme indiqué ci-dessous.  Le stockage principal est hébergé sur le pool de stockage GCNV avec un service premium.  Encore une fois, ce n’est pas une exigence et le stockage principal peut être sur n’importe quelle autre option de stockage dans Google Cloud.</block>
  <block id="149c37c34bf64c04f425d2e582aee8e7" category="list-text">Créez un répertoire oracopy sous le point de montage /nfsgcnv pour stocker les copies d'image des fichiers de données Oracle et un répertoire archlog pour la zone de récupération flash Oracle.</block>
  <block id="5dc0b9ea1d15566116bce3ddf354b931" category="list-text">Connectez-vous à la base de données Oracle via sqlplus, activez le suivi des modifications de bloc pour une sauvegarde incrémentielle plus rapide et modifiez la zone de récupération flash Oracle en montage NFS GCNV si elle se trouve actuellement sur le stockage principal.  Cela permet de sauvegarder le fichier de contrôle par défaut RMAN/SPfile et les journaux archivés automatiquement sur le montage NFS GCNV pour la récupération de la base de données vers le dernier journal d'archive disponible.</block>
  <block id="d2042742856dda13e5e180b25f282a3e" category="list-text">Répertoriez la copie de l'image de la base de données après la sauvegarde pour observer qu'une copie de l'image de la base de données a été créée dans le point de montage NFS GCNV.</block>
  <block id="9dd2693d04c45817b40d8020cd923c73" category="list-text">Exécutez le script de sauvegarde RMAN à partir d'un simple script shell UNIX à partir de crontab à l'intervalle souhaité.</block>
  <block id="1a9c5eb6e12ed6f71cff1f8c31f50b15" category="paragraph">Ceci termine la configuration d'une sauvegarde de copie d'image de secours Oracle VLDB et la fusion sur un montage NFS sur serveur à partir du stockage GCNV.</block>
  <block id="e2402f914162d51a116e757f8412b5ce" category="section-title">Récupération rapide d'Oracle VLDB à l'aide d'une copie d'image de sauvegarde</block>
  <block id="a55c5b79e21221c0ad4ffa7c4c337f7c" category="section-title">Récupération complète en cas de perte ou de corruption des fichiers de données Oracle</block>
  <block id="bbe965d3a3fa8390637051d65ad58304" category="paragraph">En cas de panne due à un problème de stockage principal tel qu'une perte ou une corruption de données, la base de données peut être rapidement basculée vers une copie d'image sur le montage NFS GCNV et récupérée à l'état actuel sans restauration de la base de données.  L’élimination de la restauration des supports accélère considérablement la récupération de la base de données pour un VLDB.  Ce cas d'utilisation suppose que le serveur de base de données Oracle VLDB est intact et que le fichier de contrôle de la base de données, les journaux archivés et actuels sont tous disponibles pour la récupération.</block>
  <block id="fc28edcb3ff08bd19407349a833c74ab" category="list-text">Connectez-vous à l'hôte du serveur VLDB principal en tant qu'utilisateur Oracle et créez une table de test avant le basculement.</block>
  <block id="3de1e8fb0b4f48ceb3b91426c1db1605" category="list-text">Insérer une ligne dans la table de test.  La ligne est insérée après une sauvegarde incrémentielle et une fusion les plus récentes et ses données ne figurent pas dans le jeu de sauvegarde.  La démonstration suivante montrera que la ligne de test est récupérée une fois la base de données complètement récupérée.</block>
  <block id="f0df32e03ca40e95e9ec6f50b54fa7d8" category="list-text">Simulez une panne en arrêtant la base de données.</block>
  <block id="81fe64311fbf36dab3bfa4debc9226d2" category="list-text">En tant qu'utilisateur Oracle, connectez-vous à la base de données Oracle via RMAN pour basculer la base de données à copier.</block>
  <block id="1a80f9f85d51c0eaa1e7f56c32ab7fdd" category="list-text">Vérifiez la structure de la base de données à partir de sqlplus après la récupération pour observer que tous les fichiers de données VLDB à l'exception des fichiers journaux de contrôle, temporaires et actuels sont désormais basculés vers la copie sur le système de fichiers NFS GCNV.</block>
  <block id="4170eaea10d4eb66d78f56d93c9f7189" category="list-text">À partir de SQL plus, validez que la ligne de test que nous avons inertée après la dernière sauvegarde incrémentielle et avant de passer à la copie de sauvegarde d'image a été récupérée.</block>
  <block id="b3c20344742571292e7fbc9dae69c6f2" category="section-title">Inverser l'Oracle VLDB vers le stockage principal à partir de la copie de sauvegarde</block>
  <block id="951f9098a1bd5e0cb3a5c4d265de5b28" category="paragraph">Une fois la panne de stockage corrigée au niveau du stockage principal, la base de données peut être facilement rétablie vers le stockage principal avec un temps d'arrêt minimal.  Voici les procédures étape par étape.</block>
  <block id="2f3f0c5d325ccc40351c7608487e1ff1" category="list-text">À partir de RMAN, vérifiez que le schéma de base de données se trouve actuellement sur le stockage de sauvegarde GCNV.</block>
  <block id="f3c7d225a25d3e0d3358226dab079c17" category="list-text">Une fois la base de données principale basculée vers la copie d'image, la base de données principale est désormais une copie dans l'enregistrement RMAN.</block>
  <block id="c57e0a236ef4cc67ce104cc96b7ab18e" category="list-text">Purgez les fichiers de données désormais obsolètes sur le stockage principal s'ils existent pour libérer de l'espace et/ou effacer l'enregistrement.</block>
  <block id="24ec1af504c3fd594fe5b48c8f447603" category="list-text">Révisez le script de sauvegarde et de fusion rman pour pointer vers le stockage principal et dans notre cas de test - le groupe de disques ASM + DATA dans la définition du canal RMAN.  Exécutez le script de sauvegarde révisé pour créer une nouvelle copie d’image sur le stockage principal.</block>
  <block id="b1fdb89a4902d5b114543243a80cd23f" category="list-text">Validez qu’une nouvelle copie d’image VLDB est désormais créée sur le stockage principal.</block>
  <block id="53f34ebce82695dc1498d6eb421b67e5" category="list-text">Insérez une nouvelle ligne de test dans la table de test et vérifiez que le retour à la copie d'image sur le stockage principal récupère toutes les transactions.</block>
  <block id="adf4c6ec1e9cbc93c79f4cca7f25a856" category="list-text">Depuis RMAN, arrêtez la base de données pour revenir à la copie d'image de sauvegarde sur le stockage principal.</block>
  <block id="704923b5531f2d38ee358e8b85c89915" category="list-text">Validez que la base de données est désormais de retour au stockage principal.</block>
  <block id="a1c5c3c4079a86e3567cf5162d7609f6" category="list-text">Validez depuis sqlplus que toutes les transactions sont récupérées dans la table de test.</block>
  <block id="7ab2cb4b14d02bbea99aedfdd93fcb0c" category="list-text">Enfin, supprimez la copie d’image DB obsolète sur le stockage de sauvegarde GCNV et créez une nouvelle image de sauvegarde sur le stockage de sauvegarde GCNV pour terminer le cycle.</block>
  <block id="3a03bef7a5f9afdda5e2bf8be11f8d91" category="section-title">Récupération ponctuelle avec perte de tous les fichiers Oracle</block>
  <block id="f607c9390b2d7eaa214d13dc1ffd7795" category="paragraph">En cas de panne entraînant la perte du stockage principal et/ou de l'hôte du serveur de base de données principal, toutes les transactions ne figurant pas dans les fichiers journaux archivés seraient perdues.  Cependant, votre copie d'image de sauvegarde de base de données Oracle disponible sur le système de fichiers NFS GCNV est pratique.  Vous pouvez rapidement récupérer la base de données principale sur le même serveur de base de données principal ou sur un serveur de base de données de secours, s'il en existe un disponible, à l'aide de la copie d'image de sauvegarde.  Dans cette section, nous allons démontrer les procédures étape par étape pour la récupération sur le serveur de base de données principal.  Les méthodes de récupération vers un nouveau serveur de base de données de secours sont presque identiques ; cependant, la copie de l'image de sauvegarde de la base de données doit être montée sur le serveur de base de données de secours avec la même pile logicielle Oracle installée et configurée.</block>
  <block id="7cd2e8d2b04e02c373aaf508697f7682" category="list-text">Insérez une ligne pour tester la table que nous avons créée précédemment pour la validation de récupération ponctuelle Oracle VLDB.</block>
  <block id="e87b088552e84be458ac617a3ee72000" category="list-text">Archivez le fichier journal actuel afin que la transaction soit poussée vers un fichier journal archivé.</block>
  <block id="19eedf1b8ce6986e31cab0197162ffb5" category="list-text">Si la récupération est effectuée sur un serveur de base de données de secours, assurez-vous qu'il s'agit du même système d'exploitation, de la même version et du même noyau de système d'exploitation corrigés que l'hôte du serveur de base de données principal.  De plus, la même version et les mêmes correctifs d'Oracle ont été installés et configurés sur le serveur de base de données de secours avec l'option logicielle uniquement.</block>
  <block id="808f426c59edd80c09bbda921a0085cb" category="list-text">Configurez également l'environnement Oracle sur le serveur de base de données de secours de la même manière que le serveur de base de données principal, comme oratab et l'utilisateur Oracle .bash_profile, etc. Il est recommandé de sauvegarder ces fichiers sur le point de montage NFS GCNV.</block>
  <block id="efc019b59b6d6b9d0343e8d170eb9bb2" category="list-text">La copie de l'image de sauvegarde de la base de données Oracle sur le système de fichiers NFS GCNV est ensuite montée sur le serveur de base de données de secours pour la récupération.  Les procédures suivantes illustrent les détails du processus.</block>
  <block id="d2bada662e6483ee2947ddc07417c7be" category="paragraph">En tant qu'utilisateur administrateur, créez le point de montage.</block>
  <block id="0c996df5bdd4066f20471ce79fa250a9" category="paragraph">En tant qu'utilisateur administrateur, montez le volume NFS qui stockait la copie de l'image de sauvegarde Oracle VLDB.</block>
  <block id="59a58fd47c9ac89585d6c1c3aecfb047" category="list-text">Vérifiez les journaux archivés Oracle disponibles sur le montage NFS GCNV pour la récupération et notez le dernier numéro de séquence du journal du fichier journal.  Dans notre cas de test, c'était 27.  Notre point de récupération se situe jusqu'à la séquence de journal numéro 28.</block>
  <block id="06864d719b131b436e991e3f7be1c375" category="list-text">En cas de récupération à partir d'un hôte de base de données de secours, en tant qu'utilisateur Oracle, définissez la variable ORACLE_HOME sur l'installation Oracle actuelle sur le serveur de base de données de secours, ORACLE_SID sur le SID de l'instance Oracle principale.  Dans ce test, c'est NTAP.</block>
  <block id="b53bb5d301f145df038caa7789e0dbe9" category="list-text">En tant qu'utilisateur Oracle, créez un fichier d'initialisation Oracle générique dans le répertoire $ORACLE_HOME/dbs avec les répertoires d'administration appropriés configurés.  Le plus important est d'avoir Oracle<block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> pointez vers le chemin de montage NFS GCNV tel que défini dans le serveur Oracle VLDB principal. <block ref="54205e08f5455705eb7a595f7e4f620f" prefix=" " category="inline-code"></block> la configuration est démontrée dans la section<block ref="0270b4b10541e40381248cc22e46cff0" prefix=" " category="inline-code"></block> .  Définissez le fichier de contrôle Oracle sur le système de fichiers de sauvegarde NFS GCNV.</block>
  <block id="ce91b89a8eed647341c691bebf7404c7" category="list-text">En tant qu'utilisateur Oracle, lancez RMAN pour exécuter la récupération Oracle sur l'hôte du serveur de base de données principal ou de secours.  Tout d’abord, démarrez l’instance Oracle dans<block ref="b407a7f2e317a40388660332475e7643" prefix=" " category="inline-code"></block> État.</block>
  <block id="770cba9e0c8b6233e05f029908ff7214" category="list-text">Définir l'ID de la base de données.  L'ID de la base de données peut être récupéré à partir du nom de fichier Oracle de la copie d'image sur le point de montage NFS GCNV.</block>
  <block id="74be05b5a013409e259d8d7ee1f6a650" category="list-text">Restaurez le fichier d'initialisation du fichier spfile vers le dossier $ORACLE_HOME/dbs pour mettre à jour le fichier de paramètres ultérieurement afin qu'il corresponde au VLDB principal.</block>
  <block id="d7a1c9f02040db2b8f64ea7d73a17d6b" category="list-text">Validez que les fichiers de base de données sont désormais sur le système de fichiers de sauvegarde sur GCNV.</block>
  <block id="2757591555ce9050f73606ac8dd57a3e" category="list-text">Pour revenir au stockage principal, suivez exactement les mêmes procédures que celles détaillées dans la section<block ref="d286e8a221136fce9fa30a138e88c921" prefix=" " category="inline-code"></block> .  En cas de récupération sur un serveur de base de données de secours, le stockage principal doit être importé dans le serveur de base de données de secours.  Il est également nécessaire de déplacer les fichiers de contrôle Oracle et les fichiers journaux en ligne actuels du montage NFS GCNV vers le stockage principal, ce qui peut être réalisé avec quelques minutes d'arrêt.</block>
  <block id="4b28dc325fead360c696104250629571" category="paragraph">Cela termine la récupération ponctuelle de la base de données Oracle VLDB à partir de la copie d'image de sauvegarde sur le système de fichiers NFS GCNV vers le même serveur de base de données principal ou un serveur de base de données de secours.</block>
  <block id="0a879ff481208b2cc39cbad824621329" category="section-title">Cloner une base de données Oracle VLDB pour d'autres cas d'utilisation à partir de la copie de l'image de sauvegarde</block>
  <block id="18755f82163e565c1b5a547156656d87" category="paragraph">Cloner un nouveau Oracle VLDB à partir de la copie d'image de sauvegarde sur GCNV est similaire à la récupération ponctuelle de la base de données principale sur un nouveau serveur de base de données.  L'équipe d'ingénierie des solutions NetApp fournit une boîte à outils d'automatisation pour faciliter l'ensemble des processus pour une mise en œuvre rapide (en quelques minutes) et sans effort.</block>
  <block id="b1f1cc52fda1ee9837b78c5d34520a8e" category="paragraph">La boîte à outils d'automatisation suivante contient un playbook qui peut être utilisé pour créer ou actualiser des clones d'un Oracle VLDB à partir d'une copie d'image de sauvegarde de base de données principale stockée sur le stockage GCNV via un montage NFS pour une gestion complète du cycle de vie des clones.  Pour plus de détails, reportez-vous à la documentation :<block ref="ab1a6aadd5a9f254399b11073837e41d" category="inline-link-macro-rx"></block> .</block>
  <block id="2e48619d7f0f1a861022ed80eed6e4b9" category="list-text">Le meilleur service de stockage de fichiers de NetApp, dans Google Cloud</block>
  <block id="611541e99ccc797c389336c16d58f458" category="inline-link-macro"><block ref="611541e99ccc797c389336c16d58f458" category="inline-link-rx"></block></block>
  <block id="e6ef22ce453d3903dec6964c177adeb1" category="paragraph"><block ref="e6ef22ce453d3903dec6964c177adeb1" category="inline-link-macro-rx"></block></block>
  <block id="9e176713e99defae5803c109e73b8ee9" category="summary">La solution fournit une vue d'ensemble et des détails pour la configuration d'une base de données Oracle Very Large Database (VLDB) à haut débit sur Google Cloud NetApp Volumes (GCNV) avec Oracle Data Guard dans Google Cloud.</block>
  <block id="65891978f449047f0d48a6d9b6f5455d" category="doc">TR-5006 : Implémentation Oracle VLDB à haut débit sur les Google Cloud NetApp Volumes avec Data Guard</block>
  <block id="2ed312235681fd18dabb3ed5a3d54438" category="paragraph">Le débit élevé et la mission critique d'Oracle VLDB imposent une forte demande en matière de stockage de base de données back-end.  Pour respecter le contrat de niveau de service (SLA), le stockage de la base de données doit fournir la capacité requise et des opérations d'entrée/sortie par seconde (IOPS) élevées tout en maintenant des performances de latence inférieures à la milliseconde.  Cela est particulièrement difficile lors du déploiement d’une telle charge de travail de base de données dans le cloud public avec un environnement de ressources de stockage partagées.  Toutes les plateformes de stockage ne sont pas créées de la même manière.  GCNV est un service de stockage premium proposé par Google qui peut prendre en charge les déploiements de bases de données Oracle critiques dans le cloud Google nécessitant des IOPS soutenues et des caractéristiques de performances à faible latence.  L'architecture prend en charge les charges de travail OLTP et OLAP, avec des niveaux de service configurables prenant en charge divers profils de performances.  GCNV offre des performances ultra-rapides avec une latence inférieure à la milliseconde, atteignant jusqu'à 4,5 Giobits par volume avec des charges de travail mixtes en lecture/écriture.</block>
  <block id="7a5181ae501724c8981b2701a0733efb" category="paragraph">En tirant parti de la fonction de sauvegarde instantanée rapide (en secondes) et de clonage (en minutes) de GCNV, des copies pleine taille de la base de données de production peuvent être clonées à la volée à partir de Physical Standby pour servir de nombreux autres cas d'utilisation tels que DEV, UAT, etc. Vous pouvez vous passer d'une licence Active Data Guard et d'un Snapshot Standby inefficace et complexe.  Les économies de coûts peuvent être substantielles.  Pour une configuration Oracle Data Guard nominale avec des processeurs à 64 cœurs sur les serveurs Oracle principaux et de secours, les économies de coûts de licence Active Data Guard s'élèvent à 1 472 000 $ sur la base de la dernière liste de prix Oracle.  </block>
  <block id="e40168b16a72066fc1b03f2a7f835b9e" category="paragraph">Dans cette documentation, nous montrons comment configurer un Oracle VLDB avec une configuration Data Guard sur un stockage GCNVS avec plusieurs volumes NFS et Oracle ASM pour l'équilibrage de la charge de stockage.  Les volumes de base de données de secours peuvent être rapidement sauvegardés via un instantané et clonés pour un accès en lecture/écriture.  L'équipe d'ingénierie des solutions NetApp fournit une boîte à outils d'automatisation pour créer et actualiser des clones avec une gestion simplifiée du cycle de vie.</block>
  <block id="5f69812f74c145354686734c0c7a7208" category="list-text">Implémentation d'Oracle VLDB dans un paramètre Data Guard sur le service de stockage GCNV dans les régions cloud de Google.</block>
  <block id="0fdfcc206ca7a481aa45be7b6a45414f" category="list-text">Un administrateur de base de données qui configure Oracle VLDB avec Data Guard dans Google Cloud pour une haute disponibilité, une protection des données et une reprise après sinistre.</block>
  <block id="914fecaa697a83ba7600c174057db529" category="list-text">Un architecte de solutions de base de données intéressé par Oracle VLDB avec configuration Data Guard dans le cloud Google.</block>
  <block id="5583b43c5b2bd0cfc165dd5b88e321df" category="list-text">Un administrateur de stockage qui gère le stockage GCNV prenant en charge la base de données Oracle.</block>
  <block id="3b2bfc934cedcd552f3068ba796e288a" category="list-text">Un propriétaire d'application qui aime mettre en place Oracle VLDB avec Data Guard dans un environnement cloud Google.</block>
  <block id="a6cbbdd808b8b892517323e2f3505d19" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement de laboratoire Google Cloud qui peut ne pas correspondre à l'environnement de déploiement réel de l'utilisateur. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="7fb941faea81cb735c59e1830fe69196" category="inline-image-macro">Cette image fournit une image détaillée de l'implémentation d'Oracle Data Guard dans Google Cloud sur GCNV.</block>
  <block id="90f88c874b755d612817bb7b5c0f2725" category="paragraph"><block ref="90f88c874b755d612817bb7b5c0f2725" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1215f8190533dfdf63d2224a6d88266f" category="cell">Google Cloud NetApp Volumes</block>
  <block id="a699af9b8517f65b9f7b6f0440e0f495" category="cell">Service actuel offert par Google</block>
  <block id="17a4b1be155a0821da124687c67a12ef" category="cell">Deux pools de stockage, niveau de service Premium, QoS automatique</block>
  <block id="40fe8ff9e3c4bff0c248e322fa50c913" category="cell">Machines virtuelles Google Compute Engine pour serveurs de base de données</block>
  <block id="5980c1c893a4847a950667aa69c2b19d" category="cell">Quatre machines virtuelles de base de données, un serveur de base de données principal, un serveur de base de données de secours, un serveur de base de données clone et un observateur Data Guard.</block>
  <block id="8d055ca47d2f6064ebb4f1b454aa761a" category="cell">NTAP_NY.cvs-pm-host-1p.internal</block>
  <block id="4dea8a1b4fa06cccbb47de1dfcbdd15d" category="cell">NTAP_LA.cvs-pm-host-1p.internal</block>
  <block id="7e7a78ceef36035bc24e49c533b4d776" category="list-text">* Configuration des Google Cloud NetApp Volumes .*  Les GCNV sont alloués dans le cloud Google comme<block ref="3052d17347aa0231748580e06110ace9" prefix=" " category="inline-code"></block> .  Dans ces tests et validations, nous avons déployé un pool de stockage de 2 Tio pour héberger la base de données principale Oracle dans la région East4 et un pool de stockage de 4 Tio pour héberger la base de données de secours et le clone de base de données dans la région West4.  Le pool de stockage GCNV dispose de quatre niveaux de service : Flex, Standard, Premium et Extreme.  La capacité d'E/S du pool de capacité ANF est basée sur la taille du pool de capacité et son niveau de service.  Lors de la création d'un pool de capacité, vous définissez l'emplacement du pool de stockage, le niveau de service, la zone de disponibilité et la capacité du pool de stockage.  Pour la configuration d'Oracle Data Guard, la disponibilité zonale doit être suffisante car Data Guard fournit la protection de basculement de la base de données en cas de défaillance au niveau de la zone.</block>
  <block id="8c3623c958bd98afd3ab6fd8fa7968e9" category="list-text">*Dimensionnement des volumes de la base de données.*  Pour le déploiement en production, NetApp recommande d'effectuer une évaluation complète des besoins en débit de votre base de données Oracle à partir du rapport Oracle AWR.  Tenez compte de la taille de la base de données, des exigences de débit et du niveau de service lors de la conception de la disposition des volumes GCNV pour la base de données VLDB.  Il est recommandé d'utiliser uniquement<block ref="8d5e7e72f12067991186cdf3cb7d5d9d" prefix=" " category="inline-code"></block> ou<block ref="ba1f6c59525d71aee4c027798d2470fd" prefix=" " category="inline-code"></block> service pour base de données Oracle.  La bande passante est garantie à 64 Mio/s par capacité de volume TiB jusqu'à un maximum de 4,5 Gio/s pour<block ref="8d5e7e72f12067991186cdf3cb7d5d9d" prefix=" " category="inline-code"></block> service et une capacité de volume de 128 Mio/s par Tio jusqu'à 4,5 Gio/s pour<block ref="ba1f6c59525d71aee4c027798d2470fd" prefix=" " category="inline-code"></block> service.  Un débit plus élevé nécessitera un dimensionnement de volume plus important pour répondre aux exigences.</block>
  <block id="973d97f89ddf30f80669e85bc4a984e2" category="list-text">*Volumes multiples et équilibrage de charge.*  Un seul grand volume peut fournir un niveau de performance similaire à celui de plusieurs volumes avec la même taille de volume agrégée, car la qualité de service est strictement appliquée en fonction du dimensionnement du volume et du niveau de service du pool de stockage.  Il est recommandé d'implémenter plusieurs volumes (plusieurs points de montage NFS) pour Oracle VLDB afin de mieux utiliser le pool de ressources de stockage GCNV backend partagé et de répondre aux exigences de débit dépassant 4,5 Giobits/s.  Implémentez Oracle ASM pour l’équilibrage de charge IO sur plusieurs volumes NFS.</block>
  <block id="7d946e09b4f5939557577b4479b9e59b" category="list-text">*Considération relative aux instances de machine virtuelle Google Compute Engine.*  Dans ces tests et validations, nous avons utilisé Compute Engine VM - N1 avec 4 vCPU et 15 Gio de mémoire.  Vous devez choisir l'instance de machine virtuelle de base de données Compute Engine de manière appropriée pour Oracle VLDB avec des exigences de débit élevées.  Outre le nombre de vCPU et la quantité de RAM, la bande passante du réseau VM (entrée et sortie ou limite de débit de la carte réseau) peut devenir un goulot d'étranglement avant que le débit de stockage de la base de données ne soit atteint.</block>
  <block id="912441f8b8f0f9a5ce71e92b8c985172" category="list-text">*Configuration dNFS.*  En utilisant dNFS, une base de données Oracle exécutée sur une machine virtuelle Google Compute Engine avec stockage GCNV peut générer beaucoup plus d'E/S que le client NFS natif.  Assurez-vous que le correctif Oracle dNFS p32931941 est appliqué pour corriger les bogues potentiels.</block>
  <block id="4b3e9724bafa75f8657791e9184bf00b" category="paragraph">La section suivante illustre la configuration d'Oracle VLDB sur GCNV dans un paramètre Oracle Data Guard entre une base de données Oracle principale dans Google Cloud de la région Est avec stockage GCNV et une base de données Oracle de secours physique dans Google Cloud de la région Ouest avec stockage GCNV.</block>
  <block id="c4239e5816a56456c9440b520721aab4" category="list-text">Un compte Google Cloud a été configuré et un projet a été créé dans votre compte Google pour déployer des ressources pour la configuration d'Oracle Data Guard.</block>
  <block id="828be31f82120f85f42eb895ed8a9b22" category="list-text">Créez un VPC et des sous-réseaux qui couvrent les régions souhaitées pour Data Guard.  Pour une configuration DR résiliente, envisagez de placer les bases de données principales et de secours dans des emplacements géographiques différents qui peuvent tolérer des catastrophes majeures dans une région locale.</block>
  <block id="9b6abd08dc38af4f47a14db2aeafebf0" category="inline-link-macro">Créer une instance de machine virtuelle Linux dans Compute Engine</block>
  <block id="f209110c4a2b9c92541ac8c73f4ca357" category="list-text">À partir de la console du portail Google Cloud, déployez quatre instances de machine virtuelle Linux du moteur de calcul Google, une comme serveur de base de données Oracle principal, une comme serveur de base de données Oracle de secours, un serveur de base de données cible clone et un observateur Oracle Data Guard.  Consultez le diagramme d’architecture dans la section précédente pour plus de détails sur la configuration de l’environnement.  Suivez la documentation Google<block ref="7c269d13ab08f0e4a16eee3ccb2f9bcd" category="inline-link-macro-rx"></block> pour des instructions détaillées.</block>
  <block id="76bc4fe907c18b851012dc9e1c6fd194" category="admonition">Assurez-vous d’avoir alloué au moins 50 Go dans le volume racine des machines virtuelles Azure afin de disposer de suffisamment d’espace pour préparer les fichiers d’installation d’Oracle.  Les machines virtuelles du moteur de calcul Google sont verrouillées au niveau de l'instance par défaut.  Pour permettre la communication entre les machines virtuelles, des règles de pare-feu spécifiques doivent être créées pour ouvrir le flux de trafic du port TCP, tel que le port Oracle classique 1521.</block>
  <block id="6f3af7b095b39097875024d32ad80490" category="inline-link-macro">Créer un démarrage rapide de pool de stockage</block>
  <block id="b57a4b91a392e3b79b60619e2ff1b95d" category="list-text">À partir de la console du portail Google Cloud, déployez deux pools de stockage GCNV pour héberger les volumes de base de données Oracle.  Référence à la documentation<block ref="f943731a6c99cd3fb77312da872c5af6" category="inline-link-macro-rx"></block> pour des instructions étape par étape.  Voici quelques captures d’écran pour une référence rapide.</block>
  <block id="37f58172636065668f3a8ba4f6dde3cc" category="inline-image-macro">Capture d'écran montrant la configuration de l'environnement GCNV.</block>
  <block id="61d3340ba88008053f53d953ef0346c9" category="paragraph"><block ref="c886cfeaed26c9a9c940b977ab6c3e79" category="inline-image-macro-rx" type="image"></block> <block ref="09eadbdcd4c749f3338ba4b2e0abef60" category="inline-image-macro-rx" type="image"></block> <block ref="952e4a56346f8c18ff351e9e31949d08" category="inline-image-macro-rx" type="image"></block> <block ref="ddd79d52091f0eff41c950f5a28af67a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d8c284636a07eef88bc1b2c9dd45cae8" category="inline-link-macro">Créer un démarrage rapide de volume</block>
  <block id="344f48f154fd458152c704c8c50ff770" category="list-text">Créez des volumes de base de données dans des pools de stockage.  Référence à la documentation<block ref="9ce4a27139b3fc8aa37b1a3a93853509" category="inline-link-macro-rx"></block> pour des instructions étape par étape.  Voici quelques captures d’écran pour une référence rapide.</block>
  <block id="37ef2d10b88e70db2e7243e645f783fe" category="paragraph"><block ref="2fb4bd9d59ce0e0908121c8c2325785c" category="inline-image-macro-rx" type="image"></block> <block ref="aaea86b0b663cbb71703ef7b44a3916c" category="inline-image-macro-rx" type="image"></block> <block ref="0ffd04a2ded7d8c294060b1c69ec1c52" category="inline-image-macro-rx" type="image"></block> <block ref="03c89e11db54cda919be66c627093c99" category="inline-image-macro-rx" type="image"></block> <block ref="6b06bd57dfee1ff5b9024618f032636a" category="inline-image-macro-rx" type="image"></block> <block ref="ce409f437929bc8b0865262e709da410" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bee93b982e500325112ec74f8355617" category="list-text">La base de données Oracle principale doit avoir été installée et configurée sur le serveur de base de données Oracle principal.  En revanche, dans le serveur de base de données Oracle de secours ou le serveur de base de données Oracle clone, seul le logiciel Oracle est installé et aucune base de données Oracle n'est créée.  Idéalement, la disposition des répertoires de fichiers Oracle doit correspondre exactement sur tous les serveurs de base de données Oracle.  Consultez TR-4974 pour obtenir de l'aide sur l'infrastructure de grille Oracle et l'installation et la configuration de la base de données avec NFS/ASM.  Bien que la solution soit validée sur l'environnement AWS FSx/EC2, elle peut également être appliquée à l'environnement Google GCNV/Compute Engine.</block>
  <block id="34d88af36024ed534c76d180d56a88cb" category="list-text"><block ref="34d88af36024ed534c76d180d56a88cb" category="inline-link-macro-rx"></block></block>
  <block id="8553ed953d5742f994f5786780c12369" category="paragraph">Dans cette démonstration, nous avons configuré une base de données Oracle principale appelée NTAP sur le serveur de base de données principal avec huit points de montage NFS : /u01 pour le binaire Oracle, /u02, /u03, /u04, /u05, /u06, /u07 pour les fichiers de données Oracle, et la charge équilibrée avec le groupe de disques Oracle ASM +DATA ; /u08 pour les journaux actifs Oracle, les fichiers journaux archivés et la charge équilibrée avec le groupe de disques Oracle ASM +LOGS.  Les fichiers de contrôle Oracle sont placés sur les groupes de disques +DATA et +LOGS pour la redondance.  Cette configuration sert de configuration de référence.  Votre déploiement réel doit prendre en compte vos besoins et exigences spécifiques en termes de dimensionnement du pool de stockage, de niveau de service, de nombre de volumes de base de données et de dimensionnement de chaque volume.</block>
  <block id="48efe48e8a04269e45f8628943318993" category="inline-link-macro">Réduction des coûts d'Oracle Active Data Guard avec Azure NetApp Files</block>
  <block id="0d145c0e95a62c44cc2c6ff7f3a297a5" category="paragraph">Pour des procédures détaillées étape par étape pour la configuration d'Oracle Data Guard sur NFS avec ASM, veuillez vous référer à TR-5002 -<block ref="f34df1fa8abd7a29bb8dfc47fcc8c59d" category="inline-link-macro-rx"></block> .  Bien que les procédures du TR-5002 aient été validées sur l’environnement Azure ANF, elles sont également applicables à l’environnement Google GCNV.</block>
  <block id="3d1e8aa80cbf0d900cabd7c0b608aac1" category="paragraph">Ce qui suit illustre les détails d'un Oracle VLDB principal dans une configuration Data Guard dans l'environnement Google GCNV.</block>
  <block id="5b5f44a9ebf473213d27db2160cc9233" category="list-text">La base de données principale NTAP dans le serveur de base de données du moteur de calcul principal est déployée en tant que base de données d'instance unique dans une configuration de redémarrage autonome sur le stockage GCNV avec le protocole NFS et ASM comme gestionnaire de volume de stockage de base de données.</block>
  <block id="882aa8204fd59148381a26733ec28722" category="list-text">Configuration de l'écouteur Oracle.</block>
  <block id="8b92bad94df2d37136e4ea0184c8ec24" category="list-text">Flashback est activé dans la base de données principale.</block>
  <block id="37822d5db58a24c9b1215939174b98fd" category="paragraph">Ceci termine la démonstration d'une configuration Data Guard pour VLDB NTAP sur le site principal sur GCNV avec NFS/ASM.</block>
  <block id="0db5b0495fd85156ef598b71b9e928c8" category="inline-link-macro">TR-5002 - Réduction des coûts d'Oracle Active Data Guard avec Azure NetApp Files</block>
  <block id="cf428304b924b7f784b8a83ad9e30a86" category="paragraph">Encore une fois, pour des procédures détaillées étape par étape pour la configuration d'Oracle Data Guard en veille sur NFS avec ASM, veuillez vous référer à<block ref="a6f539298da44e4cb32383c1745a6f24" category="inline-link-macro-rx"></block> et<block ref="179b88d7d08fc36b4d4a3783382a72e4" category="inline-link-macro-rx"></block> sections pertinentes.  Ce qui suit illustre les détails de la configuration Oracle VLDB de secours sur le serveur de base de données de secours dans un paramètre Data Guard dans l'environnement Google GCNV.</block>
  <block id="38f7c15d022557134b151e24231f38e4" category="list-text">Flashback est activé dans la base de données de secours.</block>
  <block id="f332b6150683f6bfd2857082da767979" category="section-title">Configurer Data Guard Broker et FSFO avec un observateur</block>
  <block id="d76d14a6b7996f87cd8d8628faa6871e" category="section-title">Configurer FSFO avec un observateur</block>
  <block id="c104d754f64a61d49dab80e5e865b10d" category="paragraph">En option, Fast Start Fail Over (FSFO) peut être activé pour que Data Guard Broker bascule automatiquement la base de données principale vers la base de données de secours en cas de panne.  Voici les procédures pour configurer FSFO avec une instance d’observateur.</block>
  <block id="7b37fbbe98e5b5a178e5426e834407ac" category="list-text">Créez une instance de moteur de calcul Google légère pour exécuter Observer dans une zone différente de celle du serveur de base de données principal ou de secours.  Dans le cas de test, nous avons utilisé une instance N1 avec 2 vCPU avec 7,5 Go de mémoire.  Avoir la même version d'Oracle installée sur l'hôte.</block>
  <block id="adb254d72e8902a448a82cc5249a8ae5" category="list-text">Connectez-vous en tant qu'utilisateur Oracle et définissez l'environnement Oracle dans l'utilisateur Oracle .bash_profile.</block>
  <block id="d957f0efa9bb2bf48b2412ab28478cbc" category="list-text">Ajoutez les entrées de nom TNS de base de données principale et de secours au fichier tnsname.ora.</block>
  <block id="4ce4e38faaab50c88369c238478ffb45" category="list-text">Créez et initialisez un portefeuille avec un mot de passe.</block>
  <block id="b8cc6ce06065e91511090ee39402a8b4" category="list-text">Activez l'authentification sans mot de passe pour les systèmes utilisateurs des bases de données principales et de secours.  Saisissez d’abord le mot de passe système, puis le mot de passe du portefeuille de l’étape précédente.</block>
  <block id="99bc8a3db5d5db309ef6f0d2bb2dc77f" category="paragraph">mkstore -wrl /u01/app/oracle/admin/NTAP/wallet -createCredential NTAP_NY sys</block>
  <block id="f2e0cb4d2af80f2857bbb9a807644a29" category="paragraph">mkstore -wrl /u01/app/oracle/admin/NTAP/wallet -createCredential NTAP_LA sys</block>
  <block id="c36128d065e9b385457b2685e0510065" category="list-text">Mettre à jour sqlnet.ora avec l'emplacement du portefeuille.</block>
  <block id="1771e316623df1d2d5f036dd83d41c2f" category="list-text">Valider les informations d'identification.</block>
  <block id="c1bae5368d595b9e9b0d5802288e42ea" category="list-text">Configurer et activer le basculement à démarrage rapide.</block>
  <block id="3c7194e8047047bc3902fd70f214665e" category="list-text">Démarrer et valider l'observateur.</block>
  <block id="4a4079b1a514d5e3c4b71005775d7422" category="admonition">Pour atteindre une perte de données nulle, le mode de protection Oracle Data Guard doit être défini sur<block ref="00d3443d618873afe8993c693e791995" prefix=" " category="inline-code"></block> ou<block ref="bd7b78324a1ce0ffe376b2b2947a6b1b" prefix=" " category="inline-code"></block> mode.  Le mode de protection par défaut de<block ref="e68a7d40fb24f35e9af79c8a8a16ab4e" prefix=" " category="inline-code"></block> peut être modifié à partir de l'interface Data Guard Broker en modifiant la configuration de Data Guard et en changeant<block ref="4c30d9f64bc6a599bc663cfa3960ae58" prefix=" " category="inline-code"></block> de ASYNC à SYNC.  Le mode de journal de destination du journal d'archive Oracle doit être modifié en conséquence.  Lorsque l'application de journalisation en temps réel est activée pour Data Guard comme requis pour<block ref="00d3443d618873afe8993c693e791995" prefix=" " category="inline-code"></block> , évitez de redémarrer automatiquement la base de données car le redémarrage automatique de la base de données peut ouvrir par inadvertance la base de données de secours dans<block ref="aa972431776a654708f7d18717a8b756" prefix=" " category="inline-code"></block> mode, qui nécessite une licence Active Data Guard.  Au lieu de cela, démarrez la base de données manuellement pour vous assurer qu'elle reste dans un<block ref="4a03a012bfc6e4f83139d742e7491d92" prefix=" " category="inline-code"></block> état avec récupération gérée en temps réel.</block>
  <block id="983995df6f145b4506ca5b1b15a10e10" category="paragraph">La boîte à outils d'automatisation suivante est spécifiquement conçue pour créer ou actualiser des clones d'une base de données de secours Oracle Data Guard déployée sur GCNV avec une configuration NFS/ASM pour une gestion complète du cycle de vie des clones.</block>
  <block id="793eb66d4d2bc3758a112c60e7131633" category="admonition">La boîte à outils n'est accessible qu'aux utilisateurs internes de NetApp disposant d'un accès Bitbucket pour le moment.  Pour les utilisateurs externes intéressés, veuillez demander l'accès à votre équipe de compte ou contacter l'équipe d'ingénierie des solutions NetApp .  Se référer à<block ref="03300e451b2559a8f174daf2fbe59048" category="inline-link-macro-rx"></block> pour les instructions d'utilisation.</block>
  <block id="0b5a6e1f3287513b32657f6ab3857f99" category="summary">Les charges de travail Oracle Database nécessitent une capacité de stockage évolutive qui offre des temps de réponse d'E/S cohérents, une bande passante et une faible latence.  Google Cloud NetApp Volumes fournit un service de stockage de fichiers entièrement géré prenant en charge l'accès au protocole NFS, spécialement conçu pour répondre à ces exigences exigeantes.</block>
  <block id="9e5fca31ff29556b8be5e8abad3bf09e" category="doc">Présentation : Oracle Database avec Google Cloud NetApp Volumes</block>
  <block id="abe9f7fe1776c301eb3cabcbbf17f446" category="paragraph">Cette solution permet aux organisations d’exécuter des charges de travail Oracle Database sur Google Cloud tout en conservant des capacités de stockage de niveau entreprise.</block>
  <block id="5c61afd68fc6a88f95d143ab10ec3463" category="section-title">Avantages de Google Cloud NetApp Volumes</block>
  <block id="ff95b02caeabab2c83214e8a4b9a2c2c" category="paragraph">Google Cloud NetApp Volumes offre les avantages suivants :</block>
  <block id="16e2bc65f6e161fd0368b1c883ec91ce" category="paragraph">*Gestion dynamique des ressources :*</block>
  <block id="049ae0ea6a80b3d13a24e9447436bd1a" category="paragraph">Les ressources de stockage peuvent être ajustées en temps réel pour répondre aux besoins de l’entreprise.  Les administrateurs peuvent augmenter ou diminuer la capacité de stockage en fonction de la demande sans interruption de service.  Cette flexibilité permet aux organisations d’optimiser efficacement leurs ressources de stockage, en garantissant le maintien de niveaux de performance appropriés tout en contrôlant les coûts.  Le système offre une mise à l'échelle transparente des caractéristiques de capacité et de performance, s'adaptant aux demandes changeantes de charge de travail sans impacter les opérations de base de données.</block>
  <block id="a3ac95f7c7602f0c706ce7ade72f35f9" category="paragraph">*Architecture de niveau entreprise :* la base de NetApp Volumes repose sur la technologie ONTAP , offrant une plate-forme de stockage robuste et fiable.  L’infrastructure est conçue avec la haute disponibilité comme principe de base, intégrant la redondance à plusieurs niveaux.  Les fonctionnalités intégrées de réplication de volumes inter-sites prennent en charge la planification complète de la continuité des activités et la reprise après sinistre.  Cela comprend la protection des données interrégionales, garantissant la disponibilité et la durabilité des données dans différents emplacements géographiques.</block>
  <block id="e8a5a476a6a4882f8903ac541ecb3abd" category="paragraph">*Gestion de la charge de travail :*</block>
  <block id="18a956e8a54e474de0d8d49fe7b1c0ff" category="paragraph">NetApp Volumes excelle dans la prise en charge de plusieurs instances de base de données tout en maintenant des caractéristiques d'isolation et de performances appropriées.  Les organisations peuvent mettre en œuvre une gestion granulaire du stockage de chaque base de données et même des composants de base de données, tels que des fichiers de données sélectionnés ou des destinations de journaux d'archivage.  Le résultat est une performance et une gestion optimales.  Les ressources de stockage peuvent être mises à l’échelle individuellement, offrant ainsi une flexibilité dans l’allocation des ressources.  Ce contrôle granulaire permet une gestion efficace de diverses charges de travail de base de données avec différentes exigences de performances et de capacité.</block>
  <block id="668e26a86f41e7595b750fc238dd8783" category="paragraph">*Protection et gestion des données :*</block>
  <block id="bfc29e4eb95eab21df52e1af0da3cc1f" category="paragraph">Les fonctionnalités de protection des données incluent des instantanés instantanés qui peuvent capturer l’état de l’application à des moments précis.  La technologie de capture instantanée est peu encombrante, minimisant la surcharge de stockage tout en préservant l'intégrité des données.  Le service s'intègre parfaitement aux solutions de sauvegarde natives, prenant en charge la gestion complète du cycle de vie des données.  Les organisations peuvent mettre en œuvre une récupération à un instant T, exécuter des opérations de sauvegarde et de restauration et gérer la conservation des données en fonction de leurs besoins commerciaux.</block>
  <block id="ce44945a28785f38fa4cfc6f7a747b29" category="paragraph">*Support de développement et de test :*</block>
  <block id="8cc99760cd55a918952494057967d9f9" category="paragraph">NetApp Volumes simplifie la création de copies de bases de données grâce à des fonctionnalités de clonage de volumes efficaces.  Les équipes de développement peuvent rapidement provisionner des environnements de test à faible coût et sans impacter les charges de travail de production.  La plateforme offre une isolation pour les espaces de travail de développement, permettant aux équipes de travailler de manière indépendante tout en partageant les ressources d'infrastructure.  Ces capacités améliorent considérablement les cycles de développement et de test, permettant une itération et une validation rapides des modifications de la base de données.</block>
  <block id="27019257bfc4d6c153c0a728d709d301" category="paragraph">*Architecture de stockage :*</block>
  <block id="c080665081690959a9721dce66a5d5e5" category="paragraph">Le service propose plusieurs niveaux pour répondre aux différentes exigences de charge de travail, des environnements de développement aux bases de données de production critiques.  L'architecture prend en charge la mise à l'échelle indépendante des mesures de capacité et de performances, permettant une optimisation précise pour des charges de travail de base de données spécifiques.  La plate-forme permet des opérations de base de données simultanées avec un accès aux données à faible latence, prenant en charge les applications d'entreprise exigeantes.</block>
  <block id="6adb757ee641d095e609ea30e81c44ad" category="paragraph">*Options d'évolutivité :*</block>
  <block id="6378cee11a1aa7752f5e247b67e92399" category="paragraph">La gestion du stockage devient simple grâce à la possibilité d’ajouter des volumes de manière dynamique selon les besoins.  La plateforme s'adapte de quelques gigaoctets à quelques pétaoctets, prenant en charge des bases de données de toutes tailles.  Les caractéristiques de performances peuvent être ajustées en fonction des exigences de charge de travail, garantissant ainsi des performances constantes à mesure que les bases de données se développent.  Les fonctionnalités d'évolutivité prennent en charge à la fois la croissance planifiée et les pics inattendus dans les besoins de la base de données.</block>
  <block id="2a3b399798aa16ecfbc1425cc560bfad" category="section-title">Cas d'utilisation</block>
  <block id="77365112505008139064d41131e07043" category="paragraph">*Environnements de production hautes performances :*</block>
  <block id="5dd2b7c649d3def5e47f0b72f1c67c26" category="paragraph">NetApp Volumes prend en charge les déploiements de bases de données Oracle critiques nécessitant des IOPS soutenues et des caractéristiques de performances à faible latence.  L'architecture prend en charge les charges de travail OLTP et OLAP, avec des niveaux de service configurables prenant en charge divers profils de performances.  Les volumes NetApp offrent des performances ultra-rapides, atteignant jusqu'à 4,6 Giobits/s et 340 000 IOPS pour un débit exceptionnel, même sous des charges de travail mixtes en lecture/écriture.</block>
  <block id="9602da20980a1fbf9da862ebfc76b029" category="paragraph">*Migration vers le cloud :*</block>
  <block id="a2e475c707bac0f49be075fd6b883797" category="paragraph">La plateforme facilite les migrations lift-and-shift des environnements de base de données Oracle depuis l'infrastructure sur site vers Google Cloud.  Les options incluent Oracle Recovery Manager (RMAN), Oracle Data Guard et Oracle GoldenGate.  L'architecture de stockage NFS permet une transition transparente avec des modifications architecturales minimales, prenant en charge les stratégies de migration hors ligne et en ligne tout en conservant les procédures de sauvegarde et de récupération existantes.</block>
  <block id="2e56c635136648875b337cea9858c465" category="paragraph">*Architecture de consolidation de base de données :*</block>
  <block id="374071a4e61f1493eb8c8b30ce03ba21" category="paragraph">L'architecture permet la consolidation de bases de données via des modèles de déploiement multi-locataires.  Les administrateurs peuvent implémenter l'isolation des ressources au niveau du volume, avec des volumes dédiés aux bases de données Oracle Pluggable, des fichiers de données spécifiques, des journaux de rétablissement et des journaux d'archivage.  Cette conception prend en charge l’architecture Oracle Multitenant et permet une utilisation efficace des ressources tout en maintenant l’isolation des performances entre les bases de données.</block>
  <block id="0d1898c295f4168a38e2047578068e24" category="paragraph">*Réplication du système d'entreprise :*</block>
  <block id="9da046618842f93cbef8b7d37e98db69" category="paragraph">Les capacités de capture instantanée et de clonage de la plateforme prennent en charge le provisionnement rapide des environnements de développement et de test à partir des données de production.  La technologie de clonage de volume permet des copies de bases de données peu encombrantes avec des caractéristiques de performances indépendantes.  Cette fonctionnalité prend en charge les pipelines CI/CD (intégration continue et développement continu) nécessitant des actualisations fréquentes de la base de données et des environnements de test isolés avec des capacités de performances de niveau production.</block>
  <block id="70895b62b8c428c3f36c1645b7fa6448" category="paragraph">Vous pouvez exécuter des bases de données Oracle sur Google Compute Engine avec un ou plusieurs volumes de stockage.  Le nombre de volumes dépend du niveau de séparation des données.  Par exemple, des bases de données plus petites peuvent être placées sur un seul volume.  Les bases de données plus volumineuses avec des exigences d'E/S ou de gestion plus exigeantes peuvent nécessiter des volumes de fichiers de données, de journaux de rétablissement et de journaux d'archivage individuels.  Des volumes supplémentaires pour les données d'application ou de sauvegarde peuvent également être ajoutés.  Chaque volume peut être dimensionné en fonction des besoins des données à héberger.</block>
  <block id="401f6cd3f40aa51e178512b2b23480fa" category="paragraph"><block ref="401f6cd3f40aa51e178512b2b23480fa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bcec2083d821a1c1a4f106efd02166c" category="section-title">Préparation des Google Cloud NetApp Volumes</block>
  <block id="9190975428f02b211204d39637e4bef5" category="paragraph">Créez un pool de stockage Google Cloud NetApp Volumes de la capacité et du niveau de service souhaités.  Consultez le démarrage rapide pour configurer Google Cloud NetApp Volumes.  Si vous migrez des bases de données Oracle existantes depuis un environnement local vers Google, vous pouvez utiliser Metrics Explorer pour obtenir les statistiques de débit actuelles dont vous avez besoin pour dimensionner le pool de stockage et les volumes Google Cloud NetApp Volumes .  Contactez votre spécialiste Oracle sur Google pour plus de détails sur l'utilisation du service.  Le débit disponible pour les volumes d'un pool de stockage est défini par la taille et le niveau de service (Standard, Premium ou Extreme, etc.) du pool de stockage sélectionné</block>
  <block id="aa88ccfa825dadd9cbb9acc84e508b2c" category="paragraph">*Évolutivité*</block>
  <block id="313e1c0bb958c3d0a6e0452378338b74" category="paragraph">Les volumes NetApp sont capables d'évoluer facilement pour s'adapter à la croissance des données et des charges de travail, tout en prenant en charge de nombreux petits volumes.  Un pool de stockage individuel peut facilement passer d'un minimum de 2 Tio à n'importe quelle taille jusqu'à 10 Tio.  Consultez les détails des quotas et des limites.</block>
  <block id="0526070c28c019164a730675d790fb4d" category="paragraph">*Composants*</block>
  <block id="1608eebdb453334139d8fad6837db5e1" category="paragraph">La solution utilise les composants suivants :</block>
  <block id="d23f1247c469802c9822b41af95fe05d" category="list-text">* Google Cloud NetApp Volumes* est un service de stockage de données basé sur le NetApp entièrement géré qui offre des capacités de gestion de données avancées et des performances hautement évolutives.  Il est développé par Google et NetApp, un partenaire de Google.</block>
  <block id="2b4669bf60c88eb28c8a8eae0310f25d" category="inline-link-macro">Compute Engine avec base de données Oracle</block>
  <block id="76f7738d1ac17ef791853e339bf2c740" category="list-text">*Virtual Machines* est une offre d'infrastructure en tant que service (IaaS).  Vous pouvez utiliser le moteur de calcul pour déployer des ressources informatiques évolutives à la demande.  Compute Engine offre la flexibilité de la virtualisation mais élimine les exigences de maintenance du matériel physique.  Cette solution utilise<block ref="ed9e33b0ca8bc4215de0c8753958ceb2" category="inline-link-macro-rx"></block> .</block>
  <block id="19db0937c14accbafa2cd68e91c8b422" category="list-text">*Google Virtual Private Cloud Virtual Private Cloud (VPC)* fournit des fonctionnalités de mise en réseau aux instances de machines virtuelles (VM) Compute Engine, aux clusters Google Kubernetes Engine (GKE) et aux charges de travail sans serveur.  VPC fournit une mise en réseau pour vos ressources et services basés sur le cloud qui est globale, évolutive et flexible.</block>
  <block id="ddc4509cb8285aaf0b1e6d3e4e15d887" category="list-text">*Oracle Database* est un système de gestion de base de données multi-modèle.  Il prend en charge différents types de données et charges de travail.  Le client dNFS optimise les chemins d'E/S entre les serveurs Oracle et NFS.  Par conséquent, il offre des performances nettement meilleures que les clients NFS traditionnels.</block>
  <block id="0b3fbc0b5204dbd35ad7e0a12c1b3d1b" category="section-title">Principaux avantages</block>
  <block id="24fb69f49e38268a9d19571c0170ea1f" category="paragraph">Cette image (Figure 2) montre les avantages de l’utilisation de Google Cloud NetApp Volumes avec Oracle Database.</block>
  <block id="7b5bca74f48123693b362a8eb4609a2d" category="paragraph"><block ref="7b5bca74f48123693b362a8eb4609a2d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="913c81de3ae91549b7810ad12f7f60bc" category="paragraph">*Service simple et fiable*</block>
  <block id="978c475c6d2286d1263abd87a1428c7e" category="paragraph">Google Cloud NetApp Volumes fonctionne de manière transparente au sein de Google Cloud, offrant une approche simple du stockage d'entreprise.  En tant que service natif, il s'intègre naturellement à l'écosystème de Google Cloud, vous permettant de provisionner, de gérer et de mettre à l'échelle des volumes comme vous le feriez avec d'autres options de stockage Google Cloud.  Le service s'appuie sur le logiciel de gestion de données ONTAP de NetApp, fournissant des volumes NFS de niveau entreprise spécifiquement optimisés pour Oracle Database et d'autres applications d'entreprise critiques.</block>
  <block id="071837c9e9b64c6471791f180cff1f20" category="paragraph">*Systèmes hautement performants*</block>
  <block id="2c91d42db049e0667b4332152f1fa2ad" category="paragraph">Outre l'utilisation d'un stockage partagé et hautement évolutif, Google Cloud NetApp Volumes offre une faible latence.  Ces facteurs rendent ce service parfaitement adapté à l’utilisation du protocole NFS pour exécuter des charges de travail Oracle Database sur des réseaux.</block>
  <block id="1b4abd4c94972ae16a646540bf73c773" category="paragraph">Les instances de calcul Google Cloud peuvent utiliser des systèmes de stockage NetApp entièrement flash hautes performances.  Ces systèmes sont également intégrés au réseau Google Cloud.  Vous bénéficiez ainsi d'un stockage partagé à bande passante élevée et à faible latence, comparable à une solution sur site.  Les performances de cette architecture répondent aux exigences des charges de travail d’entreprise les plus exigeantes et les plus critiques.  Pour plus d'informations sur les avantages en termes de performances de Google Cloud NetApp Volumes, consultez Google Cloud NetApp Volumes.</block>
  <block id="94618b5b16346a12ee26f0c0d7939934" category="paragraph">À la base, Google Cloud NetApp Volumes utilise une flotte bare-metal de systèmes de stockage entièrement flash, offrant des performances exceptionnelles pour les charges de travail exigeantes.  Cette architecture, combinée à des capacités de stockage partagées et hautement évolutives, garantit une latence constamment faible, ce qui la rend particulièrement adaptée à l'exécution de charges de travail Oracle Database via le protocole NFS.</block>
  <block id="e8c00c9dedafb32ad01504fa4ca7b0dd" category="paragraph">L'intégration avec les instances de calcul Google Cloud donne accès à des performances élevées.  Grâce à une intégration approfondie avec le réseau Google Cloud, les clients bénéficient de :</block>
  <block id="7c0b796eaa520e47e5030546b0d6e5f9" category="list-text">Stockage partagé à large bande passante et à faible latence</block>
  <block id="c23f7a45f61688b571a42af9d7bfccc5" category="list-text">Des performances comparables aux solutions sur site</block>
  <block id="f9355b01bc7443f1033619d8e00b3d0a" category="list-text">Évolutivité flexible à la demande</block>
  <block id="8d5cba2e648fca72a04a5179df0a5776" category="list-text">Configurations de charge de travail optimisées</block>
  <block id="ad7edc835cdc013b3bb1106b6fdbfb7f" category="paragraph">*Gestion des données à l'échelle de l'entreprise*</block>
  <block id="7ada7d3b835538f91b08efa4b2ad13ad" category="paragraph">La base de la solution, le logiciel ONTAP , établit de nouvelles normes pour la gestion des données d'entreprise.  L’une de ses caractéristiques remarquables est le clonage instantané et peu encombrant, qui améliore considérablement les environnements de développement et de test.  La plateforme prend en charge la mise à l'échelle dynamique des capacités et des performances, garantissant une utilisation efficace des ressources sur toutes les charges de travail.  La fonctionnalité de capture instantanée dans Google Cloud NetApp Volumes représente une avancée majeure dans la gestion des bases de données.  Ces instantanés fournissent des points de base de données cohérents avec une efficacité remarquable.  Les principaux avantages comprennent :</block>
  <block id="09a038572bcac1b65d8a2a9e532a34c1" category="list-text">Surcharge de stockage minimale pour la création d'instantanés</block>
  <block id="9df00cc7cc4b7ef9bd4f3a190cbcf745" category="list-text">Capacités de création, de réplication et de restauration rapides</block>
  <block id="68fc4dc8ffb2225bf790e102b9b83841" category="list-text">Aucun impact sur les performances des opérations de volume</block>
  <block id="0a607c8aebe65125000509c20d8f61e7" category="list-text">Haute évolutivité pour la création fréquente de snapshots</block>
  <block id="d22318251d28e05685b867739e1f7c27" category="list-text">Prise en charge de plusieurs instantanés simultanés</block>
  <block id="01980f5ad4b936d2f9ca85ba45df1787" category="paragraph">Cette capacité de snapshot robuste permet des solutions de sauvegarde et de récupération qui répondent aux accords de niveau de service agressifs Recovery Time Objective (RTO) et Recovery Point Objective (RPO) sans compromettre les performances du système.</block>
  <block id="b23520be98d664aa8ea6741a9f0d8558" category="paragraph">*DR hybride*</block>
  <block id="702738f14b556746f0c517e16580d448" category="paragraph">Google Cloud NetApp Volumes fournit des solutions complètes de reprise après sinistre adaptées aux environnements cloud et hybrides.  Cette intégration prend en charge des plans de reprise après sinistre sophistiqués qui fonctionnent efficacement dans plusieurs régions tout en maintenant la compatibilité avec les centres de données sur site.</block>
  <block id="145481d97c3d36dd53343cfd062a2804" category="paragraph">Le cadre de reprise après sinistre fournit :</block>
  <block id="2a01fbd781ec5b8d491ca14b4de659a5" category="list-text">Réplication transparente de volumes entre emplacements</block>
  <block id="e93b1dc6f67582a97fbc63291ffb202b" category="list-text">Options de récupération flexibles</block>
  <block id="d775117b4d0831fa53fdc592830e40f0" category="list-text">Protection cohérente des données dans tous les environnements</block>
  <block id="d6aea4b6ba6626c4bee07310895321fb" category="paragraph">Cette approche globale de la reprise après sinistre garantit la continuité des activités tout en préservant l’intégrité des données dans tous les scénarios de déploiement.  La flexibilité de la solution permet aux organisations de concevoir et de mettre en œuvre des stratégies de reprise après sinistre qui s'alignent précisément sur leurs besoins commerciaux, qu'elles fonctionnent entièrement dans le cloud ou dans un environnement hybride.</block>
  <block id="f6134f58b2507b7ec74620f418e3ef18" category="paragraph">Les considérations suivantes s’appliquent à cette solution :</block>
  <block id="a8a0a52ecf502c3e88a60ca3d11595c2" category="paragraph">*Disponibilité*</block>
  <block id="2d91a4dea9afc6e775a0cb83d4176cd7" category="paragraph">Google Cloud NetApp Volumes offre une disponibilité de niveau entreprise grâce à son architecture robuste.  Le service est soutenu par un accord de niveau de service (SLA) complet, qui détaille les garanties de disponibilité spécifiques et les engagements de support.  Dans le cadre de ses capacités de gestion des données à l'échelle de l'entreprise, le service offre une fonctionnalité d'instantané qui peut être utilisée efficacement dans les solutions de sauvegarde et de récupération, garantissant la protection des données et la continuité des activités.</block>
  <block id="2f48fe9e8eb190b75f221035fdc91ef8" category="paragraph"><block ref="2f48fe9e8eb190b75f221035fdc91ef8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e91b838261a5e488b5d3a2fa56986a97" category="paragraph">*Évolutivité :*</block>
  <block id="904150722f0b4edd9fc18730d161ed39" category="paragraph">L'évolutivité intégrée est une fonctionnalité fondamentale de Google Cloud NetApp Volumes, comme détaillé dans la section Systèmes hautement performants.  Le service permet une mise à l'échelle dynamique des ressources pour répondre aux exigences changeantes de la charge de travail, offrant une flexibilité qui manque souvent aux solutions de stockage traditionnelles.</block>
  <block id="db5f42d6c131ee4fd9e1c31f2c366835" category="paragraph">*Sécurité:*</block>
  <block id="1cd14a80c9883cb4f90490fe3a4b6a54" category="paragraph">Google Cloud NetApp Volumes met en œuvre des mesures de sécurité complètes pour protéger vos données.  Le cadre de sécurité comprend :</block>
  <block id="9f0125f1c71e429424cb0f7c56fd19a5" category="list-text">Mécanismes intégrés de protection des données</block>
  <block id="e2dc8bb0bdde377f17dc7eaeb30ef942" category="list-text">Capacités de cryptage avancées</block>
  <block id="ceb27f1d0855e0f026ee765092a1bb2d" category="list-text">Règles de politique configurables</block>
  <block id="db0bdd443a2909aa62e45e1c07358189" category="list-text">Fonctionnalités de contrôle d'accès basées sur les rôles</block>
  <block id="c8918eeed68cfad1cfeec3a18d68891d" category="list-text">Enregistrement et surveillance détaillés des activités</block>
  <block id="f46430a61f9f63230c66421aadf129d8" category="paragraph">*Optimisation des coûts :*</block>
  <block id="541537b0320edbeafb40258eb34461d9" category="paragraph">Les configurations traditionnelles sur site nécessitent généralement un dimensionnement adapté aux exigences de charge de travail maximales, ce qui les rend rentables uniquement en cas d'utilisation maximale.  En revanche, Google Cloud NetApp Volumes permet une évolutivité dynamique, vous permettant d'optimiser les configurations en fonction des demandes de charge de travail actuelles, réduisant ainsi les dépenses inutiles.</block>
  <block id="10b521d0b1acdd1c70e5bc375245dcef" category="paragraph">*Optimisation de la taille de la machine virtuelle :*</block>
  <block id="3d67090062087c20366957a7b181215b" category="paragraph">L'architecture du service permet de réaliser des économies de coûts grâce à l'optimisation des machines virtuelles de plusieurs manières :</block>
  <block id="628cf362a889ee2010e975c91df9458f" category="paragraph">*Avantages en termes de performance :*</block>
  <block id="0f06b882b83afef5e6bbca36af3ed12b" category="paragraph">L'accès au stockage à faible latence permet aux machines virtuelles plus petites d'égaler les performances des machines virtuelles plus grandes à l'aide d'un stockage sur disque ultra</block>
  <block id="df8eeec9f98c3a53d8019d0f2b823325" category="paragraph">Le stockage en réseau peut atteindre des performances supérieures même avec des machines virtuelles plus petites en raison de limitations d'E/S réduites.</block>
  <block id="8378233383e0f7c79ec346325e768fec" category="paragraph">*Limites des ressources et avantages :*</block>
  <block id="b920edc0c0565b25f6906252a0cb66ff" category="paragraph">Les ressources cloud imposent généralement des limites d’opérations d’E/S pour éviter la dégradation des performances due à l’épuisement des ressources ou à des pannes inattendues.  Avec Google Cloud NetApp Volumes:</block>
  <block id="7184c4eba3ab5a02aea0ab3f6fc9f8d0" category="list-text">Seules les limites de bande passante du réseau s'appliquent et elles affectent uniquement la sortie des données. Les limites d'E/S de disque au niveau de la machine virtuelle n'ont pas d'impact sur les performances.</block>
  <block id="b9b231b8d3d33dc5c1b5c03de37e6c1b" category="list-text">Les limitations du réseau sont généralement plus élevées que les limitations du débit du disque</block>
  <block id="f1eaffa191e6a7d86a1d9e1fe22c1af3" category="paragraph">*Avantages en termes de réduction des coûts*</block>
  <block id="d5488d3ac0e616492a832eccceef6821" category="paragraph">Les avantages économiques de l’utilisation de machines virtuelles plus petites incluent :</block>
  <block id="c66c91d7bb13c1fd35d1b0f4ebe116cc" category="list-text">Coûts directs réduits des machines virtuelles</block>
  <block id="ced72828b05f0fc0f6e35e36e50d34ca" category="list-text">Coûts de licence de base de données Oracle réduits, en particulier avec les références à code restreint</block>
  <block id="62acf9d7eba20363e8a5a81494919b05" category="list-text">Absence de composants de coût d'E/S dans le stockage en réseau</block>
  <block id="6361c2d8d59812a5eb50c7ce054e14b0" category="list-text">Coût total de possession globalement inférieur par rapport aux solutions de stockage sur disque</block>
  <block id="07984601af21a07effa109928eecd215" category="paragraph">Cette combinaison de mise à l'échelle flexible, de performances optimisées et d'utilisation efficace des ressources fait de Google Cloud NetApp Volumes un choix rentable pour les besoins de stockage des entreprises.  La possibilité d’adapter la taille des ressources de stockage et de calcul permet aux organisations de maintenir des performances élevées tout en contrôlant efficacement les coûts.</block>
  <block id="c53dba1ad099d932b01eacd82bd500f2" category="doc">NVA-1155 : Bases de données Oracle 19c RAC sur FlexPod Datacenter avec Cisco UCS et NetApp AFF A800 sur FC - Guide de conception et de déploiement</block>
  <block id="547673676a9fdbc79f1364e749be4d0a" category="paragraph">Allen Cao, NetApp</block>
  <block id="ffaaa5a04a78a6ce5d807980dbf83e64" category="paragraph">Ce guide de conception et de déploiement pour les bases de données Oracle 19c RAC sur FlexPod Datacenter avec Cisco UCS et NetApp AFF A800 sur FC fournit des détails sur la conception de la solution ainsi que des processus de déploiement étape par étape pour l'hébergement des bases de données Oracle RAC sur l'infrastructure FlexPod Datacenter la plus récente avec le système d'exploitation Oracle Linux 8.2 et un noyau compatible Red Hat.</block>
  <block id="3b872d3a96131109e4700e3031e4b158" category="inline-link-macro">NVA-1155 : bases de données Oracle 19c RAC sur FlexPod Datacenter avec Cisco UCS et NetApp AFF A800 sur FC</block>
  <block id="202f51b1cd08b9562681a95f87429702" category="paragraph"><block ref="202f51b1cd08b9562681a95f87429702" category="inline-link-macro-rx"></block></block>
  <block id="92726ec0eae6e1e73c6db87d872ebe6e" category="summary">La solution fournit une vue d'ensemble et des détails pour le déploiement automatisé d'Oracle dans Microsoft Azure NetApp Files en tant que stockage de base de données principal avec le protocole NFS et la base de données Oracle est déployée en tant que base de données de conteneur avec dNFS activé.  La base de données déployée dans Azure est protégée à l'aide de l'outil d'interface utilisateur SnapCenter pour une gestion simplifiée de la base de données</block>
  <block id="f344dcb6783f656a2b1d73c6cdf6976f" category="paragraph">Cette solution fournit une vue d'ensemble et des détails pour le déploiement automatisé d'Oracle dans Microsoft Azure NetApp Files en tant que stockage de base de données principal avec le protocole NFS et la base de données Oracle est déployée en tant que base de données de conteneur avec dNFS activé.  La base de données déployée dans Azure est protégée à l’aide de l’outil d’interface utilisateur SnapCenter pour une gestion simplifiée de la base de données.</block>
  <block id="3c0b969f02b8a026925047057738fc1b" category="paragraph">Le logiciel NetApp SnapCenter software est une plate-forme d'entreprise facile à utiliser pour coordonner et gérer en toute sécurité la protection des données entre les applications, les bases de données et les systèmes de fichiers.  Il simplifie la gestion du cycle de vie de la sauvegarde, de la restauration et du clonage en déchargeant ces tâches sur les propriétaires d'applications sans sacrifier la capacité de superviser et de réguler l'activité sur les systèmes de stockage.  En exploitant la gestion des données basée sur le stockage, elle permet d’augmenter les performances et la disponibilité, ainsi que de réduire les temps de test et de développement.</block>
  <block id="f5374dd6e81292f8768efaeefbb870fc" category="paragraph">Dans TR-4987,<block ref="3229de008a550a1b47ddb6964fa5485c" category="inline-link-macro-rx"></block> , nous démontrons le déploiement automatisé d'Oracle sur Azure NetApp Files (ANF) dans le cloud Azure.  Dans cette documentation, nous présentons la protection et la gestion de la base de données Oracle sur ANF dans le cloud Azure avec un outil d'interface utilisateur SnapCenter très convivial.</block>
  <block id="81fa72cbc547f894c7c04a4127dfe5ea" category="list-text">Sauvegarde et récupération de la base de données Oracle déployée sur ANF dans le cloud Azure avec SnapCenter.</block>
  <block id="6cfd0230dc78dea7b5afceb0812f2f42" category="list-text">Gérez les instantanés de base de données et les copies clonées pour accélérer le développement des applications et améliorer la gestion du cycle de vie des données.</block>
  <block id="9de2392a5a7812b0166ee1ad25de89f1" category="list-text">Un administrateur de base de données qui souhaite déployer des bases de données Oracle sur Azure NetApp Files.</block>
  <block id="9a0a3a7d3a2a195a355c15770cfa5372" category="list-text">Un administrateur de stockage qui souhaite déployer et gérer des bases de données Oracle sur Azure NetApp Files.</block>
  <block id="88ee29f0e07795688dabad629e6b1a38" category="cell">Un pool de capacité avec un niveau de service Premium</block>
  <block id="5b51e2d6963535892778a3ec85923303" category="cell">Deux instances de machine virtuelle Linux</block>
  <block id="fcac956b151981c790450bffbe8a6ec5" category="cell">Centre de données 2022 ; Hotpatch AE – x64 Gen2</block>
  <block id="66bda974b27aec9fc4c649e866e2d848" category="cell">Patch p34765931_190000_Linux-x86-64.zip</block>
  <block id="e2bc304a34949cf78793eb2d9a4466f7" category="cell">Patch p6880880_190000_Linux-x86-64.zip</block>
  <block id="58b1cd722de6d096e347df95b97f1708" category="list-text">* Déploiement de SnapCenter .*  SnapCenter peut être déployé dans un domaine Windows ou un environnement de groupe de travail.  Pour un déploiement basé sur un domaine, le compte d'utilisateur de domaine doit être un compte d'administrateur de domaine ou l'utilisateur de domaine doit appartenir au groupe de l'administrateur local sur le serveur d'hébergement SnapCenter .</block>
  <block id="51b67e7136bcea8684399bd788343a3d" category="list-text">*Résolution de nom.*  Le serveur SnapCenter doit résoudre le nom en adresse IP pour chaque hôte de serveur de base de données cible géré.  Chaque hôte de serveur de base de données cible doit résoudre le nom du serveur SnapCenter en adresse IP.  Si un serveur DNS n'est pas disponible, ajoutez un nom aux fichiers hôtes locaux pour la résolution.</block>
  <block id="5201585f52455453631952654fbcfdc1" category="list-text">*Configuration du groupe de ressources.*  Le groupe de ressources dans SnapCenter est un regroupement logique de ressources similaires qui peuvent être sauvegardées ensemble.  Ainsi, cela simplifie et réduit le nombre de tâches de sauvegarde dans un environnement de base de données volumineux.</block>
  <block id="9b274f274cc2fdf5c2eaac7308f2a980" category="list-text">*Sauvegarde complète séparée de la base de données et du journal d'archive.*  La sauvegarde complète de la base de données inclut des volumes de données et des instantanés de groupe cohérents avec les volumes de journaux.  Un instantané complet et fréquent de la base de données entraîne une consommation de stockage plus élevée, mais améliore le RTO.  Une alternative consiste à effectuer des instantanés de base de données complets moins fréquents et des sauvegardes de journaux d'archives plus fréquentes, ce qui consomme moins de stockage et améliore le RPO mais peut étendre le RTO.  Tenez compte de vos objectifs RTO et RPO lors de la configuration du schéma de sauvegarde.  Il existe également une limite (1023) du nombre de sauvegardes instantanées sur un volume.</block>
  <block id="b85fa7425df71e674278fea13b4d8df3" category="list-text">* Délégation de Privileges .*  Tirez parti du contrôle d'accès basé sur les rôles intégré à l'interface utilisateur de SnapCenter pour déléguer des privilèges aux équipes d'application et de base de données si vous le souhaitez.</block>
  <block id="e27bf8eca64c83fe8b6062fb95e333d9" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement, la configuration et la sauvegarde, la récupération et le clonage de la base de données Oracle de SnapCenter sur Azure NetApp Files dans le cloud Azure.</block>
  <block id="3a384b8853704266e740bf9b8d8dadc3" category="paragraph">Le déploiement nécessite des bases de données Oracle existantes exécutées sur ANF dans Azure.  Sinon, suivez les étapes ci-dessous pour créer deux bases de données Oracle pour la validation de la solution.  Pour plus de détails sur le déploiement de la base de données Oracle sur ANF dans le cloud Azure avec automatisation, reportez-vous à TR-4987 :<block ref="3229de008a550a1b47ddb6964fa5485c" category="inline-link-macro-rx"></block></block>
  <block id="ec8e7a436a2d10b04ead30082c3bb22a" category="list-text">À partir du portail cloud Azure, déployez des machines virtuelles Azure Linux en tant que serveurs de base de données Oracle.  Créez un pool de capacité Azure NetApp Files et des volumes de base de données pour la base de données Oracle.  Activez l’authentification par clé privée/publique SSH de la machine virtuelle pour Azureuser sur les serveurs de base de données.  Consultez le diagramme d’architecture dans la section précédente pour plus de détails sur la configuration de l’environnement.  Également appelé<block ref="d5e84e000b0fd3823ab4fd818742266e" category="inline-link-macro-rx"></block> pour des informations détaillées.</block>
  <block id="47c878359f4c935db42a7d950cb56e05" category="admonition">Pour les machines virtuelles Azure déployées avec redondance de disque local, assurez-vous d’avoir alloué au moins 128 Go sur le disque racine de la machine virtuelle afin de disposer de suffisamment d’espace pour préparer les fichiers d’installation Oracle et ajouter le fichier d’échange du système d’exploitation.  Développez les partitions du système d'exploitation /tmplv et /rootlv en conséquence.  Assurez-vous que la dénomination du volume de base de données respecte les conventions VMname-u01, VMname-u02 et VMname-u03.</block>
  <block id="7248ba2d36ba4b2b7deb2879ad658327" category="list-text">Depuis le portail cloud Azure, provisionnez un serveur Windows pour exécuter l’outil d’interface utilisateur NetApp SnapCenter avec la dernière version.  Consultez le lien suivant pour plus de détails :<block ref="131e9eb1b10c693e5b08c2ea655bbc23" category="inline-link-macro-rx"></block> .</block>
  <block id="f5823da50f0c261f93cac13c89efabe5" category="inline-link-macro">TR-4887</block>
  <block id="f7fd458b3791277e17cfe29113527c1c" category="list-text">Clonez une copie de la boîte à outils d’automatisation du déploiement NetApp Oracle pour NFS.  Suivez les instructions dans<block ref="a9bd41d1123cc2320afb581bf5c8b5c0" category="inline-link-macro-rx"></block> pour exécuter les manuels.</block>
  <block id="bfa29a4d1633c304ce5ea63b28050c30" category="list-text">Passez en revue le<block ref="e0c4332e8c13be976552a059f106354f" prefix=" " category="inline-code"></block> menu en ligne.</block>
  <block id="b6bfa5b7d69b44a49fead07bd2c2a3ae" category="section-title">Installation et configuration de SnapCenter</block>
  <block id="7608e75619cff3eeb4e8bce40481b456" category="inline-link-macro">Documentation du logiciel SnapCenter</block>
  <block id="d2e6519128f0c0f4297df9dfcf74f4f4" category="paragraph">Nous vous recommandons de passer par en ligne<block ref="709a64672cb1b481d7e1d00abe15371a" category="inline-link-macro-rx"></block> avant de procéder à l'installation et à la configuration de SnapCenter : .  Ce qui suit fournit un résumé de haut niveau des étapes d’installation et de configuration du SnapCenter software pour Oracle sur Azure ANF.</block>
  <block id="2f16590362b9a77201075964ad79edf6" category="list-text">Depuis le serveur Windows SnapCenter , téléchargez et installez le dernier JDK Java à partir de<block ref="1a0bb7a886be273015991771cf1b1190" category="inline-link-macro-rx"></block> .</block>
  <block id="4c432947190d17ebbfafd109af579e8b" category="inline-link-macro">NetApp | Assistance</block>
  <block id="252ae86269b0f2ac0af59ba9dbaf9f77" category="list-text">À partir du serveur Windows SnapCenter , téléchargez et installez la dernière version (actuellement 5.0) de l'exécutable d'installation de SnapCenter à partir du site de support NetApp :<block ref="f0da1a8fe9efadb5bab3d3f47fea4f67" category="inline-link-macro-rx"></block> .</block>
  <block id="06f6fe269bc66b13969ba522de05e124" category="list-text">Après l'installation du serveur SnapCenter , lancez le navigateur pour vous connecter à SnapCenter avec les informations d'identification de l'utilisateur administrateur local Windows ou de l'utilisateur de domaine via le port 8146.</block>
  <block id="59b99dff4b9ef65674331e7340fa08d7" category="inline-image-macro">Cette image fournit l'écran de connexion pour le serveur SnapCenter</block>
  <block id="9e64d87d797f6ef8300dcbd71ba061b3" category="paragraph"><block ref="9e64d87d797f6ef8300dcbd71ba061b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="96a37aec5c27e605088aea24d5d14206" category="list-text">Revoir<block ref="e0c4332e8c13be976552a059f106354f" prefix=" " category="inline-code"></block> menu en ligne.</block>
  <block id="e4ecaf6c95aea5efc31bb0908136fe57" category="inline-image-macro">Cette image fournit un menu en ligne pour le serveur SnapCenter</block>
  <block id="e7174631e335934782d6c5f90cc6b72e" category="paragraph"><block ref="e7174631e335934782d6c5f90cc6b72e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26580f485e752465df198f9ca8753224" category="list-text">Dans<block ref="4d6066956a45bb2668fa0c138b1f3d03" prefix=" " category="inline-code"></block> , vérifier<block ref="6b2d6702a0358e8df43b31cf0890a30f" prefix=" " category="inline-code"></block> et cliquez sur Mettre à jour.</block>
  <block id="ffae6a01cee8b80c47313ba0d044f280" category="inline-image-macro">Cette image fournit les paramètres de l'hyperviseur pour le serveur SnapCenter</block>
  <block id="a9c88fbfcc57e31173d9238e34e76664" category="paragraph"><block ref="a9c88fbfcc57e31173d9238e34e76664" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b970cc736d04d4b56c58fea4ad5c9da" category="list-text">Si nécessaire, ajustez<block ref="67fde4caae23fade4d1bd7de40c81bc7" prefix=" " category="inline-code"></block> pour l'interface utilisateur SnapCenter à l'intervalle souhaité.</block>
  <block id="d0d8ee4e483915ff866ab8323293c1d0" category="inline-image-macro">Cette image fournit le délai d'expiration de session pour le serveur SnapCenter</block>
  <block id="570b8eeed70ef938c2f4b57048a01cbf" category="paragraph"><block ref="570b8eeed70ef938c2f4b57048a01cbf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a0acc9513d8b87ae002c74de46229c03" category="list-text">Ajoutez des utilisateurs supplémentaires à SnapCenter si nécessaire.</block>
  <block id="025955fc32ea828a9e5153bf02eac7b2" category="inline-image-macro">Cette image fournit les paramètres - Utilisateurs et accès pour le serveur SnapCenter</block>
  <block id="78bc4dd16c516914018e2c23d2c2d9cb" category="paragraph"><block ref="78bc4dd16c516914018e2c23d2c2d9cb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e481d0de1e224ddd98e9dfb72c1f658d" category="list-text">Le<block ref="a5cd3ed116608dac017f14c046ea56bf" prefix=" " category="inline-code"></block> L'onglet répertorie les rôles intégrés qui peuvent être attribués à différents utilisateurs de SnapCenter .  Des rôles personnalisés peuvent également être créés par l'utilisateur administrateur avec les privilèges souhaités.</block>
  <block id="ee0d0d1f1f6fe1110797be4d48053fae" category="inline-image-macro">Cette image fournit des rôles pour le serveur SnapCenter</block>
  <block id="a1791585a88d4c2c3396ebe9ea77628e" category="paragraph"><block ref="a1791585a88d4c2c3396ebe9ea77628e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3fb40cbc384305df9161da52ec4c2d0d" category="list-text">Depuis<block ref="c4646a4d73e5bf2cf1843bda6cd9f769" prefix=" " category="inline-code"></block> , créez des informations d'identification pour les cibles de gestion SnapCenter .  Dans ce cas d’utilisation de démonstration, il s’agit d’un utilisateur Linux pour la connexion à la machine virtuelle Azure et d’informations d’identification ANF pour l’accès au pool de capacité.</block>
  <block id="dc06424d30636d2437b7c082a44271de" category="inline-image-macro">Cette image fournit les informations d'identification pour le serveur SnapCenter</block>
  <block id="0df6784b503c41399d83a2f361cf4574" category="paragraph"><block ref="e39bbbd05f8020a4772bbfcb7e19ef2f" category="inline-image-macro-rx" type="image"></block> <block ref="8c6a0aea884f94491ad7ecb4f09fa845" category="inline-image-macro-rx" type="image"></block> <block ref="6027d8ffcbae416fc0888a15f185b54d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dd4237b12d92b22e7ad381bf28522e7f" category="list-text">Depuis<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> onglet, ajouter<block ref="7450cfde7058dc5e1f7909d0280fd7ae" prefix=" " category="inline-code"></block> avec les informations d'identification créées ci-dessus.</block>
  <block id="71e910f4881c08ea6897e22b79389cf4" category="inline-image-macro">Cette image fournit des Azure NetApp Files pour le serveur SnapCenter</block>
  <block id="8f8b38fef6eae25d3fd89e2263c39eac" category="paragraph"><block ref="a005fe8582f4fcd72fede084ef2cb22f" category="inline-image-macro-rx" type="image"></block> <block ref="874f615eb62654ab381adcc0800ad1b0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d7702d89b895aa6ec99def769587c405" category="list-text">Depuis<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> onglet, ajoutez les machines virtuelles Azure DB, qui installent le plug-in SnapCenter pour Oracle sur Linux.</block>
  <block id="b979fe379fa5345e56adf94005f84929" category="inline-image-macro">Cette image fournit des hôtes pour le serveur SnapCenter</block>
  <block id="bbcc613599c9e5715a277211dc9e8265" category="paragraph"><block ref="c1f33d38cd4c230d7542f5038d30507a" category="inline-image-macro-rx" type="image"></block> <block ref="240cc5b6f0609e40ae315f77dfd6f383" category="inline-image-macro-rx" type="image"></block> <block ref="e3e019b1a7125de45cc9153a40334638" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3a63bd1ddab3e696228b7b61878c09d" category="inline-link-macro">Créer des politiques de sauvegarde pour les bases de données Oracle</block>
  <block id="2166a1bececf10153acd19c3ed9b1d2e" category="list-text">Une fois le plugin hôte installé sur la machine virtuelle du serveur de base de données, les bases de données sur l'hôte sont automatiquement découvertes et visibles dans<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> languette.  Retour à<block ref="6c8a99d2cb03d4bc5a863f8606453994" prefix=" " category="inline-code"></block> , créez des politiques de sauvegarde pour la sauvegarde complète en ligne de la base de données Oracle et la sauvegarde des journaux d'archivage uniquement.  Se référer à ce document<block ref="9c987a74ad0aa597c1c522b0007ec5d5" category="inline-link-macro-rx"></block> pour des procédures détaillées étape par étape.</block>
  <block id="886ca5ebbeb3beae0e42d559adb9afa6" category="inline-image-macro">Cette image fournit les paramètres et les politiques du serveur SnapCenter</block>
  <block id="2031f316750a077dff90583a06314612" category="paragraph"><block ref="2031f316750a077dff90583a06314612" category="inline-image-macro-rx" type="image"></block></block>
  <block id="89a532a917f392c521eb9922d1a47d62" category="paragraph">Une sauvegarde instantanée NetApp crée une image ponctuelle des volumes de base de données que vous pouvez utiliser pour restaurer en cas de panne du système ou de perte de données.  Les sauvegardes instantanées prennent très peu de temps, généralement moins d’une minute.  L'image de sauvegarde consomme un espace de stockage minimal et entraîne une surcharge de performances négligeable, car elle enregistre uniquement les modifications apportées aux fichiers depuis la dernière copie instantanée.  La section suivante illustre l'implémentation des instantanés pour la sauvegarde de la base de données Oracle dans SnapCenter.</block>
  <block id="2622a793728d35ec6877f6afb1a153e6" category="list-text">Navigation vers<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, qui répertorie les bases de données découvertes une fois le plugin SnapCenter installé sur la machine virtuelle de base de données.  Au départ, le<block ref="58d4fcf0afd65a0eb3857a2d3e254c8c" prefix=" " category="inline-code"></block> de la base de données montre comme<block ref="4aa6066b3ed6d1b995450c6c7ad4a3d8" prefix=" " category="inline-code"></block> .</block>
  <block id="4ba96929ee643a0f3d8eb215ab8d7c35" category="inline-image-macro">Cette image fournit une sauvegarde de base de données pour le serveur SnapCenter</block>
  <block id="9d507498182d7ea6be0a6489ec72c0e1" category="paragraph"><block ref="9d507498182d7ea6be0a6489ec72c0e1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7fb0e0d4bbba69fa67fe86fdcf6fa41f" category="list-text">Cliquez sur<block ref="4351cfebe4b61d8aa5efa1d020710005" prefix=" " category="inline-code"></block> menu déroulant pour passer à<block ref="dd23acac46f17cbfd4d5541f8ee3c7a1" prefix=" " category="inline-code"></block> .  Cliquez sur<block ref="ec211f7c20af43e742bf2570c3cb84f9" prefix=" " category="inline-code"></block> signe à droite pour ajouter un groupe de ressources.</block>
  <block id="75ee349943fa87c02204fd724db93e8c" category="paragraph"><block ref="75ee349943fa87c02204fd724db93e8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="19ff1cea165e0fcce11d79410c000e25" category="list-text">Nommez votre groupe de ressources, vos balises et tout nom personnalisé.</block>
  <block id="002f9712d4308af5a88b3a9bf376dfeb" category="paragraph"><block ref="002f9712d4308af5a88b3a9bf376dfeb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9cf2d7ee69e3a812dae0bd35100b6081" category="list-text">Ajoutez des ressources à votre<block ref="dd23acac46f17cbfd4d5541f8ee3c7a1" prefix=" " category="inline-code"></block> .  Le regroupement de ressources similaires peut simplifier la gestion de la base de données dans un environnement de grande taille.</block>
  <block id="bc7e4c82a94a1565c725f9d679f9148e" category="paragraph"><block ref="bc7e4c82a94a1565c725f9d679f9148e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="875d3bcc106894cef94c8362d4bada10" category="list-text">Sélectionnez la politique de sauvegarde et définissez une planification en cliquant sur le signe « + » sous<block ref="b54c2aaa814d856436c9f864ac8afdd5" prefix=" " category="inline-code"></block> .</block>
  <block id="d5578d1feb20b550eb1a91632e395995" category="paragraph"><block ref="065f7b2a26fa4e4e245647144e5f02b7" category="inline-image-macro-rx" type="image"></block> <block ref="d115e46980c432e346d7b5c9b666dd8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7918c5620dbf35faced9d7a3a666da15" category="list-text">Si la vérification de sauvegarde n'est pas configurée dans la politique, laissez la page de vérification telle quelle.</block>
  <block id="d97e19ad114eb3dc9069a84e78c335b7" category="paragraph"><block ref="d97e19ad114eb3dc9069a84e78c335b7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2396ffd0abd0c6bffee737277b76430" category="list-text">Afin d'envoyer par courrier électronique un rapport de sauvegarde et une notification, un serveur de messagerie SMTP est nécessaire dans l'environnement.  Ou laissez-le noir si aucun serveur de messagerie n'est configuré.</block>
  <block id="5b38e03481f78ad8e72f415a2846bc20" category="paragraph"><block ref="5b38e03481f78ad8e72f415a2846bc20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71dc91d121e985620a277b7fad0f6168" category="list-text">Résumé du nouveau groupe de ressources.</block>
  <block id="fa5f7125afc894425ac5b5d51bcc2af4" category="paragraph"><block ref="fa5f7125afc894425ac5b5d51bcc2af4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9fbbeced92d891e91891234bc859d078" category="list-text">Répétez les procédures ci-dessus pour créer une sauvegarde du journal d'archive de base de données uniquement avec la politique de sauvegarde correspondante.</block>
  <block id="91ad8b58c73da2748483a0070caadf56" category="paragraph"><block ref="91ad8b58c73da2748483a0070caadf56" category="inline-image-macro-rx" type="image"></block></block>
  <block id="24f86cfce0092ac5d9090957526aacbe" category="list-text">Cliquez sur un groupe de ressources pour révéler les ressources qu’il comprend.  Outre la tâche de sauvegarde planifiée, une sauvegarde ponctuelle peut être déclenchée en cliquant sur<block ref="9a9852432e1a7055c64fef6ff8f6dd65" prefix=" " category="inline-code"></block> .</block>
  <block id="85ffec48187fe9957a1677aa963d6304" category="paragraph"><block ref="b09286e22fd6db1ed1363d87f99a2897" category="inline-image-macro-rx" type="image"></block> <block ref="fccd097ec6b8c39706247a99c6d82d38" category="inline-image-macro-rx" type="image"></block></block>
  <block id="287f76d0aaad99fd67c4537bef25ac74" category="list-text">Cliquez sur la tâche en cours pour ouvrir une fenêtre de surveillance, qui permet à l'opérateur de suivre la progression de la tâche en temps réel.</block>
  <block id="fd45b4ee60c803a806ddbcc32961f73a" category="paragraph"><block ref="fd45b4ee60c803a806ddbcc32961f73a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="489facdfbfbab274d7adce93c4539d9f" category="list-text">Un ensemble de sauvegarde instantanée apparaît sous la topologie de la base de données une fois qu'une tâche de sauvegarde réussie est terminée.  Un ensemble de sauvegarde de base de données complet comprend un instantané des volumes de données de la base de données et un instantané des volumes de journaux de la base de données.  Une sauvegarde de journal uniquement contient uniquement un instantané des volumes de journal de la base de données.</block>
  <block id="92476b738112505da321bf41c92caef5" category="paragraph"><block ref="92476b738112505da321bf41c92caef5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b7bd6844cb7d1a58c24be2eb5e09dd9e" category="paragraph">La récupération de base de données via SnapCenter restaure une copie instantanée de l'image du volume de base de données à un moment donné.  La base de données est ensuite transférée vers un point souhaité par SCN/horodatage ou un point autorisé par les journaux d'archives disponibles dans le jeu de sauvegarde.  La section suivante illustre le flux de travail de récupération de base de données avec l'interface utilisateur SnapCenter .</block>
  <block id="1276bda3e84c962765c7f939562edc1b" category="list-text">Depuis<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, ouvrir la base de données<block ref="9075f786989ed7df222b4297bec16422" prefix=" " category="inline-code"></block> page.  Choisissez l'instantané du volume de données de la base de données, puis cliquez sur<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> bouton pour lancer le flux de travail de récupération de la base de données.  Notez le numéro SCN ou l'horodatage dans les jeux de sauvegarde si vous souhaitez exécuter la récupération par Oracle SCN ou l'horodatage.</block>
  <block id="a482c65925dcf03c4f1df8c0c00d80a6" category="inline-image-macro">Cette image fournit la restauration de la base de données pour le serveur SnapCenter</block>
  <block id="7a72e560e7a8003b7812f6bd79788071" category="paragraph"><block ref="7a72e560e7a8003b7812f6bd79788071" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7a0d6064f45219ea8485b59931a129f9" category="list-text">Sélectionner<block ref="2fff52bd70c3fc704bb228287925cfae" prefix=" " category="inline-code"></block> .  Pour une base de données de conteneur, SnapCenter est flexible pour effectuer une restauration complète de base de données de conteneur (tous les fichiers de données), de bases de données enfichables ou de niveau tablespaces.</block>
  <block id="d5f73731610aad0f4be12831fca07f5b" category="paragraph"><block ref="d5f73731610aad0f4be12831fca07f5b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bac7059283bff97f7d76c4328850c8e8" category="list-text">Sélectionner<block ref="ec47ba775b6cce559706e86f20fde009" prefix=" " category="inline-code"></block> .<block ref="d50d6a874b376378de702eec4c6c0b96" prefix=" " category="inline-code"></block> signifie appliquer tous les journaux d'archives disponibles dans le jeu de sauvegarde.  La récupération ponctuelle par SCN ou horodatage est également disponible.</block>
  <block id="091614cde97f2bed43da8a1b19fdd2c7" category="paragraph"><block ref="091614cde97f2bed43da8a1b19fdd2c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e89ca0accc18535a19f3f8bf9e942886" category="list-text">Le<block ref="ced009502445c11dc6162d3d7758d07b" prefix=" " category="inline-code"></block> permet l'exécution de scripts sur la base de données avant l'opération de restauration/récupération.</block>
  <block id="685024253073386c3e6e6a66ca7b7912" category="paragraph"><block ref="685024253073386c3e6e6a66ca7b7912" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c23a56c7db12aa77b66795215479decf" category="list-text">Le<block ref="5fa20aa4f779d0f14b1c9545ded7baa6" prefix=" " category="inline-code"></block> permet l'exécution de scripts sur la base de données après une opération de restauration/récupération.</block>
  <block id="a2a1f69706b668e4146e64d310d4e76c" category="paragraph"><block ref="a2a1f69706b668e4146e64d310d4e76c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="33402d9fc6c4297fd3a48930e49eb9e4" category="list-text">Notification par email si vous le souhaitez.</block>
  <block id="3a9d94aa43f64f2237fec5a4bc00bd42" category="paragraph"><block ref="3a9d94aa43f64f2237fec5a4bc00bd42" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4867bf6fc07300b11d5e52009f6943e3" category="list-text">Restaurer le résumé du travail</block>
  <block id="aec80d15488463cfc1222eb1a2d91fb4" category="paragraph"><block ref="aec80d15488463cfc1222eb1a2d91fb4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a2ac78daad6f0e5548bf6b3c8a744961" category="list-text">Cliquez sur la tâche en cours d'exécution pour l'ouvrir<block ref="4f65019520415bd6c5a529f526f86dd7" prefix=" " category="inline-code"></block> fenêtre.  Le statut du travail peut également être ouvert et visualisé à partir du<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> languette.</block>
  <block id="f930792970439359f667f9074f035f8c" category="paragraph"><block ref="f930792970439359f667f9074f035f8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fd808403d73611b482552bb655a619b6" category="paragraph">Le clonage de base de données via SnapCenter s'effectue en créant un nouveau volume à partir d'un instantané d'un volume.  Le système utilise les informations de capture instantanée pour cloner un nouveau volume à l'aide des données présentes sur le volume lorsque la capture instantanée a été prise.  Plus important encore, c'est rapide (quelques minutes) et efficace par rapport à d'autres méthodes pour créer une copie clonée de la base de données de production pour prendre en charge le développement ou les tests.  Améliorez ainsi considérablement la gestion du cycle de vie de votre application de base de données.  La section suivante illustre le flux de travail du clonage de base de données avec l'interface utilisateur SnapCenter .</block>
  <block id="f2914a331ca3beda8620803b7496d121" category="list-text">Depuis<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, ouvrir la base de données<block ref="9075f786989ed7df222b4297bec16422" prefix=" " category="inline-code"></block> page.  Choisissez l'instantané du volume de données de la base de données, puis cliquez sur<block ref="d329fd777726c300d7a044e482b967e7" prefix=" " category="inline-code"></block> bouton pour lancer le workflow de clonage de la base de données.</block>
  <block id="f9d20d3938f49ba79e7e71b35367dd8a" category="inline-image-macro">Cette image fournit un clone de base de données pour le serveur SnapCenter</block>
  <block id="d17fc95295fc6a482c11914f4d69c365" category="paragraph"><block ref="d17fc95295fc6a482c11914f4d69c365" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dd25eb8a6cd5e51eb9a829670231a42d" category="list-text">Nommez la base de données clone SID.  En option, pour une base de données conteneur, le clonage peut également être effectué au niveau PDB.</block>
  <block id="5943fc719aadae0f706834d9b6f6e8d9" category="paragraph"><block ref="5943fc719aadae0f706834d9b6f6e8d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="25fa34588c9138998f469c3fd58ada8e" category="list-text">Sélectionnez le serveur de base de données sur lequel vous souhaitez placer votre copie de base de données clonée.  Conservez les emplacements de fichiers par défaut, sauf si vous souhaitez les nommer différemment.</block>
  <block id="ebb17d6d8367d7009ff4221b71e97311" category="paragraph"><block ref="ebb17d6d8367d7009ff4221b71e97311" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af6adf0da4d64fb1eb5f9d629d0dfaeb" category="list-text">La même pile logicielle Oracle que dans la base de données source doit avoir été installée et configurée sur l'hôte de la base de données clonée.  Conserver les informations d'identification par défaut mais les modifier<block ref="021e4a863e5da100e496150783eb8099" prefix=" " category="inline-code"></block> pour correspondre aux paramètres sur l'hôte de la base de données clonée.</block>
  <block id="4ddad74440aff68a53512d056840528b" category="paragraph"><block ref="4ddad74440aff68a53512d056840528b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1be0ae8621a560e5682f70d0ad924cb8" category="list-text">Le<block ref="ced009502445c11dc6162d3d7758d07b" prefix=" " category="inline-code"></block> permet l'exécution de scripts avant l'opération de clonage.  Les paramètres de la base de données peuvent être ajustés pour répondre aux besoins d'une base de données clonée par rapport à une base de données de production, comme une cible SGA réduite.</block>
  <block id="189ce86b532cccb73074a8ea578c0102" category="paragraph"><block ref="189ce86b532cccb73074a8ea578c0102" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9b647ca121466de8e754099a317efa26" category="list-text">Le<block ref="5fa20aa4f779d0f14b1c9545ded7baa6" prefix=" " category="inline-code"></block> permet l'exécution de scripts sur la base de données après l'opération de clonage.  La récupération de la base de données clonée peut être basée sur le SCN, l'horodatage ou jusqu'à l'annulation (reprise de la base de données jusqu'au dernier journal archivé dans le jeu de sauvegarde).</block>
  <block id="82e75b2e1c8b19c32ff9e9ac1b9153c9" category="paragraph"><block ref="82e75b2e1c8b19c32ff9e9ac1b9153c9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8619adcb91e677017924ca6b16ba96ed" category="paragraph"><block ref="8619adcb91e677017924ca6b16ba96ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bf4fecad178142ecaf84d1631bd0de91" category="list-text">Résumé du travail de clonage.</block>
  <block id="e2300820531ea21f5bf35a6412ab52b4" category="paragraph"><block ref="e2300820531ea21f5bf35a6412ab52b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6dd94797fb2b846da1943beb63a9a64e" category="paragraph"><block ref="6dd94797fb2b846da1943beb63a9a64e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2b9ad7101315fee480147c99a1b004e9" category="list-text">La base de données clonée s'enregistre immédiatement auprès de SnapCenter .</block>
  <block id="e2e8e461cee4c0f3181ed0e03d95614d" category="paragraph"><block ref="e2e8e461cee4c0f3181ed0e03d95614d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f1a562c6e48bea55b2f5d52385feef1c" category="list-text">Valider la base de données clonée sur l'hôte du serveur DB.  Pour une base de données de développement clonée, le mode d'archivage de la base de données doit être désactivé.</block>
  <block id="532841fbf704673d5f6dc65db8d8cf66" category="inline-link-macro"><block ref="532841fbf704673d5f6dc65db8d8cf66" category="inline-link-rx"></block></block>
  <block id="a88dfa4149ba3595ee197cb2ff9fdd79" category="paragraph"><block ref="a88dfa4149ba3595ee197cb2ff9fdd79" category="inline-link-macro-rx"></block></block>
  <block id="3cd3290a9231e38be51fc2cb3ce01572" category="inline-link-macro">Procédure de déploiement</block>
  <block id="f2c7ec07b8a46e173b04cc559f954e0f" category="paragraph"><block ref="f2c7ec07b8a46e173b04cc559f954e0f" category="inline-link-macro-rx"></block></block>
  <block id="6845898fa7e9ec1fa3b8934d8e91b0c1" category="summary">La solution fournit un aperçu et des détails sur la sauvegarde, la restauration et le clonage de la base de données Oracle à l'aide de NetApp SnapCenter SaaS à l'aide de la console BlueXP .</block>
  <block id="4a2b9d3fbf0ce23b647509fb31e70cde" category="doc">TR-4977 : Sauvegarde, restauration et clonage de bases de données Oracle avec SnapCenter Services – Azure</block>
  <block id="182e6145515371c9597ab0106bf34ee9" category="paragraph">Cette solution fournit un aperçu et des détails sur la sauvegarde, la restauration et le clonage de la base de données Oracle à l'aide de NetApp SnapCenter SaaS à l'aide de la console BlueXP .</block>
  <block id="63260fe4291efeee8bde616a2f5684d4" category="paragraph">SnapCenter Services est la version SaaS de l'outil d'interface utilisateur de gestion de base de données SnapCenter classique disponible via la console de gestion cloud NetApp BlueXP .  Il fait partie intégrante de l'offre de sauvegarde cloud et de protection des données NetApp pour les bases de données telles qu'Oracle et HANA exécutées sur Azure NetApp Files.  Ce service basé sur SaaS simplifie le déploiement traditionnel du serveur autonome SnapCenter qui nécessite généralement un serveur Windows fonctionnant dans un environnement de domaine Windows.</block>
  <block id="29f3642491ac9aeb7b665ce66bb22367" category="paragraph">Dans cette documentation, nous montrons comment configurer SnapCenter Services pour sauvegarder, restaurer et cloner des bases de données Oracle déployées sur des volumes Azure NetApp Files et des instances de calcul Azure.  Il est très facile de configurer la protection des données pour la base de données Oracle déployée sur Azure NetApp Files avec l'interface utilisateur BlueXP basée sur le Web.</block>
  <block id="e9077c444a6fe7487b79ae7f79962528" category="list-text">Sauvegarde de base de données avec instantanés pour les bases de données Oracle hébergées dans Azure NetApp Files et les machines virtuelles Azure</block>
  <block id="403ca933973134cbaf8f9354830b4d9c" category="list-text">Récupération de la base de données Oracle en cas de panne</block>
  <block id="3c0389598fef1a83350821d4fdeef712" category="list-text">Clonage rapide de bases de données primaires pour les environnements de développement, de test ou d'autres cas d'utilisation</block>
  <block id="de98fb1438e12380191eaa97d6c6b90d" category="paragraph">Cette solution est destinée aux publics suivants :</block>
  <block id="d187540921045cfa569cefc03bc2d168" category="list-text">L'administrateur de base de données qui gère les bases de données Oracle exécutées sur le stockage Azure NetApp Files</block>
  <block id="bd1e27892a57409e18119bb2e541f4b1" category="list-text">L'architecte de solutions qui souhaite tester la sauvegarde, la restauration et le clonage de bases de données Oracle dans Azure</block>
  <block id="42f6ca06d2c7da03707222828f8997d0" category="list-text">L'administrateur de stockage qui prend en charge et gère le stockage Azure NetApp Files</block>
  <block id="94afe08a60e7f6e3a5a129eb73659899" category="list-text">Le propriétaire de l'application qui possède les applications déployées sur le stockage Azure NetApp Files et les machines virtuelles Azure</block>
  <block id="8b610eaf828fa120f2c2b10c15be044b" category="paragraph">Les tests et la validation de cette solution ont été réalisés dans un environnement de laboratoire qui pourrait ne pas correspondre à l’environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="f11ac801004d872ca260befe72ccef06" category="inline-image-macro">Cette image fournit une image détaillée de la BlueXP backup and recovery pour les applications dans la console BlueXP , y compris l'interface utilisateur, le connecteur et les ressources qu'elle gère.</block>
  <block id="26857de22d338fb1ce363971beede582" category="paragraph"><block ref="26857de22d338fb1ce363971beede582" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbe02f66cac21399f800de4cd1e8fe3b" category="paragraph">Cette image fournit une image détaillée de la BlueXP backup and recovery pour les applications dans la console BlueXP , y compris l'interface utilisateur, le connecteur et les ressources qu'elle gère.</block>
  <block id="55ee60e84e278b25241f6d746cda7b4c" category="cell">Stockage Azure NetApp Files</block>
  <block id="2b5527ea942b29b10a9a691160f3137b" category="cell">Niveau de service Premium</block>
  <block id="d8e8e079bcd8fa97afc26513da9e1110" category="cell">Type de QoS automatique et capacité de stockage de 4 To lors des tests</block>
  <block id="4c791dd8c709f803e2c279029455d4da" category="cell">Instance Azure pour le calcul</block>
  <block id="d82c3df85e2512cdff298dd446d58313" category="cell">Deux instances déployées, l'une comme serveur de base de données principal et l'autre comme serveur de base de données clone</block>
  <block id="985045c742c1926df0960f2e40377fde" category="cell">Red Hat Enterprise Linux 8.7 (LVM) - x64 Gen2</block>
  <block id="ca6c2c8fbdec80fdc9c7b41d5742dec2" category="cell">Version v2.5.0-2822</block>
  <block id="d22bbe9a49e393259ebd1a700f02c6fb" category="cell">Version de l'agent v2.5.0-2822</block>
  <block id="f6b9199115e06b52287c2e656c7170b7" category="list-text">*Connecteur à déployer dans le même réseau virtuel / sous-réseau que les bases de données et Azure NetApp Files.*  Lorsque cela est possible, le connecteur doit être déployé dans les mêmes réseaux virtuels et groupes de ressources Azure, ce qui permet la connectivité au stockage Azure NetApp Files et aux instances de calcul Azure.</block>
  <block id="4275ae61422c34253a59329bd20a0449" category="inline-link-macro">Configurer les autorisations Azure</block>
  <block id="a2c89159a457c3034a118e2f5ec42ea8" category="list-text">*Un compte d'utilisateur Azure ou un principe de service Active Directory créé sur le portail Azure pour le connecteur SnapCenter .*  Le déploiement d’un connecteur BlueXP nécessite des autorisations spécifiques pour créer et configurer une machine virtuelle et d’autres ressources de calcul, pour configurer la mise en réseau et pour accéder à l’abonnement Azure.  Il nécessite également des autorisations pour créer ultérieurement des rôles et des autorisations pour que le connecteur fonctionne.  Créez un rôle personnalisé dans Azure avec des autorisations et attribuez-le au compte utilisateur ou au principe de service.  Consultez le lien suivant pour plus de détails :<block ref="b49637e40777f5433f5c24dbb998f3cf" category="inline-link-macro-rx"></block> .</block>
  <block id="448ffe9dc9c373b8324c69a8af97c086" category="list-text">*Une paire de clés SSH créée dans le groupe de ressources Azure.*  La paire de clés SSH est attribuée à l'utilisateur de la machine virtuelle Azure pour la connexion à l'hôte du connecteur, ainsi qu'à l'hôte de la machine virtuelle de la base de données pour le déploiement et l'exécution d'un plug-in. L'interface utilisateur de la console BlueXP utilise la clé SSH pour déployer le plug-in du service SnapCenter sur l'hôte de la base de données, pour une installation en une seule étape du plug-in et la découverte de la base de données de l'hôte de l'application.</block>
  <block id="68c6f0e24ad67438a9793997e4148b4a" category="list-text">*Un identifiant ajouté au paramètre de la console BlueXP .*  Pour ajouter le stockage Azure NetApp Files à l’environnement de travail BlueXP , des informations d’identification qui accordent des autorisations pour accéder à Azure NetApp Files à partir de la console BlueXP doivent être configurées dans le paramètre de la console BlueXP .</block>
  <block id="7076747996fba0bd3dae4b26df9e5b81" category="list-text">*java-11-openjdk installé sur l'hôte de l'instance de base de données de la machine virtuelle Azure.*  L'installation du service SnapCenter nécessite la version 11 de Java.  Il doit être installé sur l'hôte de l'application avant la tentative de déploiement du plugin.</block>
  <block id="c9643c7018a32634bcea72e6f9a9b01c" category="paragraph">Il existe une documentation NetApp complète avec une portée plus large pour vous aider à protéger vos données d'application cloud natives.  L’objectif de cette documentation est de fournir des procédures étape par étape qui couvrent le déploiement du service SnapCenter avec la console BlueXP pour protéger votre base de données Oracle déployée sur un stockage Azure NetApp Files et une instance de calcul Azure.</block>
  <block id="20c4c0cc24d7fc086bd9c72220d4827f" category="paragraph">Pour commencer, procédez comme suit :</block>
  <block id="eb5668f5c3459c84cc715cf197e7c91a" category="inline-link-macro">Protégez les données de vos applications cloud natives</block>
  <block id="9e5915c4d38dc3c29af322b9d02d5b8d" category="list-text">Lire les instructions générales<block ref="4a82485e6c558a94a8e73b73116d1bce" category="inline-link-macro-rx"></block> et les sections liées à Oracle et Azure NetApp Files.</block>
  <block id="ce953d67aae97c7fc7524432a6090e33" category="list-text">Regardez la vidéo suivante</block>
  <block id="96410c05710545cd17f642c52cfd8867" category="video-title">Vidéo du déploiement d'Oracle et d'ANF</block>
  <block id="80478dbd4349cfca50f458d912a95795" category="section-title">Conditions préalables au déploiement du service SnapCenter</block>
  <block id="1aa4f0058fb883a083f057768fa6878f" category="list-text">Un serveur de base de données Oracle principal sur une instance de machine virtuelle Azure avec une base de données Oracle entièrement déployée et en cours d’exécution.</block>
  <block id="9c1e7cfdc38dedc2e99c928ece55f763" category="list-text">Un pool de capacité de service de stockage Azure NetApp Files déployé dans Azure qui a la capacité de répondre aux besoins de stockage de base de données répertoriés dans la section des composants matériels.</block>
  <block id="400fbf8e332fd888d81e51801a0c2cc4" category="list-text">Un serveur de base de données secondaire sur une instance de machine virtuelle Azure qui peut être utilisé pour tester le clonage d'une base de données Oracle sur un autre hôte dans le but de prendre en charge une charge de travail de développement/test ou tout cas d'utilisation nécessitant un ensemble complet de données de base de données Oracle de production.</block>
  <block id="3ada7886f4bfea6ef925116fa1e9d3a2" category="list-text">Pour plus d'informations sur le déploiement de la base de données Oracle sur Azure NetApp Files et l'instance de calcul Azure, consultez<block ref="87519c89a986d65c2f08fecd9e87563f" category="inline-link-macro-rx"></block> .</block>
  <block id="b8b1139d652a0eeb20f8d04852ac0ff4" category="section-title">Préparation à l'intégration de BlueXP</block>
  <block id="87d337785ad5798c5ccb41300628991a" category="list-text">Utilisez le lien<block ref="f796c57cbc184209dde3e35268bc382f" category="inline-link-macro-rx"></block> pour vous inscrire à l'accès à la console BlueXP .</block>
  <block id="b6ae4eb3df8e4641d8de2566803478d7" category="list-text">Créez un compte d’utilisateur Azure ou un principe de service Active Directory et accordez des autorisations avec un rôle dans le portail Azure pour le déploiement du connecteur Azure.</block>
  <block id="81ec66aa59e6b366dbe7a76be739caf3" category="list-text">Pour configurer BlueXP afin de gérer les ressources Azure, ajoutez des informations d’identification BlueXP avec les détails d’un principal de service Active Directory que BlueXP peut utiliser pour s’authentifier auprès d’Azure Active Directory (ID client d’application), un secret client pour l’application principale de service (Secret client) et l’ID Active Directory de votre organisation (ID de locataire).</block>
  <block id="15c84c91cca87e33136482d747da05a0" category="list-text">Vous avez également besoin du réseau virtuel Azure, du groupe de ressources, du groupe de sécurité, d’une clé SSH pour l’accès à la machine virtuelle, etc. prêts pour le provisionnement du connecteur et l’installation du plug-in de base de données.</block>
  <block id="43e23d889dea00cd09a68857a66540a2" category="section-title">Déployer un connecteur pour les services SnapCenter</block>
  <block id="ab08177e4206526be72dbdc84ee2ea8e" category="list-text">Connectez-vous à la console BlueXP .</block>
  <block id="0cbdd4f6affab5037fdf9f209cc9c3a6" category="paragraph"><block ref="0cbdd4f6affab5037fdf9f209cc9c3a6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b68454c1eb2120854c603f290cc17fda" category="list-text">Cliquez sur la flèche déroulante *Connecteur* et sur *Ajouter un connecteur* pour lancer le flux de travail de provisionnement du connecteur.</block>
  <block id="5822f4e2d21ff1df830bd1fd9564688d" category="paragraph"><block ref="5822f4e2d21ff1df830bd1fd9564688d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e810044bd3b9f9b02ca265b4d3eebe93" category="list-text">Choisissez votre fournisseur de cloud (dans ce cas, *Microsoft Azure*).</block>
  <block id="c45be448ec85e60d33dd361b175651c2" category="paragraph"><block ref="c45be448ec85e60d33dd361b175651c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="047b152c8199802dac7e7e1ed26059ed" category="list-text">Ignorez les étapes *Autorisation*, *Authentification* et *Mise en réseau* si vous les avez déjà configurées dans votre compte Azure.  Sinon, vous devez les configurer avant de continuer.  À partir de là, vous pouvez également récupérer les autorisations pour la stratégie Azure référencée dans la section précédente "<block ref="2204dd011c923b13eaa19e758c798231" category="inline-xref-macro-rx"></block> ."</block>
  <block id="99e14f7699280eab49fc6e5e02042d24" category="paragraph"><block ref="99e14f7699280eab49fc6e5e02042d24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5bb415e11f78e565d29b6276832d292" category="list-text">Cliquez sur *Passer au déploiement* pour configurer votre connecteur *Authentification de machine virtuelle*.  Ajoutez la paire de clés SSH que vous avez créée dans le groupe de ressources Azure lors de l’intégration à la préparation BlueXP pour l’authentification du système d’exploitation du connecteur.</block>
  <block id="b495a7280ed7e3158d73021a45c65ec4" category="paragraph"><block ref="b495a7280ed7e3158d73021a45c65ec4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d5895de98f1a29d1e51aec000e336a8" category="list-text">Fournissez un nom pour l’instance du connecteur, sélectionnez *Créer* et acceptez le *Nom du rôle* par défaut sous *Détails*, puis choisissez l’abonnement pour le compte Azure.</block>
  <block id="787023b324c189f4d96cebeb90c2ddd8" category="paragraph"><block ref="787023b324c189f4d96cebeb90c2ddd8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f92ddd8d0b54f5b5292875e85830a9e" category="list-text">Configurez la mise en réseau avec le *VNet*, le *Sous-réseau* appropriés et désactivez l'*IP publique*, mais assurez-vous que le connecteur dispose d'un accès Internet dans votre environnement Azure.</block>
  <block id="d480a764511a0d80c029921c1cfe58d7" category="paragraph"><block ref="d480a764511a0d80c029921c1cfe58d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46eaff1ae08db28efc06b6f93a0d936f" category="list-text">Configurez le *groupe de sécurité* pour le connecteur qui autorise l'accès HTTP, HTTPS et SSH.</block>
  <block id="e1c11e927f550277f01f81927662d556" category="paragraph"><block ref="e1c11e927f550277f01f81927662d556" category="inline-image-macro-rx" type="image"></block></block>
  <block id="83b7e5528d645d061628677d96552818" category="list-text">Consultez la page récapitulative et cliquez sur *Ajouter* pour démarrer la création du connecteur.  Le déploiement prend généralement environ 10 minutes.  Une fois terminée, l’instance de connecteur VM apparaît dans le portail Azure.</block>
  <block id="18b3d1323f9cf21b0cd62911affeda5c" category="paragraph"><block ref="18b3d1323f9cf21b0cd62911affeda5c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="055717b8b2a845f9fe90ecae965b1feb" category="list-text">Une fois le connecteur déployé, le connecteur nouvellement créé apparaît sous la liste déroulante *Connecteur*.</block>
  <block id="e45c67c2fabc5203448e017545fff2c4" category="paragraph"><block ref="e45c67c2fabc5203448e017545fff2c4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8de7e309885d21366a248cc336a9b9f" category="section-title">Définir des informations d'identification dans BlueXP pour accéder aux ressources Azure</block>
  <block id="c60c5069d027433cec0a8d7858d4cf82" category="list-text">Cliquez sur l'icône de configuration dans le coin supérieur droit de la console BlueXP pour ouvrir la page *Informations d'identification du compte*, cliquez sur *Ajouter des informations d'identification* pour démarrer le flux de travail de configuration des informations d'identification.</block>
  <block id="584c508a139fd2cc138a954c407113a7" category="paragraph"><block ref="584c508a139fd2cc138a954c407113a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="92a4163561d0ead1f38efbf8eb4b7404" category="list-text">Choisissez l'emplacement des informations d'identification comme - *Microsoft Azure - BlueXP*.</block>
  <block id="c2b8e1d04d9cb9e8942a8e67bcc06777" category="paragraph"><block ref="c2b8e1d04d9cb9e8942a8e67bcc06777" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a7fd310fb0430315594373f0dfbb1417" category="list-text">Définissez les informations d’identification Azure avec le *Client Secret*, l’*ID client* et l’*ID locataire* appropriés, qui auraient dû être collectés lors du processus d’intégration BlueXP précédent.</block>
  <block id="d29a0cf18a4736fe0d1e1452f74347f2" category="paragraph"><block ref="d29a0cf18a4736fe0d1e1452f74347f2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c88e4920161ccc0d0ba4bd132e4631ee" category="list-text">Réviser et *Ajouter*.<block ref="fab53fce8ecc2aab6221f1b4c4ea3322" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5ae99842103cb5be866b8e69f0419936" category="list-text">Vous devrez peut-être également associer un *abonnement Marketplace* aux informations d'identification.<block ref="d69ea63a3a456ddd332b56a1c3f892f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bb46d1e3b94fe670b59ad65582cc45d9" category="section-title">Configuration des services SnapCenter</block>
  <block id="515410530ff315add6baa9b8fec25661" category="paragraph">Une fois les informations d’identification Azure configurées, les services SnapCenter peuvent désormais être configurés à l’aide des procédures suivantes :</block>
  <block id="dda049d95317fa5a13b47acbe45fde94" category="list-text">De retour à la page Canvas, depuis *Mon environnement de travail*, cliquez sur *Ajouter un environnement de travail* pour découvrir Azure NetApp Files déployé dans Azure.</block>
  <block id="43f02e4067dfce17c2cca62c84f3e481" category="list-text">Choisissez *Microsoft Azure* comme emplacement et cliquez sur *Découvrir*.</block>
  <block id="8d31ffb5d4531a6681adb9a1304342f6" category="paragraph"><block ref="8d31ffb5d4531a6681adb9a1304342f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="81999498d9ff326372c05514e6c0f430" category="list-text">Nommez *Environnement de travail* et choisissez *Nom d'identification* créé dans la section précédente, puis cliquez sur *Continuer*.</block>
  <block id="755a398e8e64390776dfae4ac5951fb2" category="paragraph"><block ref="755a398e8e64390776dfae4ac5951fb2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bc2004ebba5da01423dc17da06b98ec5" category="list-text">La console BlueXP revient à *Mes environnements de travail* et les Azure NetApp Files découverts à partir d'Azure apparaissent désormais sur *Canvas*.</block>
  <block id="6b094653fe5ce010c56b23f62dc93359" category="paragraph"><block ref="6b094653fe5ce010c56b23f62dc93359" category="inline-image-macro-rx" type="image"></block></block>
  <block id="adc19ffc08c8bfc67e1ce0cfd3eaee91" category="list-text">Cliquez sur l’icône * Azure NetApp Files*, puis *Entrer dans l’environnement de travail* pour afficher les volumes de base de données Oracle déployés dans le stockage Azure NetApp Files .</block>
  <block id="5aa571bb9d70acb246b372f9fa001a7b" category="paragraph"><block ref="5aa571bb9d70acb246b372f9fa001a7b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04353f9112bb1b7ff1621abd8ff0ef5b" category="list-text">Dans la barre latérale gauche de la console, passez votre souris sur l'icône de protection, puis cliquez sur *Protection* &gt; *Applications* pour ouvrir la page de lancement des applications.  Cliquez sur *Découvrir les applications*.</block>
  <block id="265641b1d8e46cb9d360c17e5d1d7134" category="paragraph"><block ref="265641b1d8e46cb9d360c17e5d1d7134" category="inline-image-macro-rx" type="image"></block></block>
  <block id="598fd5b506ddf6b5a73368a488fa16c0" category="list-text">Sélectionnez *Cloud Native* comme type de source d’application.</block>
  <block id="cf695d460f15654867aa6a0ee09bb83c" category="paragraph"><block ref="cf695d460f15654867aa6a0ee09bb83c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="627521257f072e1e0bb18ed662aab17a" category="list-text">Choisissez *Oracle* pour le type d'application, cliquez sur *Suivant* pour ouvrir la page des détails de l'hôte.</block>
  <block id="60f47e40ed33ae9173f55c6989715b7b" category="paragraph"><block ref="60f47e40ed33ae9173f55c6989715b7b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c26490521d58cef4fc131db2e81a94e" category="list-text">Sélectionnez *Utilisation de SSH* et fournissez les détails de la machine virtuelle Oracle Azure tels que *l'adresse IP*, *le connecteur*, *le nom d'utilisateur* de gestion de la machine virtuelle Azure tel que azureuser.  Cliquez sur *Ajouter une clé privée SSH* pour coller la paire de clés SSH que vous avez utilisée pour déployer la machine virtuelle Oracle Azure.  Vous serez également invité à confirmer l’empreinte digitale.</block>
  <block id="8a07233d0a8be5be1fa13beccf60ffe1" category="paragraph"><block ref="9b0ba5823ee0aeeaf801e979ce4d658e" category="inline-image-macro-rx" type="image"></block> <block ref="13cec39c1b2eb365dfe8f40ad64fd59a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c6e130fb96d37b0095d24d5358f21e4b" category="list-text">Passez à la page *Configuration* suivante pour configurer l’accès sudoer sur la machine virtuelle Oracle Azure.</block>
  <block id="1acf04c446da45b9c3273f92182f5326" category="paragraph"><block ref="1acf04c446da45b9c3273f92182f5326" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ee8d75911c779ac7019740198b8f107" category="list-text">Consultez et cliquez sur *Découvrir les applications* pour installer un plugin sur la machine virtuelle Oracle Azure et découvrir la base de données Oracle sur la machine virtuelle en une seule étape.</block>
  <block id="8cf270f4ac64dcac2646ed937d147733" category="paragraph"><block ref="8cf270f4ac64dcac2646ed937d147733" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e32c1f544cd9b2d6fdfd7c81e67e8d4" category="list-text">Les bases de données Oracle découvertes sur la machine virtuelle Azure sont ajoutées à *Applications*, et la page *Applications* répertorie le nombre d’hôtes et de bases de données Oracle dans l’environnement.  La base de données *État de protection* s'affiche initialement comme *Non protégé*.</block>
  <block id="f4e3bfdca62706ac2612870e2962a7d6" category="paragraph"><block ref="f4e3bfdca62706ac2612870e2962a7d6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9958dec2bab238d2e917ab477e6687a5" category="paragraph">Ceci termine la configuration initiale des services SnapCenter pour Oracle.  Les trois sections suivantes de ce document décrivent les opérations de sauvegarde, de restauration et de clonage de la base de données Oracle.</block>
  <block id="7f7c0dda9cb78e17432e91abc3c9a290" category="section-title">Sauvegarde de la base de données Oracle</block>
  <block id="91992eeb76f243096a177a51576aa930" category="list-text">Notre base de données Oracle de test dans Azure VM est configurée avec trois volumes avec un stockage total agrégé d'environ 1,6 Tio.  Cela donne un contexte sur le calendrier de sauvegarde, de restauration et de clonage d'une base de données de cette taille.</block>
  <block id="5a3f2aba9cdc20567fc4f7d91f0f39d2" category="list-text">Pour protéger la base de données, cliquez sur les trois points à côté de l'état de protection de la base de données, puis cliquez sur *Attribuer une stratégie* pour afficher les stratégies de protection de base de données préchargées ou définies par l'utilisateur par défaut qui peuvent être appliquées à vos bases de données Oracle.  Sous *Paramètres* - *Politiques*, vous avez la possibilité de créer votre propre politique avec une fréquence de sauvegarde personnalisée et une fenêtre de conservation des données de sauvegarde.</block>
  <block id="a668fbeb3ee9def0beed3023a4342c96" category="paragraph"><block ref="a668fbeb3ee9def0beed3023a4342c96" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b87d60fc36851d813026dccde8a103ae" category="list-text">Lorsque vous êtes satisfait de la configuration de la politique, vous pouvez ensuite *Attribuer* la politique de votre choix pour protéger la base de données.</block>
  <block id="5b29983ad2edf0e4bd8b244c2718b53f" category="paragraph"><block ref="5b29983ad2edf0e4bd8b244c2718b53f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31db12a4d1827bab87af3a7cf14c8c46" category="list-text">Une fois la politique appliquée, l'état de protection de la base de données est passé à *Protégé* avec une coche verte.  BlueXP exécute la sauvegarde instantanée selon la planification définie.  De plus, la *sauvegarde à la demande* est disponible à partir du menu déroulant à trois points comme indiqué ci-dessous.</block>
  <block id="c25906d6ebf774f077637de8e2739961" category="paragraph"><block ref="c25906d6ebf774f077637de8e2739961" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b344283baf9e89aa98e1a9aa97568974" category="list-text">Depuis l'onglet *Surveillance des tâches*, les détails des tâches de sauvegarde peuvent être affichés.  Nos résultats de test ont montré qu'il fallait environ 4 minutes pour sauvegarder une base de données Oracle d'environ 1,6 Tio.</block>
  <block id="955ede1fc6cbf43ce42d718c394d67a6" category="paragraph"><block ref="955ede1fc6cbf43ce42d718c394d67a6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99abbb4565ab40d4f0845ba2bb23b66e" category="list-text">À partir du menu déroulant à trois points *Afficher les détails*, vous pouvez afficher les jeux de sauvegarde créés à partir de la sauvegarde instantanée.</block>
  <block id="cb210f231abf4b4bf7e77156c6d9af06" category="paragraph"><block ref="cb210f231abf4b4bf7e77156c6d9af06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c00d75f1dfb37464bcc7247839c2b868" category="list-text">Les détails de sauvegarde de la base de données incluent le *Nom de la sauvegarde*, le *Type de sauvegarde*, le *SCN*, le *Catalogue RMAN* et l'*Heure de sauvegarde*.  Un ensemble de sauvegarde contient des instantanés cohérents avec l'application pour le volume de données et le volume de journal respectivement.  Un instantané du volume de journal a lieu juste après un instantané du volume de données de base de données.  Vous pouvez appliquer un filtre si vous recherchez une sauvegarde particulière dans la liste de sauvegarde.</block>
  <block id="df2e437a1565f3512ccc0e3132f5f98a" category="paragraph"><block ref="df2e437a1565f3512ccc0e3132f5f98a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8fd0ba63e6574c7326fb2e810b4537e0" category="section-title">Restauration et récupération de bases de données Oracle</block>
  <block id="da619d6941ecdd2c7e548d9654a841ef" category="list-text">Pour restaurer une base de données, cliquez sur le menu déroulant à trois points correspondant à la base de données particulière à restaurer dans *Applications*, puis cliquez sur *Restaurer* pour lancer le flux de travail de restauration et de récupération de la base de données.</block>
  <block id="eca636f2206f98ef29538e7f3b06e1d6" category="paragraph"><block ref="eca636f2206f98ef29538e7f3b06e1d6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7a6466f8754f254181618465d6d07095" category="list-text">Choisissez votre *Point de restauration* par horodatage.  Chaque horodatage de la liste représente un ensemble de sauvegarde de base de données disponible.</block>
  <block id="263de3e09efd5458da895268dcfe76a5" category="paragraph"><block ref="263de3e09efd5458da895268dcfe76a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8bc1a0adc65e8e1943672063a060cff" category="list-text">Choisissez votre *emplacement de restauration* vers *l'emplacement d'origine* pour une restauration et une récupération de base de données Oracle sur place.</block>
  <block id="e0c6ed935f81f3da2748f0152eb3f771" category="paragraph"><block ref="e0c6ed935f81f3da2748f0152eb3f771" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2ac50fae413c6d5e5094eae408e73538" category="list-text">Définissez votre *étendue de restauration* et votre *étendue de récupération*.  Tous les journaux signifient une récupération complète à jour, y compris les journaux actuels.</block>
  <block id="b82a2c64293a9f980e828f7f75d47c22" category="paragraph"><block ref="b82a2c64293a9f980e828f7f75d47c22" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8ac2cb8dff52fa25ab3c4179d23af060" category="list-text">Révisez et *Restaurez* pour démarrer la restauration et la récupération de la base de données.</block>
  <block id="c44963e6d282a11303fe43325b58cc36" category="paragraph"><block ref="c44963e6d282a11303fe43325b58cc36" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93c57cdfffd8f5678e2781396b8052ee" category="list-text">À partir de l'onglet *Surveillance des tâches*, nous avons observé qu'il fallait 2 minutes pour exécuter une restauration et une récupération complètes de la base de données à jour.</block>
  <block id="c4c7ae5c5def1bdf078062bbebc8d763" category="paragraph"><block ref="c4c7ae5c5def1bdf078062bbebc8d763" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9dc2f50af584776a2ecc51a0ebcdded2" category="section-title">Clonage de base de données Oracle</block>
  <block id="10f67c792b4c3a171ec4459316640f04" category="paragraph">Les procédures de clonage de base de données sont similaires à la restauration, mais vers une machine virtuelle Azure alternative avec une pile logicielle Oracle identique préinstallée et configurée.</block>
  <block id="0a726ae819aa445c83a06d6c6b45248d" category="admonition">Assurez-vous que votre stockage Azure NetApp File dispose d’une capacité suffisante pour une base de données clonée de la même taille que la base de données principale à cloner.  La machine virtuelle Azure alternative a été ajoutée à *Applications*.</block>
  <block id="78984c1b4316df6a6010d6cb1420883b" category="list-text">Cliquez sur le menu déroulant à trois points correspondant à la base de données particulière à cloner dans *Applications*, puis cliquez sur *Restaurer* pour lancer le flux de travail de clonage.</block>
  <block id="65caff5ab87f1c10a087061e4939f8b9" category="paragraph"><block ref="65caff5ab87f1c10a087061e4939f8b9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c81741abd46b5657b1b137ad6b08c60d" category="list-text">Sélectionnez le *Point de restauration* et cochez la case *Restaurer vers un autre emplacement*.</block>
  <block id="a0841efea10f00b9bbc3f509848fae54" category="paragraph"><block ref="a0841efea10f00b9bbc3f509848fae54" category="inline-image-macro-rx" type="image"></block></block>
  <block id="821f3d32c228cdb4c83894cf7f22f5bc" category="list-text">Dans la page *Configuration* suivante, définissez l'*Hôte* alternatif, le nouveau *SID* de base de données et *Oracle Home* comme configurés sur la machine virtuelle Azure alternative.</block>
  <block id="f58306559405e420a708a23c68e3404a" category="paragraph"><block ref="f58306559405e420a708a23c68e3404a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76241d79c5d5f01636b403e2ed5ec804" category="list-text">La page *Général* affiche les détails de la base de données clonée tels que le SID, l'hôte alternatif, les emplacements des fichiers de données, la portée de récupération, etc.</block>
  <block id="919457baf5bc69e697038268ff748687" category="paragraph"><block ref="919457baf5bc69e697038268ff748687" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43b6971c27d0d503f52ec88935ec1382" category="list-text">La page *Paramètres de la base de données* affiche les détails de la configuration de la base de données clonée ainsi que certains paramètres de la base de données.</block>
  <block id="265af2d53b98a4c429f58239ed335d01" category="paragraph"><block ref="265af2d53b98a4c429f58239ed335d01" category="inline-image-macro-rx" type="image"></block></block>
  <block id="62dc32438ca73d555756784b39f074d2" category="list-text">Surveillez l'état du travail de clonage à partir de l'onglet *Surveillance des travaux*, nous avons observé qu'il fallait 8 minutes pour cloner une base de données Oracle de 1,6 Tio.</block>
  <block id="ee4b933cf91fbaaac40195ecc0d8a4ac" category="paragraph"><block ref="ee4b933cf91fbaaac40195ecc0d8a4ac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d3c33cefae6ca0544ea18f72546fa955" category="list-text">Validez la base de données clonée dans la page *Applications* de BlueXP qui a montré que la base de données clonée a été immédiatement enregistrée auprès de BlueXP.</block>
  <block id="1189e171398f74969e379450b83800f8" category="paragraph"><block ref="1189e171398f74969e379450b83800f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c63639ec48ac9f3ed5e3bd19cb501647" category="list-text">Validez la base de données clonée sur la machine virtuelle Oracle Azure qui a montré que la base de données clonée fonctionnait comme prévu.</block>
  <block id="75ead5c1986187bca2c28b0d7c9c99e8" category="paragraph"><block ref="75ead5c1986187bca2c28b0d7c9c99e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc555bae6dace1d6d3b409d213670af3" category="paragraph">Ceci termine la démonstration d’une sauvegarde, d’une restauration et d’un clonage de base de données Oracle dans Azure avec la console NetApp BlueXP à l’aide de SnapCenter Service.</block>
  <block id="0f68b904e33d9ac04605aecc958bcf52" category="section-title">Informations Complémentaires</block>
  <block id="f12aeeed0f164c86af69a57fddb01689" category="list-text">Configurer et administrer BlueXP</block>
  <block id="74e12c8bec754bf4a9feb44c8cada2dc" category="inline-link-macro"><block ref="74e12c8bec754bf4a9feb44c8cada2dc" category="inline-link-rx"></block></block>
  <block id="7656afc87b0bcecbad9c778ab6b4a2a5" category="paragraph"><block ref="7656afc87b0bcecbad9c778ab6b4a2a5" category="inline-link-macro-rx"></block></block>
  <block id="c756b6b1ba6b752239a8d49eda5ad2a4" category="list-text">Documentation de BlueXP backup and recovery</block>
  <block id="ed133d2d4bade971a41aae35897a0bd2" category="inline-link-macro"><block ref="ed133d2d4bade971a41aae35897a0bd2" category="inline-link-rx"></block></block>
  <block id="21af149e524c5f7a8eb5e23197309e60" category="paragraph"><block ref="21af149e524c5f7a8eb5e23197309e60" category="inline-link-macro-rx"></block></block>
  <block id="27e1212a42107cfc0301ede49e34c2b6" category="list-text">Démarrer avec Azure</block>
  <block id="1835dca082bed53483a7a062cc1bc8d0" category="inline-link-macro"><block ref="1835dca082bed53483a7a062cc1bc8d0" category="inline-link-rx"></block></block>
  <block id="a35f1c37303f15b458dc1914b868ff3f" category="paragraph"><block ref="a35f1c37303f15b458dc1914b868ff3f" category="inline-link-macro-rx"></block></block>
  <block id="200ceef64376fb4963e417594c2660f0" category="summary">La solution fournit un aperçu et des détails sur la sauvegarde, la restauration et le clonage de la base de données Oracle à l'aide de NetApp SnapCenter SaaS à l'aide de la console BlueXP dans le cloud Azure.</block>
  <block id="698740e9ee6a7bf04119b53400b8b9a7" category="doc">TR-4964 : Sauvegarde, restauration et clonage de bases de données Oracle avec SnapCenter Services – AWS</block>
  <block id="3bc3588fd9f44812f3a183ebc0fe8242" category="paragraph">Cette solution fournit un aperçu et des détails sur la sauvegarde, la restauration et le clonage de la base de données Oracle à l'aide de NetApp SnapCenter SaaS à l'aide de la console BlueXP dans le cloud Azure.</block>
  <block id="8ae5c33b293249b4befae60cdc1d6364" category="paragraph">SnapCenter Services est la version SaaS de l'outil d'interface utilisateur de gestion de base de données SnapCenter classique disponible via la console de gestion cloud NetApp BlueXP .  Il fait partie intégrante de l'offre de sauvegarde et de protection des données dans le cloud NetApp pour les bases de données telles qu'Oracle et HANA exécutées sur le stockage cloud NetApp .  Ce service basé sur SaaS simplifie le déploiement traditionnel du serveur autonome SnapCenter qui nécessite généralement un serveur Windows fonctionnant dans un environnement de domaine Windows.</block>
  <block id="9f870916f2c5933d14c66deba672bb8f" category="paragraph">Dans cette documentation, nous montrons comment configurer les services SnapCenter pour sauvegarder, restaurer et cloner des bases de données Oracle déployées sur des instances de stockage Amazon FSx ONTAP et de calcul EC2.  Bien qu'il soit beaucoup plus facile à configurer et à utiliser, les services SnapCenter offrent des fonctionnalités clés disponibles dans l'ancien outil d'interface utilisateur SnapCenter .</block>
  <block id="875a52f58bb1105b34b61cb5f82ec4cb" category="list-text">Sauvegarde de base de données avec instantanés pour les bases de données Oracle hébergées dans Amazon FSx ONTAP</block>
  <block id="6f2d8b46ec98e47be22d4747b82a02d2" category="list-text">Clonage rapide et efficace en termes de stockage de bases de données primaires pour un environnement de développement/test ou d'autres cas d'utilisation</block>
  <block id="e9675bd3e469e8f65c5972247bd04a0e" category="list-text">L'administrateur de base de données qui gère les bases de données Oracle exécutées sur le stockage Amazon FSx ONTAP</block>
  <block id="d6e066caa1ab2a9ead96779ac0a95670" category="list-text">L'architecte de solutions qui souhaite tester la sauvegarde, la restauration et le clonage de bases de données Oracle dans le cloud public AWS</block>
  <block id="5c5e736f226bc0963f1984c02bd59f33" category="list-text">L'administrateur de stockage qui prend en charge et gère le stockage Amazon FSx ONTAP</block>
  <block id="d10cce9398d656c266c4ffedee4b085b" category="list-text">Le propriétaire de l'application qui possède les applications déployées sur le stockage Amazon FSx ONTAP</block>
  <block id="2eeab2fbb902fda77febfa45cdf75deb" category="paragraph"><block ref="2eeab2fbb902fda77febfa45cdf75deb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f4cd1b0523380b825fa78ec70975a14" category="cell">Deux instances EC2 T2 xlarge EC2, une comme serveur de base de données principal et l'autre comme serveur de base de données clone</block>
  <block id="86fae68c14c723bf36942c2c83e8a847" category="list-text">*Connecteur à déployer dans le même VPC que la base de données et FSx.*  Lorsque cela est possible, le connecteur doit être déployé dans le même VPC AWS, ce qui permet la connectivité au stockage FSx et à l'instance de calcul EC2.</block>
  <block id="56427e5f1c1f5700ead6c9a9bce7060b" category="list-text">*Une politique AWS IAM créée pour le connecteur SnapCenter .*  La politique au format JSON est disponible dans la documentation détaillée du service SnapCenter .  Lorsque vous lancez le déploiement du connecteur avec la console BlueXP , vous êtes également invité à configurer les conditions préalables avec les détails de l'autorisation requise au format JSON.  La politique doit être attribuée au compte utilisateur AWS propriétaire du connecteur.</block>
  <block id="0c28eaf31a69bb7791a4813ad2b0bcad" category="list-text">*La clé d'accès au compte AWS et la paire de clés SSH créées dans le compte AWS.*  La paire de clés SSH est attribuée à l'utilisateur ec2 pour se connecter à l'hôte du connecteur, puis déployer un plug-in de base de données sur l'hôte du serveur de base de données EC2.  La clé d'accès accorde l'autorisation de provisionner le connecteur requis avec la politique IAM ci-dessus.</block>
  <block id="5860dbd315496353b9c33ed1628c8d92" category="list-text">*Un identifiant ajouté au paramètre de la console BlueXP .*  Pour ajouter Amazon FSx ONTAP à l'environnement de travail BlueXP , une information d'identification qui accorde à BlueXP des autorisations pour accéder à Amazon FSx ONTAP est configurée dans les paramètres de la console BlueXP .</block>
  <block id="74a16f5a2cb515e5359c279dfe53d615" category="list-text">*java-11-openjdk installé sur l'hôte de l'instance de base de données EC2.*  L'installation du service SnapCenter nécessite la version 11 de Java.  Il doit être installé sur l'hôte de l'application avant la tentative de déploiement du plugin.</block>
  <block id="5c19db900874c5ab0cd22f4e4081f831" category="paragraph">Il existe une documentation NetApp complète avec une portée plus large pour vous aider à protéger vos données d'application cloud natives.  L'objectif de cette documentation est de fournir des procédures étape par étape qui couvrent le déploiement du service SnapCenter avec la console BlueXP pour protéger votre base de données Oracle déployée sur Amazon FSx ONTAP et une instance de calcul EC2.  Ce document complète certains détails qui pourraient manquer dans des instructions plus générales.</block>
  <block id="4a83f58d14ab15e985eab2f73d26659f" category="list-text">Lire les instructions générales<block ref="4a82485e6c558a94a8e73b73116d1bce" category="inline-link-macro-rx"></block> et les sections liées à Oracle et Amazon FSx ONTAP.</block>
  <block id="f2f7f5c9af8a75d22b9aca95d23faad9" category="list-text">Regardez la présentation vidéo suivante.</block>
  <block id="dd1d4adbfe73c3cd87fc248a003b05a0" category="video-title">Déploiement de la solution</block>
  <block id="ee260886ab2b6b27905543032620ac6f" category="list-text">Un serveur de base de données Oracle principal sur une instance EC2 avec une base de données Oracle entièrement déployée et en cours d'exécution.</block>
  <block id="5d946d3b37cf4bbc657e5762bfd2491e" category="list-text">Un cluster Amazon FSx ONTAP déployé dans AWS qui héberge les volumes de base de données ci-dessus.</block>
  <block id="d15621373250f7778b58f1a57646d590" category="list-text">Un serveur de base de données facultatif sur une instance EC2 qui peut être utilisé pour tester le clonage d'une base de données Oracle sur un hôte alternatif dans le but de prendre en charge une charge de travail de développement/test ou tout cas d'utilisation nécessitant un ensemble de données complet d'une base de données Oracle de production.</block>
  <block id="db579bb3e1bf17d7e586850eefed39bb" category="list-text">Si vous avez besoin d'aide pour répondre aux conditions préalables ci-dessus pour le déploiement de la base de données Oracle sur l'instance de calcul Amazon FSx ONTAP et EC2, consultez<block ref="9fe0964775d4e89b8fa0000697106e28" category="inline-link-macro-rx"></block> ou livre blanc<block ref="e448c29edca53d71511282e59019cb95" category="inline-link-macro-rx"></block></block>
  <block id="905649aa82828b72c7609e32261b6541" category="list-text">Connectez-vous à votre compte AWS pour créer une politique IAM avec les autorisations appropriées et attribuez la politique au compte AWS qui sera utilisé pour le déploiement du connecteur BlueXP .</block>
  <block id="9e2d2c1f725377dfd47bb10a092edb06" category="paragraph"><block ref="9e2d2c1f725377dfd47bb10a092edb06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2f43b4d90aacd2dff66dbba89df8d3e8" category="paragraph">La politique doit être configurée avec une chaîne JSON disponible dans la documentation NetApp .  La chaîne JSON peut également être récupérée à partir de la page lorsque le provisionnement du connecteur est lancé et que vous êtes invité à attribuer les autorisations préalables.</block>
  <block id="8a93a46df85bf33efa5d5200b6c4ce06" category="list-text">Vous avez également besoin du VPC AWS, du sous-réseau, du groupe de sécurité, d'une clé d'accès et de secrets de compte utilisateur AWS, d'une clé SSH pour ec2-user, etc., prêts pour le provisionnement du connecteur.</block>
  <block id="04592f11c82d99f55bd84f8036b45389" category="list-text">Connectez-vous à la console BlueXP .  Pour un compte partagé, il est recommandé de créer un espace de travail individuel en cliquant sur *Compte* &gt; *Gérer le compte* &gt; *Espace de travail* pour ajouter un nouvel espace de travail.</block>
  <block id="9c817d87ae36c552433df25f369d56f6" category="paragraph"><block ref="9c817d87ae36c552433df25f369d56f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c47cec29fcf0d8e782f2c91ad12914b4" category="list-text">Cliquez sur *Ajouter un connecteur* pour lancer le workflow de provisionnement du connecteur.</block>
  <block id="91a013de6f075ef92c9d4ce3606f454c" category="paragraph"><block ref="91a013de6f075ef92c9d4ce3606f454c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bb78288dc7f5beb506e79a3af8041de" category="list-text">Choisissez votre fournisseur cloud (dans ce cas, *Amazon Web Services*).</block>
  <block id="9e6221a639f56c05f62c9ded99dabc50" category="paragraph"><block ref="9e6221a639f56c05f62c9ded99dabc50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="06a5177c61e31798acfdd25d766ef121" category="list-text">Ignorez les étapes *Autorisation*, *Authentification* et *Mise en réseau* si vous les avez déjà configurées dans votre compte AWS.  Sinon, vous devez les configurer avant de continuer.  À partir de là, vous pouvez également récupérer les autorisations pour la politique AWS référencée dans la section précédente "<block ref="2204dd011c923b13eaa19e758c798231" category="inline-xref-macro-rx"></block> ."</block>
  <block id="144a7bf6e4b78ed80ccc5310a3175b96" category="paragraph"><block ref="144a7bf6e4b78ed80ccc5310a3175b96" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dfaeef102040345b1180ea94f2b0c2ff" category="list-text">Saisissez l'authentification de votre compte AWS avec *Clé d'accès* et *Clé secrète*.</block>
  <block id="dd50e3a02dab7e3acd66b5bdd87bcf06" category="paragraph"><block ref="dd50e3a02dab7e3acd66b5bdd87bcf06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="712e596a90ac38ed31c6d4d55347a559" category="list-text">Nommez l'instance du connecteur et sélectionnez *Créer un rôle* sous *Détails*.</block>
  <block id="7f944bfe70957d841a98d0bfef5ae8b8" category="paragraph"><block ref="7f944bfe70957d841a98d0bfef5ae8b8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8f366d09f3fd92a0239f6862ee9d35e" category="list-text">Configurez la mise en réseau avec la paire de clés *VPC*, *Sous-réseau* et SSH appropriée pour l'accès au connecteur.</block>
  <block id="132addd04cd3d0a22460fe2d8b46b04d" category="paragraph"><block ref="132addd04cd3d0a22460fe2d8b46b04d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e132860f3a8d1cbe124a67c4b5d67cc" category="list-text">Définissez le *Groupe de sécurité* pour le connecteur.</block>
  <block id="12c98e3f9c1fc15bdba478eaa446f222" category="paragraph"><block ref="12c98e3f9c1fc15bdba478eaa446f222" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f067570884442aa68da666583a8530cc" category="list-text">Consultez la page récapitulative et cliquez sur *Ajouter* pour démarrer la création du connecteur.  Le déploiement prend généralement environ 10 minutes.  Une fois terminée, l’instance du connecteur apparaît dans le tableau de bord AWS EC2.</block>
  <block id="3a5d3a8eac6b7d7f10fa64c6ed905670" category="paragraph"><block ref="3a5d3a8eac6b7d7f10fa64c6ed905670" category="inline-image-macro-rx" type="image"></block></block>
  <block id="74be0e1339ee168e43642c78894f516c" category="section-title">Définir des informations d'identification dans BlueXP pour l'accès aux ressources AWS</block>
  <block id="e0d8224cb04f8209c7dd255259abe722" category="list-text">Tout d’abord, à partir de la console AWS EC2, créez un rôle dans le menu *Identity and Access Management (IAM)* *Rôles*, *Créer un rôle* pour démarrer le flux de travail de création de rôle.</block>
  <block id="ac27945c5043bbc256b7076402d94d9c" category="paragraph"><block ref="ac27945c5043bbc256b7076402d94d9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3f70a9b0bcfff938be5c9b967baac38" category="list-text">Dans la page *Sélectionner une entité de confiance*, choisissez *Compte AWS*, *Un autre compte AWS* et collez l'ID de compte BlueXP , qui peut être récupéré à partir de la console BlueXP .</block>
  <block id="f8a5067f11fb586f430e190923856331" category="paragraph"><block ref="f8a5067f11fb586f430e190923856331" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c29f350fe0ef034c8595e5a9732939b3" category="list-text">Filtrez les politiques d'autorisation par fsx et ajoutez des *politiques d'autorisation* au rôle.</block>
  <block id="e892d792775a223804619e2ccefd0982" category="paragraph"><block ref="e892d792775a223804619e2ccefd0982" category="inline-image-macro-rx" type="image"></block></block>
  <block id="61a7a81a82f0f1d0520b066c19c3e2a1" category="list-text">Dans la page *Détails du rôle*, nommez le rôle, ajoutez une description, puis cliquez sur *Créer un rôle*.</block>
  <block id="ce048ed468da61c10cabb548207df10e" category="paragraph"><block ref="ce048ed468da61c10cabb548207df10e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="21b7150d8525df111105dbb7e805e729" category="list-text">De retour à la console BlueXP , cliquez sur l'icône de configuration dans le coin supérieur droit de la console pour ouvrir la page *Informations d'identification du compte*, cliquez sur *Ajouter des informations d'identification* pour démarrer le flux de travail de configuration des informations d'identification.</block>
  <block id="a134163a058f0d807e081a99b22dd935" category="paragraph"><block ref="a134163a058f0d807e081a99b22dd935" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e555a0fd2fff62a47775a52b4b58f3b1" category="list-text">Choisissez l'emplacement des informations d'identification comme - *Amazon Web Services - BlueXP*.</block>
  <block id="febd09224960038dd84e9ebf92486500" category="paragraph"><block ref="febd09224960038dd84e9ebf92486500" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2dc9db68323ce54999aefadc7fa6b9bf" category="list-text">Définissez les informations d'identification AWS avec le *Role ARN* approprié, qui peut être récupéré à partir du rôle AWS IAM créé à l'étape 1 ci-dessus.  BlueXP *ID de compte*, qui est utilisé pour créer le rôle AWS IAM à la première étape.</block>
  <block id="42aa1d8d21329fe959f7f8de75f142a0" category="paragraph"><block ref="42aa1d8d21329fe959f7f8de75f142a0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="712abba9fa690a0bcf8c85fa106d80c5" category="list-text">Réviser et *Ajouter*.<block ref="2cbed4ca8b8c1538ee78b3a4aae794da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4f3b4caea09bcee5fb52b1e6e4756a63" category="paragraph">Une fois le connecteur déployé et les informations d’identification ajoutées, les services SnapCenter peuvent désormais être configurés avec la procédure suivante :</block>
  <block id="3ecf7d7cbb172543fe0f740496cfb9b0" category="list-text">Depuis *Mon environnement de travail*, cliquez sur *Ajouter un environnement de travail* pour découvrir FSx déployé dans AWS.</block>
  <block id="f49134cf37d9c85295178385c83794e0" category="paragraph"><block ref="f49134cf37d9c85295178385c83794e0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4daeb16c1a9b1a0d173181068ef06541" category="list-text">Choisissez *Amazon Web Services* comme emplacement.</block>
  <block id="6986de4b1e4a1fa939faedf4a6b0ea17" category="paragraph"><block ref="6986de4b1e4a1fa939faedf4a6b0ea17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bb51de833ca03a249f4885fe70ba6225" category="list-text">Cliquez sur *Découvrir l'existant* à côté de * Amazon FSx ONTAP*.</block>
  <block id="b2a9ca88eea55298331d961c3ccc121e" category="paragraph"><block ref="b2a9ca88eea55298331d961c3ccc121e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6786db8c7bf41a3b431dcdbe1f49520" category="list-text">Sélectionnez le *Nom des informations d'identification* que vous avez créé dans la section précédente pour accorder à BlueXP les autorisations dont il a besoin pour gérer FSx ONTAP.  Si vous n'avez pas ajouté d'informations d'identification, vous pouvez les ajouter à partir du menu *Paramètres* dans le coin supérieur droit de la console BlueXP .</block>
  <block id="55ada501711ea95913a857d1ea85fc5c" category="paragraph"><block ref="55ada501711ea95913a857d1ea85fc5c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a01598f0f6397c112b45ac564bf14137" category="list-text">Choisissez la région AWS dans laquelle Amazon FSx ONTAP est déployé, sélectionnez le cluster FSx qui héberge la base de données Oracle et cliquez sur Ajouter.</block>
  <block id="0cda79b1b9779defaa9601607b81fc64" category="paragraph"><block ref="0cda79b1b9779defaa9601607b81fc64" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31407a3229acfa74059052991d399f9d" category="list-text">L'instance Amazon FSx ONTAP découverte apparaît désormais dans l'environnement de travail.</block>
  <block id="d018c4412fae6d277b3d7669a002023b" category="paragraph"><block ref="d018c4412fae6d277b3d7669a002023b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5abed4635dac308091151770538f31f6" category="list-text">Vous pouvez vous connecter au cluster FSx avec les informations d'identification de votre compte fsxadmin.</block>
  <block id="52508b4c18f0dca1b061d364ee571624" category="paragraph"><block ref="52508b4c18f0dca1b061d364ee571624" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b5627a020a262be5583e9e9a66bc4592" category="list-text">Après vous être connecté à Amazon FSx ONTAP, vérifiez les informations de stockage de votre base de données (telles que les volumes de base de données).</block>
  <block id="eaafc606281ab05ed5d9eb6835cf017e" category="paragraph"><block ref="eaafc606281ab05ed5d9eb6835cf017e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d66cf0e6cdb8abb33e7b0167faf0c6b2" category="paragraph"><block ref="d66cf0e6cdb8abb33e7b0167faf0c6b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d731a7d9a334af8231f2950894841f9" category="paragraph"><block ref="8d731a7d9a334af8231f2950894841f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bfcedcc06ce70b69b0c25371a7b68359" category="list-text">Choisissez *Oracle* comme type d’application.</block>
  <block id="a2e181caa9c8b77b7e8d7522f6e15d45" category="paragraph"><block ref="a2e181caa9c8b77b7e8d7522f6e15d45" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c6ce8aeb69282423f1e8709e9bece6ce" category="list-text">Remplissez les détails de l’hôte de l’application Oracle AWS EC2.  Choisissez *Utilisation de SSH* comme *Type d'installation de l'hôte* pour l'installation du plug-in en une étape et la découverte de la base de données.  Ensuite, cliquez sur *Ajouter une clé privée SSH*.</block>
  <block id="60aced922f1d4dc5629cfb12b5d45914" category="paragraph"><block ref="60aced922f1d4dc5629cfb12b5d45914" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ea41a89df50cac84ab851e6f7730c00d" category="list-text">Collez votre clé SSH ec2-user pour l'hôte EC2 de la base de données et cliquez sur *Valider* pour continuer.</block>
  <block id="cdda006d85b762021def263d2bee3f9b" category="paragraph"><block ref="cdda006d85b762021def263d2bee3f9b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a70359387fcaa0512296895fb4f6a4ae" category="list-text">Vous serez invité à *Valider l'empreinte digitale* pour continuer.</block>
  <block id="71a3a4aab456d55189f44d0816ebb0ac" category="paragraph"><block ref="71a3a4aab456d55189f44d0816ebb0ac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="032b4254e4889aa8b7e197feb31cbc5a" category="list-text">Cliquez sur *Suivant* pour installer un plugin de base de données Oracle et découvrir les bases de données Oracle sur l'hôte EC2.  Les bases de données découvertes sont ajoutées aux *Applications*.  La base de données *État de protection* s'affiche comme *Non protégée* lors de sa découverte initiale.</block>
  <block id="9ba7a868bfbcd5f0cbd87bedd4cd9518" category="paragraph"><block ref="9ba7a868bfbcd5f0cbd87bedd4cd9518" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d243d925299e4128a453e9d54b57e25d" category="list-text">Cliquez sur les trois points à côté de l'état de protection de la base de données, puis cliquez sur *Stratégies* pour afficher les stratégies de protection de base de données préchargées par défaut qui peuvent être appliquées pour protéger vos bases de données Oracle.</block>
  <block id="a8f47f1d8b77e6a181edf1a736649f50" category="paragraph"><block ref="a8f47f1d8b77e6a181edf1a736649f50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5b95d24dbc11f9b34c6cf18b07dcf3f7" category="list-text">Vous pouvez également créer votre propre politique avec une fréquence de sauvegarde personnalisée et une fenêtre de conservation des données de sauvegarde.</block>
  <block id="155791e775944a613a29e1f3ce070b11" category="paragraph"><block ref="155791e775944a613a29e1f3ce070b11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44fa14fc437558bfdfce0d0ac643d1e2" category="list-text">Lorsque vous êtes satisfait de la configuration de la politique, vous pouvez ensuite attribuer la politique de votre choix pour protéger la base de données.</block>
  <block id="683778b7af98207a0f70928f086f27a7" category="paragraph"><block ref="683778b7af98207a0f70928f086f27a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4861abebdaa3d58ada4e621adac79010" category="list-text">Choisissez la politique à attribuer à la base de données.</block>
  <block id="0e26253868fb22250c13f6fb84dd23b1" category="paragraph"><block ref="0e26253868fb22250c13f6fb84dd23b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da1635fa4036afa9fa39c868740e8560" category="list-text">Une fois la politique appliquée, l'état de protection de la base de données est passé à *Protégé* avec une coche verte.</block>
  <block id="497ec1a307eb39cd1d25a616b5227f3c" category="paragraph"><block ref="497ec1a307eb39cd1d25a616b5227f3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7474327f9583bb0f2aa4aa276aa11e53" category="list-text">La sauvegarde de la base de données s'exécute selon un calendrier prédéfini.  Vous pouvez également exécuter une sauvegarde ponctuelle à la demande comme indiqué ci-dessous.</block>
  <block id="2940056c70a31f5cb7b642861f280bae" category="paragraph"><block ref="2940056c70a31f5cb7b642861f280bae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7ba3fa48656ab6088ca8f9f4c64578f" category="list-text">Les détails des sauvegardes de la base de données peuvent être consultés en cliquant sur *Afficher les détails* dans la liste du menu.  Cela inclut le nom de la sauvegarde, le type de sauvegarde, le SCN et la date de sauvegarde.  Un ensemble de sauvegarde couvre un instantané du volume de données et du volume de journal.  Un instantané du volume de journal a lieu juste après un instantané du volume de base de données.  Vous pouvez appliquer un filtre si vous recherchez une sauvegarde particulière dans une longue liste.</block>
  <block id="a4c193c614b7b601a25b10d44af844f4" category="paragraph"><block ref="a4c193c614b7b601a25b10d44af844f4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d747acf93ee8abac3afd574a32b975fe" category="list-text">Pour une restauration de base de données, choisissez la bonne sauvegarde, soit par le SCN, soit par l'heure de sauvegarde.  Cliquez sur les trois points de la sauvegarde des données de la base de données, puis cliquez sur *Restaurer* pour lancer la restauration et la récupération de la base de données.</block>
  <block id="64af0d7f2b5cd42bdfbe0dafd5de301a" category="paragraph"><block ref="64af0d7f2b5cd42bdfbe0dafd5de301a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4ced09bd050d5fa98df8a41ef04173e0" category="list-text">Choisissez votre paramètre de restauration.  Si vous êtes sûr que rien n'a changé dans la structure physique de la base de données après la sauvegarde (comme l'ajout d'un fichier de données ou d'un groupe de disques), vous pouvez utiliser l'option *Forcer la restauration sur place*, qui est généralement plus rapide.  Sinon, ne cochez pas cette case.</block>
  <block id="393085e74500064736f2084487ad8085" category="paragraph"><block ref="393085e74500064736f2084487ad8085" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d58c0a59c722f81b5e2d0f77ffc4e126" category="list-text">Examinez et démarrez la restauration et la récupération de la base de données.</block>
  <block id="01716ed26147b8c9edc54ca43b870e3d" category="paragraph"><block ref="01716ed26147b8c9edc54ca43b870e3d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e370cf26e04645138a40a3379e743fb7" category="list-text">À partir de l'onglet *Surveillance des tâches*, vous pouvez afficher l'état de la tâche de restauration ainsi que tous les détails pendant son exécution.</block>
  <block id="543c7f1e348fcffb05c8fbb143500608" category="paragraph"><block ref="543c7f1e348fcffb05c8fbb143500608" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4628ff02cd985f6d6a919efa900759ca" category="paragraph"><block ref="4628ff02cd985f6d6a919efa900759ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="35526fc92bd49edc3a11a0affafeae3b" category="paragraph">Pour cloner une base de données, lancez le workflow de clonage à partir de la même page de détails de sauvegarde de la base de données.</block>
  <block id="71f8cd32cfa279d796f673879629f671" category="list-text">Sélectionnez la bonne copie de sauvegarde de la base de données, cliquez sur les trois points pour afficher le menu et choisissez l'option *Cloner*.</block>
  <block id="72cd7574215273a51cc4d60317ce2039" category="paragraph"><block ref="72cd7574215273a51cc4d60317ce2039" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d552bd00a2d8ed3e1872a0f795180b9f" category="list-text">Sélectionnez l'option *Basique* si vous n'avez pas besoin de modifier les paramètres de la base de données clonée.</block>
  <block id="69a9b64c3a2d35a09f8e3def7da68c67" category="paragraph"><block ref="69a9b64c3a2d35a09f8e3def7da68c67" category="inline-image-macro-rx" type="image"></block></block>
  <block id="90b931da49f7db8ce97de89c2b7ea8d5" category="list-text">Vous pouvez également sélectionner *Fichier de spécifications*, ce qui vous donne la possibilité de télécharger le fichier d'initialisation actuel, d'y apporter des modifications, puis de le télécharger à nouveau dans le travail.</block>
  <block id="1874b05f60b78935de303ca836c556a9" category="paragraph"><block ref="1874b05f60b78935de303ca836c556a9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="58b9252d48a9fcf8c03ec68f357e943a" category="list-text">Révisez et lancez le travail.</block>
  <block id="e943133b9f12f3d41661ebcba559e3fb" category="paragraph"><block ref="e943133b9f12f3d41661ebcba559e3fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d388d0f32172ebe7aea2c3eeae0dfc4" category="list-text">Surveillez l’état du travail de clonage à partir de l’onglet *Surveillance des travaux*.</block>
  <block id="683a283d67f46c0f233c8704ff2b8114" category="paragraph"><block ref="683a283d67f46c0f233c8704ff2b8114" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4e0fb0a8b932b4f05d487ea8a5748901" category="list-text">Validez la base de données clonée sur l’hôte de l’instance EC2.</block>
  <block id="c180b587fd0c77ff5aafc3b02fd3c7f3" category="paragraph"><block ref="c180b587fd0c77ff5aafc3b02fd3c7f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bbe91a88c409ff6baf6da643e8e46fd1" category="paragraph"><block ref="bbe91a88c409ff6baf6da643e8e46fd1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5b9082efbf726d2e38c5042668ae4f0" category="doc">TR-4250 : SAP avec Oracle sur UNIX et NFS avec NetApp Clustered Data ONTAP et SnapManager pour SAP 3.4</block>
  <block id="bb8cd3f7aec777de29cee988f4ade068" category="paragraph">Nils Bauer, NetApp</block>
  <block id="ea455e11718ea0bfb200c540f4e0c038" category="paragraph">Le TR-4250 répond aux défis de la conception de solutions de stockage pour prendre en charge les produits de la suite commerciale SAP à l'aide d'une base de données Oracle.  L’objectif principal de ce document est de relever les défis courants en matière de conception, de déploiement, d’exploitation et de gestion de l’infrastructure de stockage auxquels sont confrontés les dirigeants d’entreprise et informatiques qui utilisent la dernière génération de solutions SAP.  Les recommandations de ce document sont génériques ; elles ne sont pas spécifiques à une application SAP ni à la taille et à la portée de l'implémentation SAP.  TR-4250 suppose que le lecteur possède une compréhension de base de la technologie et du fonctionnement des produits NetApp et SAP.  Le TR-4250 a été développé sur la base de l'interaction du personnel technique de NetApp, SAP, Oracle et de nos clients.</block>
  <block id="fb558936249b78a9b426ac6a575ece20" category="paragraph"><block ref="fb558936249b78a9b426ac6a575ece20" category="inline-link-macro-rx"></block></block>
  <block id="6e170e4c0b9eb50546a09aafc90dc157" category="doc">TR-4794 : Bases de données Oracle sur NetApp EF-Series</block>
  <block id="9b6fc59469e9f5ee36cb85b08daacec3" category="paragraph">Mitch Blackburn, Ebin Kadavy, NetApp</block>
  <block id="fa8b4902d0c1e464dcf9256a434920ba" category="paragraph">TR-4794 est destiné à aider les administrateurs de stockage et les administrateurs de base de données à déployer avec succès Oracle sur le stockage NetApp EF-Series.</block>
  <block id="c6f1106d361e6595d08ff6340c004516" category="paragraph"><block ref="c6f1106d361e6595d08ff6340c004516" category="inline-link-macro-rx"></block></block>
  <block id="fe9155886965f88b4bb029103061156b" category="summary">La solution fournit une vue d'ensemble et des détails sur le déploiement et la protection d'Oracle dans VMware Cloud Foundation (VCF) avec vSphere Virtual Volumes (vVols) comme stockage de base de données principal et base de données Oracle dans la configuration Real Application Clusters (RAC).</block>
  <block id="d04e05cc6f5337608b6ccfaae12a4905" category="doc">TR-4997 : Déploiement et protection d'Oracle RAC dans VCF avec vVols</block>
  <block id="ac91541ff82c6ee76b58150eca1250c7" category="paragraph">VMware vSphere Virtual Volumes (vVols) est une infrastructure de gestion et d'intégration SAN/NAS qui expose les disques virtuels en tant qu'objets de stockage natifs et permet des opérations basées sur des baies au niveau du disque virtuel.  En d'autres termes, vVols rend les périphériques SAN/NAS compatibles avec les machines virtuelles et permet d'exploiter les services de données basés sur des baies grâce à une approche centrée sur les machines virtuelles, à la granularité d'un seul disque virtuel. vVols permet aux clients d'exploiter les capacités uniques de leurs investissements de stockage actuels et de passer sans interruption à un modèle opérationnel plus simple et plus efficace, optimisé pour les environnements virtuels fonctionnant sur tous les types de stockage.</block>
  <block id="77cb41e2baadb036dc6e4ed432367f90" category="inline-link-macro">TR-4996</block>
  <block id="98748e5f5bd3294051d902f505cedb3a" category="paragraph">Dans<block ref="a7f49ff11d15a9bd315ad584c8aeb5aa" category="inline-link-macro-rx"></block> , nous avons démontré le déploiement et la protection d'une base de données Oracle à instance unique dans VCF avec vVols.  Cette documentation démontre le déploiement et la protection d'une base de données Oracle RAC dans un environnement VMware Cloud Foundation avec vVols comme stockage de base de données principal dans un cluster de stockage NetApp ONTAP .  La base de données Oracle RAC est configurée comme si elle était déployée dans des systèmes de fichiers locaux sur un système de stockage local.  Ce rapport technique se concentre sur les étapes de création de vVols dans VCF pour le déploiement d'Oracle RAC.  Nous démontrons également le déploiement de la base de données Oracle RAC dans VCF sur vVols avec la boîte à outils d'automatisation NetApp et la protection de la base de données RAC avec l'outil d'interface utilisateur NetApp SnapCenter .</block>
  <block id="f21a9288a8dbb6dc5e01f87371a1796f" category="list-text">Déploiement de la base de données Oracle RAC dans VCF avec la banque de données vVols sur NetApp ONTAP AFF comme stockage de base de données principal</block>
  <block id="eb3a7a665b2ee606d74bf7d4657d5f1e" category="list-text">Sauvegarde et restauration de bases de données Oracle dans VCF avec banque de données vVols à l'aide de l'outil d'interface utilisateur NetApp SnapCenter</block>
  <block id="ba926686ab6ce2f50a39841cb91cf855" category="list-text">Un administrateur de base de données souhaitant déployer Oracle RAC dans VCF avec un datastore vVols sur NetApp ONTAP AFF comme stockage de base de données principal</block>
  <block id="8e1c769a51ea82515d72b8676691e34f" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle RAC dans VCF avec une banque de données vVols sur un stockage NetApp ONTAP AFF</block>
  <block id="f4498db90eae07fa4265e83f899ed7fb" category="list-text">Un administrateur de stockage souhaitant déployer et gérer une base de données Oracle RAC déployée sur VCF avec une banque de données vVols sur un stockage NetApp ONTAP AFF</block>
  <block id="ea94460ea59d1791e128c063e36a3f19" category="list-text">Un propriétaire d'application qui souhaite mettre en place une base de données Oracle RAC dans VCF avec un magasin de données vVol</block>
  <block id="e433a0f4d7802525d03be3ae89b7a1ff" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement de laboratoire dans VCF avec un magasin de données vVols sur un stockage NetApp ONTAP AFF qui pourrait ne pas correspondre à l'environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="b91e86fc606e025f797c89b8aaa36a3c" category="paragraph"><block ref="b91e86fc606e025f797c89b8aaa36a3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ad4ac6db8d9decf0eb775290a8c971cb" category="cell">NetApp ONTAP AFF A300</block>
  <block id="e5de8dc14dd3942120c44d5982b5a825" category="cell">Version 9.14.1P4</block>
  <block id="0d4078e1e13a983e4de55aa01e5ad590" category="cell">Étagère DS224 avec 24 disques NVMe, capacité totale 35,2 Tio</block>
  <block id="92950a7604605975794d500e05f4c7eb" category="cell">Cluster VMware VSphere</block>
  <block id="6e22cffc6ebecbdd7f47bd5d00e45b99" category="cell">Version 8.02</block>
  <block id="bc5d0a2c32203fc25813789555247ee7" category="cell">12 processeurs Intel® Xeon® Gold 5218 à 2,30 GHz, 8 nœuds (4 domaines de gestion et 4 domaines de charge de travail)</block>
  <block id="c6ab07ee1aab16fa0a20d509cdf7b072" category="cell">Hébergement de serveurs Oracle DB, déploiement d'un abonnement RedHat pour les tests</block>
  <block id="8003cafa06ec27e11cb235ec9544ef74" category="cell">Centos Linux</block>
  <block id="ceebe4fc3acd82fd3188cded15f1d864" category="cell">CentOS Linux version 8.5.2111</block>
  <block id="2d33ab49719ed91ddb197340eb32a2db" category="cell">Hébergement du contrôleur Ansible</block>
  <block id="f7dc6582169de1adc76cc1bd4479d98f" category="cell">Version 6.0</block>
  <block id="3390e3575b3e341afa2b7172ff5b33a7" category="cell">SnapCenter Plug-in for VMware vSphere</block>
  <block id="0a8382f1a17329bbc921d30dfa2a2515" category="cell">Déployé en tant que machine virtuelle ova sur un cluster vSphere</block>
  <block id="a75e60f152424197f37afc9c5e9a5c2d" category="cell">Outil ONTAP pour VMware vSphere</block>
  <block id="117158dddb508cb9387d41bfdbfe579b" category="cell">Version 9.13</block>
  <block id="5ce8d13929389b81584b3a78c447b524" category="cell">Version java-11-openjdk-11.0.23.0.9-3.el8.x86_64</block>
  <block id="dd2b4d4faabc0fc80eacfaa74bf5a62d" category="section-title">Configuration de la base de données Oracle RAC dans VCF</block>
  <block id="087c943fce6420f1490d5fc4bb4d400f" category="cell">*Nœud RAC*</block>
  <block id="cdd29859f51951ed5dd9535ccabf7075" category="cell">ora01</block>
  <block id="71f37500421f11ce0f41f795e618b625" category="cell">NTAP(NTAP_pdb1,NTAP_pdb2,NTAP_pdb3)</block>
  <block id="2d100c6ae63b5a20bd943bcf20dc9391" category="cell">Banques de données vVols (VCF_ORA_BINS, VCF_ORA_CRS, VCF_ORA_DAT1, VCF_ORA_DAT2, VCF_ORA_LOGS) sur NetApp ONTAP AFF A300</block>
  <block id="13ea1c308c536ce3317611dcb43ba74f" category="cell">ora02</block>
  <block id="d3d99bd870c856c58acfb8243d399b8b" category="list-text">*Protocole pour la connectivité des vVols au cluster ONTAP .*  NFS ou iSCSI sont de bons choix.  Les niveaux de performance sont équivalents.  Dans cette démonstration de solution, nous avons utilisé iSCSI comme protocole de stockage pour la connectivité vVols au cluster de stockage ONTAP souligné.  Si l'infrastructure VCF prend en charge, les protocoles FC/FCoE et NVMe/FC sont également pris en charge pour les banques de données vVols sur NetApp ONTAP.</block>
  <block id="18531131659005f729763c4bffd5f157" category="list-text">*Disposition du stockage Oracle sur les banques de données vVols .*  Dans nos tests et validations, nous avons déployé cinq banques de données vVols pour les fichiers binaires Oracle, le registre/vote de cluster Oracle, les données Oracle et les fichiers journaux Oracle.  Il est recommandé de séparer les différents types de fichiers Oracle dans leurs propres banques de données afin que la sauvegarde, la récupération ou le clonage de la base de données puissent être facilement gérés et exécutés.  Créez des vVols dédiés pour les grandes bases de données et partagez des vVols pour les bases de données plus petites ou les bases de données avec un profil QoS similaire. </block>
  <block id="406ce3af2ccd70d558c48b5e4f0e9cb5" category="list-text">*Redondance du stockage Oracle.*  Utiliser<block ref="5aaa25223f67673cf29042a34b88e27e" prefix=" " category="inline-code"></block> pour les fichiers de registre/vote de cluster Oracle RAC critiques afin que trois fichiers de vote sur trois groupes de défaillance de disque ASM fournissent une protection de cluster optimale et que le registre de cluster soit mis en miroir parmi les groupes de défaillance de disque ASM.  Utiliser<block ref="1f9ad4982cbae9fb459c61ba4e63bac9" prefix=" " category="inline-code"></block> pour les fichiers binaires, de données et journaux Oracle afin d'optimiser l'utilisation du stockage.  Le ONTAP RAID-DP souligné assure la protection des données lorsque<block ref="1f9ad4982cbae9fb459c61ba4e63bac9" prefix=" " category="inline-code"></block> est employé.</block>
  <block id="3ed99aa53a2f633957eb421708c54e40" category="list-text">*Information d'identification pour l'authentification du stockage ONTAP .*  Utilisez uniquement les informations d'identification au niveau du cluster ONTAP pour l'authentification du cluster de stockage ONTAP , y compris la connectivité SnapCenter au cluster de stockage ONTAP ou la connectivité de l'outil ONTAP au cluster de stockage ONTAP .</block>
  <block id="a6d88ee32eb46635dfd1330ee9c755dd" category="list-text">*Provisionnez le stockage de la banque de données vVols vers la machine virtuelle de base de données.*  Ajoutez un seul disque à la fois à la machine virtuelle de base de données à partir du magasin de données vVols .  L'ajout de plusieurs disques à partir de banques de données vVols en même temps n'est pas pris en charge pour le moment.  </block>
  <block id="d1d4875856254459ea4c9c715e096d52" category="list-text">*Protection de la base de données.*  NetApp fournit une suite SnapCenter software pour la sauvegarde et la restauration de bases de données avec une interface utilisateur conviviale.  NetApp recommande de mettre en œuvre un tel outil de gestion pour obtenir une sauvegarde SnapShot rapide, une restauration et une récupération rapides de la base de données.</block>
  <block id="3a05b8d15001b422dfd704ad762eb5cc" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement de la base de données Oracle 19c dans VCF avec des banques de données vVols sur le stockage NetApp ONTAP dans une configuration Oracle RAC.</block>
  <block id="d9bda8b1c18ddbd2b5915f4d86da5ee6" category="inline-link-macro">Documentation de VMware Cloud Foundation</block>
  <block id="a12fb51e6a26df58be980a0d67dc8ef0" category="list-text">Un VMware VCF a été configuré.  Pour obtenir des informations ou des instructions sur la création d'un VCF, veuillez vous référer à la documentation VMware<block ref="59168b7ce3f6dbe18036b34793095689" category="inline-link-macro-rx"></block> .</block>
  <block id="79ff58877947942c116cf0b6b10c20e0" category="list-text">Provisionnez trois machines virtuelles Linux, deux machines virtuelles pour le cluster de base de données Oracle RAC et une machine virtuelle pour le contrôleur Ansible dans le domaine de charge de travail VCF.  Provisionnez une machine virtuelle de serveur Windows pour exécuter le serveur NetApp SnapCenter .  Pour plus d'informations sur la configuration du contrôleur Ansible pour le déploiement automatisé de la base de données Oracle, reportez-vous aux ressources suivantes<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> .</block>
  <block id="90d497d59ee5d1ed30bf4e510c2643ac" category="list-text">Les machines virtuelles de base de données Oracle RAC doivent avoir provisionné au moins deux interfaces réseau : une pour l'interconnexion privée Oracle RAC et une pour les applications ou le trafic de données publiques.</block>
  <block id="8c3d0c00ea667e3e0723e5cdc6473a09" category="inline-link-macro">Documentation du SnapCenter Plug-in for VMware vSphere</block>
  <block id="abef732dd483cfddd1aaa364ad7fef69" category="list-text">La version 6.0 du plugin SnapCenter pour VMware vSphere a été déployée dans VCF.  Reportez-vous aux ressources suivantes pour le déploiement du plugin :<block ref="b0d40f86037388f17d222087e64d79a3" category="inline-link-macro-rx"></block> .</block>
  <block id="26ffc687a7267f96a389530199971cd1" category="inline-link-macro">Documentation des ONTAP tools for VMware vSphere</block>
  <block id="70f233bf52a3a33941dc2ecd693f03ae" category="list-text">L'outil ONTAP pour VMware vSphere a été déployé dans VCF.  Consultez les ressources suivantes pour l'outil ONTAP pour le déploiement de VMware vSphere :<block ref="124f85081ad68c1408c62c0c72a9a0d0" category="inline-link-macro-rx"></block></block>
  <block id="ba5602a7d83e50db49caf0853dacb46a" category="section-title">Créer un profil de capacité de stockage</block>
  <block id="574f4871a7f478f5bcc72e03eef4a96f" category="paragraph">Tout d’abord, créez un profil de capacité de stockage personnalisé pour le stockage ONTAP souligné qui héberge la banque de données vVols .</block>
  <block id="ffb7e150691b98e078662c7a23f4adbe" category="list-text">À partir des raccourcis du client vSphere, ouvrez l’outil NetApp ONTAP .  Assurez-vous que le cluster de stockage ONTAP a été ajouté à<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> dans le cadre du déploiement de l'outil ONTAP .</block>
  <block id="ce0f28375029ece59ae6afd04718446f" category="inline-image-macro">Capture d'écran montrant une configuration de profil de capacité de stockage personnalisé.</block>
  <block id="d436681d1ba8c29c46f80b632ee9d35e" category="paragraph"><block ref="9146b6c4dda783e91bff3bed3df79ddb" category="inline-image-macro-rx" type="image"></block> <block ref="923f1b2327c5f0b26b7cfbc2e9c17418" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93b2d42abda9af2775a45e3d82033a4c" category="list-text">Cliquez sur<block ref="5671a8cbfb87337b09f7c0b3f03c48ec" prefix=" " category="inline-code"></block> pour ajouter un profil personnalisé pour Oracle.  Nommez le profil et ajoutez une brève description.</block>
  <block id="032d6bcbe3c9911863c15ef1f1e3de32" category="paragraph"><block ref="032d6bcbe3c9911863c15ef1f1e3de32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7c1e70b93b043a558fd33a60b2b9a4f" category="list-text">Choisissez la catégorie de contrôleur de stockage : performances, capacité ou hybride.</block>
  <block id="a94a0ff1fbf802792d20f206753a4a32" category="paragraph"><block ref="a94a0ff1fbf802792d20f206753a4a32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6208541b7c69092d9c6007ae118c5a02" category="list-text">Sélectionnez le protocole.</block>
  <block id="739891b8e01a85a9820bac242051b8a3" category="paragraph"><block ref="739891b8e01a85a9820bac242051b8a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="40b8327c5adffbb8fd939d1e60225518" category="list-text">Définissez une politique QoS si vous le souhaitez.</block>
  <block id="b2ab72db8cc86555efabbbd859f38f6d" category="paragraph"><block ref="b2ab72db8cc86555efabbbd859f38f6d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f248abccd937c20eb587021d08cf5665" category="list-text">Attributs de stockage supplémentaires pour le profil.  Assurez-vous que le cryptage est activé sur le contrôleur NetApp si vous souhaitez disposer de la capacité de cryptage, sinon cela peut entraîner des problèmes lors de l'application du profil.</block>
  <block id="541454602119f2616b2e52d1437eaa42" category="paragraph"><block ref="541454602119f2616b2e52d1437eaa42" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d8259b9d166c6def0c94e28529b07408" category="list-text">Consultez le résumé et terminez la création du profil de capacité de stockage.</block>
  <block id="3f190ee140f52ed9a70e98b2160ba070" category="paragraph"><block ref="3f190ee140f52ed9a70e98b2160ba070" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dff98535475eb3bdfc270946dfc29280" category="section-title">Créer et configurer la banque de données vVols</block>
  <block id="08c0ac84a22cfe0e83d0056cdd1fa92c" category="paragraph">Une fois les conditions préalables remplies, connectez-vous au VCF en tant qu'utilisateur administrateur via le client vSphere, en accédant au domaine de charge de travail.  N'utilisez pas l'option de stockage VMware intégrée pour créer des vVols.  Utilisez plutôt l’outil NetApp ONTAP pour créer des vVols.  Ce qui suit illustre les procédures de création et de configuration de vVols.</block>
  <block id="067d6c9f3530bf26b24a96375614a55b" category="list-text">Le flux de travail de création de vVols peut être déclenché soit à partir de l'interface de l'outil ONTAP , soit à partir du cluster de domaine de charge de travail VCF.</block>
  <block id="d3e1d44cc16d5e3186aa6459e33c27e4" category="inline-image-macro">Capture d'écran montrant la configuration de la banque de données vVols .</block>
  <block id="1b17a29e6b887eb0d9ab7f9cb10f0d23" category="paragraph"><block ref="1b17a29e6b887eb0d9ab7f9cb10f0d23" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8b46e4068fac7221bf52e8488be49c68" category="paragraph"><block ref="8b46e4068fac7221bf52e8488be49c68" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5988bd65b90ceb685034d86d3495df44" category="list-text">Remplissage des informations générales pour le magasin de données, y compris la destination de provisionnement, le type, le nom et le protocole.</block>
  <block id="d368189b519e970a5a27b306b8f18bd0" category="paragraph"><block ref="d368189b519e970a5a27b306b8f18bd0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8eba6077a8d57ff41f9729a6edb1283e" category="list-text">Sélectionnez le profil de capacité de stockage personnalisé créé à l'étape précédente, le<block ref="f31303ddb8ada38aed08c2bb8f9d8e6c" prefix=" " category="inline-code"></block> , et<block ref="541b6c1ab6b503c34fc7cd5ed7105896" prefix=" " category="inline-code"></block> , où les vVols doivent être créés.</block>
  <block id="330ab8276772c395097c58fcd2e16906" category="paragraph"><block ref="330ab8276772c395097c58fcd2e16906" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f8639edb08078b0872af987ffcb3c41a" category="list-text">Choisir<block ref="088758c5f1801338b7483d3a2cda15aa" prefix=" " category="inline-code"></block> , remplissez le nom et la taille du volume et cliquez sur<block ref="9eeb52badb613229884838847294b90d" prefix=" " category="inline-code"></block> alors<block ref="47559fb833ff58321570e5e877b467f6" prefix=" " category="inline-code"></block> pour passer à la page de résumé.</block>
  <block id="f51d7f6d1bec980f632c3b10651ddbe8" category="paragraph"><block ref="013327d04afd6ea8e9faec4777de31d2" category="inline-image-macro-rx" type="image"></block> <block ref="eef5142ea01c24de90052c34a0ce18ab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6879b520f65a093360e318970237ae41" category="list-text">Cliquez<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> pour créer une banque de données vVols pour le binaire Oracle.</block>
  <block id="13f8e21ff600374db353b1507b9f9f06" category="paragraph"><block ref="13f8e21ff600374db353b1507b9f9f06" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93661ffe65302224a0ead77d9b4edad1" category="list-text">Créez une banque de données pour le registre de cluster Oracle ou CRS.</block>
  <block id="1c47f3e49fcd620b8a1d29a756da0f5b" category="paragraph"><block ref="1c47f3e49fcd620b8a1d29a756da0f5b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c63205151dd92ee20affd76d5bfb792e" category="admonition">Vous pouvez ajouter plusieurs volumes à une banque de données vVols ou répartir les volumes d'une banque de données vVols sur plusieurs nœuds de contrôleur ONTAP pour des raisons de performances ou de redondance.</block>
  <block id="17f1e06e290e3a19906298c1d44152f2" category="list-text">Créer une banque de données pour les données Oracle.  Idéalement, créez des banques de données distinctes sur chaque nœud de contrôleur ONTAP et utilisez Oracle ASM pour répartir les données sur les nœuds de contrôleur afin de maximiser l'utilisation de la capacité du cluster de stockage ONTAP .</block>
  <block id="0cc1f1380316a9b5fec93a6891981a02" category="paragraph"><block ref="fbc8cc302454a9bf54bf4a602124946d" category="inline-image-macro-rx" type="image"></block> <block ref="6c823f69e41e997eaf09e437dd277eba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09f886aa0490a78c38eebcf984caafb7" category="list-text">Créer une banque de données pour le journal Oracle.  Étant donné la nature séquentielle de l’écriture du journal Oracle, il est judicieux de le placer sur un seul nœud de contrôleur ONTAP .</block>
  <block id="417e6a6d8788543679526f3590accc7d" category="paragraph"><block ref="417e6a6d8788543679526f3590accc7d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="98485cfae59d0d91d7e5836355cda9f1" category="list-text">Validez les banques de données Oracle après le déploiement.</block>
  <block id="6aac64fbe8699f7b2039377a331e6bb7" category="paragraph"><block ref="6aac64fbe8699f7b2039377a331e6bb7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53805fd039c130e4639961665f4d52c7" category="section-title">Créer une politique de stockage de machine virtuelle basée sur le profil de capacité de stockage</block>
  <block id="8597b3e29b3bfd1a6d11508383239d6f" category="paragraph">Avant de provisionner le stockage de la banque de données vVols vers la machine virtuelle de base de données, ajoutez une stratégie de stockage de machine virtuelle basée sur le profil de capacité de stockage créé à l'étape précédente.  Voici les procédures à suivre.</block>
  <block id="0cac31d91fd3c9b2951a23b3238222ba" category="list-text">À partir des menus du client vSphere, ouvrez<block ref="618825ca73695fc2a237f6dcf99e5c27" prefix=" " category="inline-code"></block> et mettre en évidence<block ref="9f1893d8db5ceaf62726d1a0aa228224" prefix=" " category="inline-code"></block> .  Cliquez<block ref="686e697538050e4664636337cc3b834f" prefix=" " category="inline-code"></block> ouvrir<block ref="9f1893d8db5ceaf62726d1a0aa228224" prefix=" " category="inline-code"></block> flux de travail.</block>
  <block id="9a6d57df0589e3632c8c0f69749dfbb0" category="inline-image-macro">Capture d’écran montrant une configuration de politique de stockage de machine virtuelle.</block>
  <block id="e5500d8d9309a538769c9fc3ef496163" category="paragraph"><block ref="e5500d8d9309a538769c9fc3ef496163" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c1b50b4d689fb35a32cefabc42b21c7" category="list-text">Nommez la politique de stockage de la machine virtuelle.</block>
  <block id="c0a108e0c5e3b490410317e9ddd118a3" category="paragraph"><block ref="c0a108e0c5e3b490410317e9ddd118a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="19fbb3187befaa8e7ddf2ee168778b40" category="list-text">Dans<block ref="e06edd159cb29fd25e7a6b6ca07b5c45" prefix=" " category="inline-code"></block> , vérifier<block ref="e4cbdedd5072d1d5bf70b96942a75033" prefix=" " category="inline-code"></block></block>
  <block id="904d383f8fe0b5448083390508155d00" category="paragraph"><block ref="904d383f8fe0b5448083390508155d00" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1fd9dc94d502a651207949123c63c43" category="list-text">Pour les règles NetApp.clustered.Data.ONTAP ONTAP<block ref="ae13e51f99f3be623a6d44d7439d9bb5" prefix=" " category="inline-code"></block> , sélectionnez le profil de capacité de stockage personnalisé créé à l'étape précédente.</block>
  <block id="92ca1c06b53a9bf7169d9d37b87c5b78" category="paragraph"><block ref="92ca1c06b53a9bf7169d9d37b87c5b78" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8f6f104c16849aecc74ac68cf09c0c24" category="list-text">Pour les règles NetApp.clustered.Data.ONTAP ONTAP<block ref="8c340dc334134096f68b880b42a8692c" prefix=" " category="inline-code"></block> , choisir<block ref="b9f5c797ebbf55adccdd8539a65a0241" prefix=" " category="inline-code"></block> si les vVols ne sont pas répliqués.</block>
  <block id="8165f4626c70c1132ec673e56c7820ce" category="paragraph"><block ref="8165f4626c70c1132ec673e56c7820ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37da436400640cf811c491c3a99d576c" category="list-text">La page de compatibilité de stockage affiche les banques de données vVols compatibles dans l'environnement VCF.</block>
  <block id="ece101e6dd39ee01ca8d93783001fb96" category="paragraph"><block ref="ece101e6dd39ee01ca8d93783001fb96" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4a923ac6fb99ee5d0fc17211d1c3eec5" category="list-text">Révisez et terminez la création de la politique de stockage de la machine virtuelle.</block>
  <block id="08364e1b880d527123d02990fd16ba05" category="paragraph"><block ref="08364e1b880d527123d02990fd16ba05" category="inline-image-macro-rx" type="image"></block></block>
  <block id="818749afba521c90e53181fd57b26e4f" category="list-text">Validez la politique de stockage de la machine virtuelle qui vient d’être créée.</block>
  <block id="d6a760252e81d9cb59b731f435829b28" category="paragraph"><block ref="d6a760252e81d9cb59b731f435829b28" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1abdd6a035215ba0bbd05f64107eba8b" category="section-title">Allouer des disques aux machines virtuelles RAC à partir des banques de données vVols et configurer le stockage de la base de données</block>
  <block id="1694a0fa71dd4bf27eb32be743d62229" category="paragraph">À partir du client vSphere, ajoutez les disques souhaités des banques de données vVols à la machine virtuelle de base de données en modifiant les paramètres de la machine virtuelle.  Ensuite, connectez-vous à la machine virtuelle pour formater et monter le disque binaire sur les points de montage /u01.  Ce qui suit montre les étapes et les tâches exactes.</block>
  <block id="671c65f2aaf6e342c3dc64e10e4c1de7" category="list-text">Avant d'allouer des disques de la banque de données à la machine virtuelle de base de données, connectez-vous aux hôtes VMware ESXi pour valider et garantir que les enregistreurs multiples sont activés (valeur GBLAllowMW définie sur 1) au niveau ESXi.</block>
  <block id="13ab15eddd890290ff1ab6c3369c5105" category="list-text">Ajoutez un nouveau contrôleur SCSI dédié à utiliser avec les disques Oracle RAC.  Désactiver le partage de bus SCSI.</block>
  <block id="bd7a11e9ebe1d463ea78c92b8e7ae29a" category="inline-image-macro">Capture d'écran montrant une configuration de stockage de machine virtuelle.</block>
  <block id="7129a382764ea949fb8bed104a6ade0d" category="paragraph"><block ref="7129a382764ea949fb8bed104a6ade0d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97583967fb763c3e123e7d04b518fc1d" category="list-text">À partir du nœud RAC 1 - ora01, ajoutez un disque à la machine virtuelle pour le stockage binaire Oracle sans partage.</block>
  <block id="c27003cfb2a02d3762fb8010a92687e3" category="paragraph"><block ref="c27003cfb2a02d3762fb8010a92687e3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53c2a1ff3fee6b5a708dd1e2272923a0" category="list-text">À partir du nœud RAC 1, ajoutez trois disques à la machine virtuelle pour le stockage Oracle RAC CRS et activez le partage multi-enregistreur.</block>
  <block id="f919bb8993e2bfb16b2fd0d702c971dc" category="paragraph"><block ref="53bf97527722008ce8d661e5a309e560" category="inline-image-macro-rx" type="image"></block> <block ref="08ea8751649164407ff156cec3b0f8df" category="inline-image-macro-rx" type="image"></block> <block ref="b3fd0f6ce783da27e8e68462beeebe24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9eece672ad02e005280b550f41a48a30" category="list-text">À partir du nœud RAC 1, ajoutez deux disques de chaque banque de données pour les données vers la machine virtuelle pour le stockage de données Oracle partagé.</block>
  <block id="270e62c3c8d11006b7edcfe66059250a" category="paragraph"><block ref="d7b183566e25dc549478bcca6cdc80c2" category="inline-image-macro-rx" type="image"></block> <block ref="fe2d230937200fbf9d659ef323fee125" category="inline-image-macro-rx" type="image"></block> <block ref="6533373b87f2553fe6f1fc753af7035e" category="inline-image-macro-rx" type="image"></block> <block ref="0df165bcac752e5c603b8291621de793" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1359af07f8950bb57fd01d7cb00ae87d" category="list-text">À partir du nœud RAC 1, ajoutez deux disques à la machine virtuelle à partir du magasin de données de journaux pour le stockage des fichiers journaux Oracle partagés.</block>
  <block id="1a2621fa74db5588a92781648c7a9b36" category="paragraph"><block ref="dd19d7d15f63e0956db9b7d3d79be330" category="inline-image-macro-rx" type="image"></block> <block ref="b8e00814d92a9ec8d8b4002f70a59bf7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a49c9fafad9c156d258b0cfaa9465b32" category="list-text">À partir du nœud RAC 2, ajoutez un disque à la machine virtuelle pour le stockage binaire Oracle sans partage.</block>
  <block id="91065060851a6c470074ef0bfcb42538" category="paragraph"><block ref="91065060851a6c470074ef0bfcb42538" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b675282a475ed2d6ad7cf98f616e6501" category="list-text">À partir du nœud RAC 2, ajoutez d’autres disques partagés en sélectionnant<block ref="6aed226660dfd7b887814d05152d2b27" prefix=" " category="inline-code"></block> option et activer le partage multi-enregistreur pour chaque disque partagé.</block>
  <block id="da16222a0401d0bf0515114004684032" category="paragraph"><block ref="d9c573b6e63b8ec12d1408782f147dd4" category="inline-image-macro-rx" type="image"></block> <block ref="3d61bea0adbfbf5903f99d8ef7176268" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2693086f370c879a2082d4d3d7dab372" category="list-text">De VM<block ref="21b14bb4c76726ee1f508919a7a313cc" prefix=" " category="inline-code"></block> ,<block ref="c9d7eedc8be4380c02106619824b8449" prefix=" " category="inline-code"></block> , ajouter un attribut<block ref="786ce2a862b7971f5d75434b768ebdbe" prefix=" " category="inline-code"></block> avec valeur<block ref="c0d83f0b82a6b30de8811e69e6d95c61" prefix=" " category="inline-code"></block> .  La machine virtuelle doit être arrêtée pour ajouter le paramètre avancé.  La définition de cette option permet à SnapCenter d’identifier précisément le vVol dans votre environnement.  Cela doit être fait sur tous les nœuds RAC.</block>
  <block id="4797e9bfb4da93ec6f6a12558ab02361" category="paragraph"><block ref="4797e9bfb4da93ec6f6a12558ab02361" category="inline-image-macro-rx" type="image"></block></block>
  <block id="665639cc3720d39b6e081d6894c32ad9" category="list-text">Maintenant, redémarrez la VM.  Connectez-vous à la machine virtuelle en tant qu'utilisateur administrateur via ssh pour examiner les lecteurs de disque nouvellement ajoutés.</block>
  <block id="a0d946a1dd4f8686c8eb7d38dfac9fce" category="list-text">À partir de chaque nœud RAC, partitionnez le disque binaire Oracle (/dev/sdb) en tant que partition principale et unique en acceptant simplement les choix par défaut.</block>
  <block id="092b3ded0c71a57dc9e6c900236e8802" category="list-text">Formatez les disques partitionnés en tant que systèmes de fichiers xfs.</block>
  <block id="bb3b392e1475d9424bf707a161d5e269" category="list-text">Montez le disque sur le point de montage /u01.</block>
  <block id="5c14ee5bcebed05ca6f36737fa926611" category="list-text">Ajoutez des points de montage à /etc/fstab afin que les lecteurs de disque soient montés au redémarrage de la machine virtuelle.</block>
  <block id="9a05743b08fa1f2a741732b4dcc91133" category="section-title">Déploiement d'Oracle RAC dans VCF</block>
  <block id="adcafa77c4aa4f4efd0db63c6320a0c5" category="paragraph">Il est recommandé d'utiliser la boîte à outils d'automatisation NetApp pour déployer Oracle RAC dans VCF avec vVols.  Lisez attentivement les instructions incluses (READme) et configurez les fichiers de paramètres de déploiement tels que le fichier cible de déploiement - hôtes, le fichier de variables globales - vars/vars.yml et le fichier de variables de machine virtuelle de base de données locale - host_vars/host_name.yml en suivant les instructions de la boîte à outils.  Voici les procédures étape par étape.</block>
  <block id="4a5abe82a7fae2eaf788dd6f9951e913" category="list-text">Connectez-vous à la machine virtuelle du contrôleur Ansible en tant qu'utilisateur administrateur via ssh et clonez une copie de la boîte à outils d'automatisation pour le déploiement d'Oracle RAC dans VCF avec vVols.</block>
  <block id="8cbbbb19113497bb9e98082d50559d57" category="list-text">Placez les fichiers d'installation Oracle suivants dans le dossier /tmp/archive sur la machine virtuelle de base de données du nœud RAC 1.  Le dossier doit autoriser l'accès à tous les utilisateurs disposant de l'autorisation 777.</block>
  <block id="24171804df1cf0c75810555078f5363a" category="list-text">Configurez l'authentification sans clé SSH entre le contrôleur Ansible et les machines virtuelles de base de données, ce qui nécessite de générer une paire de clés SSH et de copier la clé publique dans le répertoire racine de l'utilisateur administrateur des machines virtuelles de base de données, le dossier .ssh et le fichier authorized_keys.</block>
  <block id="728193b5c7846573379d02085e909342" category="list-text">Configurez les fichiers de paramètres d'hôte cible définis par l'utilisateur.  Voici un exemple de configuration typique pour le fichier d'hôtes cible - hosts.</block>
  <block id="69e161901e08e482a784be5dc7f0a651" category="list-text">Configurez les fichiers de paramètres spécifiques à l'hôte local définis par l'utilisateur.  Voici un exemple de configuration typique pour le fichier host_name.yml local - ora01.yml.</block>
  <block id="f58c2ca9903ffc6f561b9a0ad4d259ce" category="list-text">Configurez le fichier de paramètres globaux définis par l'utilisateur.  Voici un exemple de configuration typique pour le fichier de paramètres globaux - vars.yml</block>
  <block id="e24b23c25dcec5be6339809014c3bdcd" category="list-text">À partir du contrôleur Ansible, du répertoire de base de la boîte à outils d'automatisation clonée /home/admin/na_oracle_deploy_rac, exécutez le playbook des prérequis pour configurer les prérequis d'Ansible.</block>
  <block id="6ae4f18884244011c1af48b055b81490" category="list-text">Exécutez le playbook de configuration Linux.</block>
  <block id="7bf1e8acde5c2dc40b02275ed5e2cc1d" category="list-text">Exécutez le playbook de déploiement Oracle.</block>
  <block id="a7119acd29a953169996c6cd5828ae0e" category="list-text">En option, tous les playbooks ci-dessus peuvent également être exécutés à partir d'une seule exécution de playbook.</block>
  <block id="f72bad29aa332450a1473c4ee42daca5" category="section-title">Validation du déploiement d'Oracle RAC dans VCF</block>
  <block id="6837977f570679b216db78e041f5750c" category="paragraph">Cette section fournit des détails sur la validation du déploiement d'Oracle RAC dans VCF pour garantir que toutes les ressources Oracle RAC sont entièrement déployées, configurées et fonctionnent comme prévu.</block>
  <block id="44f80d3b64dcf0f0f6d4874745b23da8" category="list-text">Connectez-vous à la machine virtuelle RAC en tant qu'utilisateur administrateur pour valider l'infrastructure de grille Oracle.</block>
  <block id="b8a929b95bdc686f95e0bbb3ccdb7465" category="list-text">Répertorier les nœuds du cluster.</block>
  <block id="bfd716e1e7ec88f5c5b5066291adc63e" category="list-text">Valider OCR/VOTE.</block>
  <block id="da3a1bafa7ba4c1638c7b89315232c57" category="list-text">Passez à l'utilisateur Oracle pour valider la base de données en cluster.</block>
  <block id="7513062e80b0ae42ada4bcb96f44b96c" category="list-text">Ou connectez-vous à EM Express pour valider la base de données RAC après l'exécution réussie du playbook.</block>
  <block id="5afe58c129643433adc50a2af141f9f9" category="inline-image-macro">Capture d'écran montrant la configuration d'Oracle EM Express.</block>
  <block id="0d718d583110b0638c413fa9daabb09e" category="paragraph"><block ref="02c78b42881b138cbd2173e76d46ae3c" category="inline-image-macro-rx" type="image"></block> <block ref="070c3132ee6ef8b48eed502e3adc9130" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7b1814436c2f5e378f75bf1540169449" category="section-title">Sauvegarde et récupération de la base de données Oracle RAC dans VCF avec SnapCenter</block>
  <block id="75e3c73d79159eb8120f96e67738c1e4" category="paragraph">La version 6 de SnapCenter présente de nombreuses améliorations de fonctionnalités par rapport à la version 5, notamment la prise en charge du magasin de données VMware vVols .  SnapCenter s'appuie sur un plug-in côté hôte sur une machine virtuelle de base de données pour effectuer des activités de gestion de la protection des données prenant en compte les applications.  Pour des informations détaillées sur le plug-in NetApp SnapCenter pour Oracle, reportez-vous à cette documentation<block ref="7a6b1ddf3a0731d31936d6522df7c6ca" category="inline-link-macro-rx"></block> .  Ce qui suit fournit des étapes de haut niveau pour configurer SnapCenter version 6 pour la sauvegarde et la récupération de la base de données Oracle RAC dans VCF.</block>
  <block id="db870e382c718288732e8cddc579b13c" category="list-text">Téléchargez la version 6 du SnapCenter software depuis le site de support NetApp :<block ref="3cca19c7256555824970f142627f53d3" category="inline-link-macro-rx"></block> .</block>
  <block id="9535205879e21b3b44dc228f092b815c" category="list-text">Connectez-vous à la machine virtuelle Windows hébergeant SnapCenter en tant qu'administrateur.  Installez les prérequis pour SnapCenter 6.0.</block>
  <block id="14aae9a2299009444cb9a8fdd1043241" category="inline-image-macro">Capture d'écran montrant les prérequis de SnapCenter 6.0.</block>
  <block id="74a7e491803d407fa356faec536f3e4a" category="paragraph"><block ref="74a7e491803d407fa356faec536f3e4a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8586c002ab45881c90190837b88451c2" category="list-text">En tant qu'administrateur, installez le dernier JDK Java à partir de<block ref="1a0bb7a886be273015991771cf1b1190" category="inline-link-macro-rx"></block> .</block>
  <block id="fb21ef84f7da10fcc41ae83d827544e8" category="paragraph"><block ref="fb21ef84f7da10fcc41ae83d827544e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="212969042f73c7fab7539a4425462c46" category="list-text">Revoir<block ref="e0c4332e8c13be976552a059f106354f" prefix=" " category="inline-code"></block> menu pour vous mettre à jour sur SnapCenter si vous êtes un nouvel utilisateur.</block>
  <block id="75a05d0c05723a7a5ede08e6f38be9b9" category="paragraph"><block ref="75a05d0c05723a7a5ede08e6f38be9b9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dfed4c63c22e68017be86717e681a47d" category="list-text">Ajouter un cluster de stockage ONTAP à<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> avec IP de gestion de cluster et authentifié via l'ID utilisateur administrateur de cluster.</block>
  <block id="88a22ff01ead33d55b3381621c99e508" category="paragraph"><block ref="118ecd8fa6fa8ef279ec1b295b0e4b39" category="inline-image-macro-rx" type="image"></block> <block ref="0aed5468c7b83a06063df279a572fb30" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9be829820801059aa2e6f8032dedcb5b" category="list-text">Ajouter des machines virtuelles de base de données Oracle RAC et des machines virtuelles de plug-in vSphere<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> pour l'accès SnapCenter à la VM DB et à la VM du plug-in vSphere.  Les informations d'identification doivent avoir le privilège sudo sur les machines virtuelles Linux.  Vous pouvez créer différentes informations d'identification pour différents ID utilisateur de gestion pour les machines virtuelles. L'ID utilisateur de gestion de la machine virtuelle du plug-in vShpere est défini lorsque la machine virtuelle du plug-in est déployée dans vCenter.</block>
  <block id="4f27b1e39049720a171ec680e3ecb615" category="list-text">Ajouter une machine virtuelle de base de données Oracle RAC dans VCF à<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> avec les informations d'identification DB VM créées à l'étape précédente.</block>
  <block id="8ddc920b9e6fb57e45e5771d5f36dc94" category="paragraph"><block ref="fbff666368d60621f04b1ee0149f2820" category="inline-image-macro-rx" type="image"></block> <block ref="5a4aa74a2cc8a46683840b27cac3651f" category="inline-image-macro-rx" type="image"></block> <block ref="c9618368d4d179889440afac05b78be5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="532bf73956152aae1e31d71a303110bb" category="list-text">De même, ajoutez le plugin NetApp VMware VM à<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> avec les informations d'identification de la machine virtuelle du plugin vSphere créées à l'étape précédente.</block>
  <block id="b09c50eb29716e0670c57af959a2f106" category="paragraph"><block ref="d67c0eec4e399b286c043e8cf3a4bec1" category="inline-image-macro-rx" type="image"></block> <block ref="925268510b9e4bd3e1443c47abec7cf9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="836e220077eef7f134a2eca3d11dd42a" category="list-text">Enfin, une fois la base de données Oracle découverte sur la machine virtuelle DB, revenons à<block ref="f4f70727dc34561dfde1a3c529b6205c" prefix=" " category="inline-code"></block><block ref="9e476387322a5c250893cf9c5c4ce78c" prefix="-" category="inline-code"></block> pour créer des politiques de sauvegarde de base de données Oracle.  Idéalement, créez une politique de sauvegarde du journal d’archive distincte pour permettre un intervalle de sauvegarde plus fréquent afin de minimiser la perte de données en cas de panne.</block>
  <block id="9042135e15b7d736f2926087cc1cbac4" category="admonition">Assurez-vous que le nom du serveur SnapCenter peut être résolu en adresse IP à partir de la machine virtuelle DB et de la machine virtuelle du plug-in vSphere.  De même, le nom de la machine virtuelle DB et le nom de la machine virtuelle du plug-in vSphere peuvent être résolus en adresse IP à partir du serveur SnapCenter .</block>
  <block id="f2f5ea20fbc62b491869c43a522dcf59" category="paragraph">SnapCenter exploite l'instantané de volume ONTAP pour une sauvegarde, une restauration ou un clonage de base de données beaucoup plus rapide par rapport à la méthodologie traditionnelle basée sur RMAN.  Les instantanés sont cohérents avec l'application car la base de données est placée en mode de sauvegarde Oracle avant un instantané.</block>
  <block id="9700d849a16259acb4af12489f80cf93" category="paragraph"><block ref="9700d849a16259acb4af12489f80cf93" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d86fa67cb5a60379e561235b1bbcf1a2" category="list-text">Cliquez sur la base de données pour démarrer un flux de travail afin d'activer la protection de la base de données.</block>
  <block id="d1479f1d5187c38b8bdcce66ac37574d" category="paragraph"><block ref="d1479f1d5187c38b8bdcce66ac37574d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0a32086592e3e98e202dec84f5352e6b" category="list-text">Appliquer la politique de sauvegarde, configurer la planification si nécessaire.</block>
  <block id="2dbd120aca5ea296277fd8a472f62e83" category="paragraph"><block ref="2dbd120aca5ea296277fd8a472f62e83" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d9550848b32d2fbf200fe1071ca3cfa4" category="list-text">Configurez la notification de tâche de sauvegarde si nécessaire.</block>
  <block id="2165fc473cdf3ef639e0944d17ddddb7" category="paragraph"><block ref="2165fc473cdf3ef639e0944d17ddddb7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5dad3646303c6a4e4f76cc956dddef68" category="list-text">Consultez le résumé et terminez pour activer la protection de la base de données.</block>
  <block id="33f837abd461bac99f5941eccc6afcc4" category="paragraph"><block ref="33f837abd461bac99f5941eccc6afcc4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="60b30cb13078f340c18a220e2cbe412f" category="list-text">La tâche de sauvegarde à la demande peut être déclenchée en cliquant sur<block ref="9af892ad254c844922acba8e89078d6d" prefix=" " category="inline-code"></block> .</block>
  <block id="dd9e46e6124a944f89102fd53f55b762" category="paragraph"><block ref="a002fd216ac89a97a3ce9b1e6da49f41" category="inline-image-macro-rx" type="image"></block> <block ref="336b8ad4002b898a6de2a41977355869" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2bf9c2e0bb29d6312e54a54f058ac378" category="paragraph"><block ref="2bf9c2e0bb29d6312e54a54f058ac378" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bf4113b041da79313c635fc0fc15a81f" category="list-text">Cliquez sur la base de données pour consulter les ensembles de sauvegarde terminés pour la base de données RAC.</block>
  <block id="e41ad1e36bc19ff3165359f835ddef80" category="paragraph"><block ref="e41ad1e36bc19ff3165359f835ddef80" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c978f8cd51a54f6f818224c07b37081" category="section-title">Restauration/récupération de base de données</block>
  <block id="c416dcf0d7b8466599ed23e88f4d2c7b" category="paragraph">SnapCenter fournit un certain nombre d'options de restauration et de récupération pour la base de données Oracle RAC à partir d'une sauvegarde instantanée.  Dans cet exemple, nous démontrons comment restaurer à partir d'une ancienne sauvegarde instantanée, puis transférer la base de données vers le dernier journal disponible.</block>
  <block id="ac8a46d614401dc313c8dfdc41d3b6ad" category="list-text">Tout d’abord, exécutez une sauvegarde instantanée.  Ensuite, créez une table de test et insérez une ligne dans la table pour valider la base de données récupérée à partir de l'image instantanée avant que la création de la table de test ne récupère la table de test.</block>
  <block id="516bbb855bac93422a0befab9b7f2cc7" category="list-text">Depuis SnapCenter<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, ouvrez la page de topologie de sauvegarde de la base de données NTAP1.  Mettez en surbrillance l’ensemble de sauvegarde des données instantanées créé il y a 3 jours.  Cliquez sur<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> pour lancer le flux de travail de restauration-récupération.</block>
  <block id="9c4b6c788f60f2fceed9808039828690" category="paragraph"><block ref="9c4b6c788f60f2fceed9808039828690" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15d3f8cc8551722b92986955a6f33ed1" category="paragraph"><block ref="15d3f8cc8551722b92986955a6f33ed1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b2e47b0bb47c8052c2ba29b2a019287" category="list-text">Choisissez l'étendue de la récupération à<block ref="eeb41be937965dcb49c6d428805a16ba" prefix=" " category="inline-code"></block> .</block>
  <block id="5004792c73659bd8e32f395acb2b5bb1" category="paragraph"><block ref="5004792c73659bd8e32f395acb2b5bb1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97c0a280f28f15fdfc930e4311736a46" category="paragraph"><block ref="97c0a280f28f15fdfc930e4311736a46" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8ca9f3877e706843edbe4178753216f5" category="paragraph"><block ref="8ca9f3877e706843edbe4178753216f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="96890589023936940a4cb9f6c0c8d9f6" category="paragraph"><block ref="96890589023936940a4cb9f6c0c8d9f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b1cc93933588a5b4d56f03e039adeb25" category="paragraph"><block ref="b1cc93933588a5b4d56f03e039adeb25" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8a920caceb0dfbf3270fa19b5faafdc" category="list-text">À partir de la machine virtuelle RAC DB ora01, validez qu'une restauration/récupération réussie de la base de données a été effectuée vers son état le plus récent et a récupéré la table de test créée 3 jours plus tard.</block>
  <block id="5af876911ef89b1e7c4739bf87f4c28a" category="paragraph">Ceci termine la démonstration de la sauvegarde, de la restauration et de la récupération SnapCenter de la base de données Oracle RAC dans VCF avec vVols.</block>
  <block id="ded9cd19cde727f824d72e3ad8ef7662" category="inline-link-macro">Fondation VMware Cloud</block>
  <block id="153af65d8710c27484761f4f0f0b1328" category="list-text"><block ref="153af65d8710c27484761f4f0f0b1328" category="inline-link-macro-rx"></block></block>
  <block id="8127605cde4cee83a23b35f1207c7572" category="inline-link-macro">Documentation du SnapCenter software</block>
  <block id="bb45eb5524b20b253fe60d799a69dbf8" category="list-text"><block ref="bb45eb5524b20b253fe60d799a69dbf8" category="inline-link-macro-rx"></block></block>
  <block id="124f85081ad68c1408c62c0c72a9a0d0" category="list-text"><block ref="124f85081ad68c1408c62c0c72a9a0d0" category="inline-link-macro-rx"></block></block>
  <block id="ed7da1d98db2a5f56b9b51c80676689c" category="summary">La solution fournit une vue d'ensemble et des détails sur le déploiement et la protection d'Oracle dans VMware Cloud Foundation (VCF) avec vSphere Virtual Volumes (vVols) comme stockage de base de données principal et base de données Oracle dans une configuration d'instance unique (SI).</block>
  <block id="7771b3227f6011277af7c6f86381981f" category="doc">TR-4996 : Déploiement et protection d'Oracle SI dans VCF avec vVols</block>
  <block id="63187ee661198eecd7fe25cff775a86a" category="paragraph">La solution fournit une vue d'ensemble et des détails sur le déploiement et la protection d'Oracle dans VMware Cloud Foundation (VCF) avec vSphere Virtual Volumes (vVols) comme stockage de base de données principal et base de données Oracle dans une configuration d'instance unique (SI).</block>
  <block id="54c64849cbb768c12543c38fa3342f0f" category="paragraph">Cette documentation démontre le déploiement et la protection d'une base de données Oracle à instance unique dans un environnement VMware Cloud Foundation avec vVols comme stockage de base de données principal dans un cluster de stockage NetApp ONTAP .  La base de données Oracle est configurée comme si elle était déployée dans des systèmes de fichiers locaux sur un système de stockage local.  Ce rapport technique se concentre sur les étapes de création de vVols dans VCF pour le déploiement Oracle.  Nous démontrons également comment utiliser l'outil d'interface utilisateur NetApp SnapCenter pour sauvegarder, restaurer et cloner une base de données Oracle à des fins de développement/test ou d'autres cas d'utilisation pour un fonctionnement de base de données efficace en termes de stockage dans VCF.</block>
  <block id="4c7d4a60b738b4714cddcc488009b210" category="list-text">Déploiement de la base de données Oracle SI dans VCF avec la banque de données vVols sur NetApp ONTAP AFF comme stockage de base de données principal</block>
  <block id="25f2a359e29ebc505f92bc2118d15bec" category="list-text">Clonage de base de données Oracle pour le développement/test ou d'autres cas d'utilisation dans VCF avec la banque de données vVols à l'aide de l'outil d'interface utilisateur NetApp SnapCenter</block>
  <block id="3b17c15a96e90a03f424ba8ff84edda9" category="list-text">Un administrateur de base de données souhaitant déployer Oracle dans VCF avec un datastore vVols sur NetApp ONTAP AFF comme stockage de base de données principal</block>
  <block id="d349eb44120afd2a733ed0cca1af1bb6" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail Oracle dans VCF avec une banque de données vVols sur un stockage NetApp ONTAP AFF</block>
  <block id="1b7115ed74fb7546fe9b3aaf8e5001c8" category="list-text">Un administrateur de stockage souhaitant déployer et gérer une base de données Oracle déployée sur VCF avec une banque de données vVols sur un stockage NetApp ONTAP AFF</block>
  <block id="ee657e8e58545003d830b6e8249dfef8" category="list-text">Un propriétaire d'application qui souhaite mettre en place une base de données Oracle dans VCF avec un magasin de données vVol</block>
  <block id="514383da7989f9a243a928e30fa946eb" category="paragraph">Les tests et la validation de cette solution ont été effectués dans un environnement de laboratoire avec VCF avec un datastore vVols sur un stockage NetApp ONTAP AFF qui pourrait ne pas correspondre à l'environnement de déploiement final. Pour plus d'informations, consultez la section <block ref="a5cbf5f16a1fba6d9697a814ff593254" category="inline-xref-macro-rx"></block> .</block>
  <block id="f41b2cba0fbf8126d5b6737390e57f17" category="paragraph"><block ref="f41b2cba0fbf8126d5b6737390e57f17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="338b2420dac1e34d75bddea18c33a6ed" category="section-title">Configuration de la base de données Oracle dans VCF</block>
  <block id="0db665f03cbb89d625759cc113d29320" category="cell">NTAP1(NTAP1_pdb1,NTAP1_pdb2,NTAP1_pdb3)</block>
  <block id="847c86000821f4308a632844393be895" category="cell">Banques de données vVols sur NetApp ONTAP AFF A300</block>
  <block id="fdd523ab1355a652be7785ec356296ce" category="cell">NTAP2 (NTAP2_pdb1, NTAP2_pdb2, NTAP2_pdb3), NTAP1CLN</block>
  <block id="e833c850593670a5e6671378fcfddf3a" category="list-text">*Protocole pour la connectivité des vVols au cluster ONTAP .*  NFS ou iSCSI sont de bons choix.  Les niveaux de performance sont équivalents.  Dans cette démonstration de solution, nous avons utilisé NFS comme protocole de stockage pour la connectivité vVols au cluster de stockage ONTAP souligné.  Si l'infrastructure VCF prend en charge, les protocoles FC/FCoE et NVMe/FC sont également pris en charge pour les banques de données vVols sur NetApp ONTAP.</block>
  <block id="038f6eed09324a5254381f8e80a54f3d" category="list-text">*Disposition du stockage Oracle sur les banques de données vVols .*  Dans nos tests et validations, nous avons déployé trois banques de données vVols pour les fichiers binaires Oracle, les données Oracle et les fichiers journaux Oracle.  Il est recommandé de séparer les différents types de fichiers Oracle dans leur banque de données afin que la sauvegarde, la récupération ou le clonage de la base de données puissent être facilement gérés et exécutés.  Créez des vVols dédiés pour les grandes bases de données et partagez des vVols pour les bases de données plus petites ou les bases de données avec un profil QoS similaire. </block>
  <block id="935faab0c1724a6292faa21145fa1f7a" category="list-text">*Protection de la base de données.*  NetApp fournit une suite SnapCenter software pour la sauvegarde, la restauration et le clonage de bases de données avec une interface utilisateur conviviale.  NetApp recommande de mettre en œuvre un tel outil de gestion pour réaliser une sauvegarde SnapShot rapide (moins d'une minute), une restauration rapide (quelques minutes) de la base de données et un clonage de la base de données.</block>
  <block id="3ff3605993898c98bf107a74c1104b5c" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement d'Oracle 19c dans VCF avec des banques de données vVols sur le stockage NetApp ONTAP dans une configuration d'instance unique Oracle.</block>
  <block id="d642b6b6d64510f4e9ecdb6b6ab5f2ba" category="list-text">Provisionnez trois machines virtuelles Linux, deux machines virtuelles pour la base de données Oracle et une machine virtuelle pour le contrôleur Ansible dans le domaine de charge de travail VCF.  Provisionnez une machine virtuelle de serveur Windows pour exécuter le serveur NetApp SnapCenter .  Pour plus d'informations sur la configuration du contrôleur Ansible pour le déploiement automatisé de la base de données Oracle, reportez-vous aux ressources suivantes<block ref="5611d9cfd1946804a6fc54c4e7defca3" category="inline-link-macro-rx"></block> .</block>
  <block id="a003917c4a9634b2ce8d9b5b71ace9f5" category="paragraph"><block ref="a003917c4a9634b2ce8d9b5b71ace9f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6197223bdacc221a4a98dfbf0784cdf8" category="paragraph"><block ref="6197223bdacc221a4a98dfbf0784cdf8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d4ab805ff1f111190e4619a5680e27d5" category="paragraph"><block ref="d4ab805ff1f111190e4619a5680e27d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1dbcab7480e5628accc586b51e7ae14a" category="admonition">Vous pouvez ajouter plusieurs volumes à une banque de données vVols ou répartir les volumes d'une banque de données vVols sur plusieurs nœuds de contrôleur ONTAP pour des performances optimales.</block>
  <block id="3aa2eedce4fdf93f0da96e86a78819b6" category="paragraph"><block ref="3aa2eedce4fdf93f0da96e86a78819b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f623a471bae2cf02f80bfc265f6c3d5f" category="list-text">Répétez les mêmes procédures pour créer une banque de données vVols pour les données et le journal Oracle.</block>
  <block id="c85846f79fb826c4698a667ef5c4c6e9" category="paragraph"><block ref="c85846f79fb826c4698a667ef5c4c6e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c49449890c4bc83acd8f37c4b0c8c760" category="admonition">Notez que lorsqu'une base de données Oracle est clonée, un vVols supplémentaire pour les données est ajouté à la liste vVols .</block>
  <block id="a8753f2e6a16f8ea1de20f8500f9aeef" category="paragraph"><block ref="a8753f2e6a16f8ea1de20f8500f9aeef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d9aaa275a447e9d31c528981b4f80a9" category="section-title">Allouer des disques à la machine virtuelle DB à partir des banques de données vVols et configurer le stockage DB</block>
  <block id="0148fef951b21df8e50803feb861c17f" category="paragraph">À partir du client vSphere, ajoutez trois disques des banques de données vVols à la machine virtuelle de base de données en modifiant les paramètres de la machine virtuelle.  Ensuite, connectez-vous à la machine virtuelle pour formater et monter les disques sur les points de montage /u01, /u02 et /u03.  Ce qui suit montre les étapes et les tâches exactes.</block>
  <block id="8a594a4062120343f6d1214b060c990e" category="list-text">Ajoutez un disque à la machine virtuelle pour le stockage binaire Oracle.</block>
  <block id="d028d3a30efb13a13d7bf44b7a3b2d5d" category="paragraph"><block ref="d028d3a30efb13a13d7bf44b7a3b2d5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7b26f1b39d7f1134b617c758271388d" category="list-text">Ajoutez un disque à la machine virtuelle pour le stockage des données Oracle.</block>
  <block id="ecfd90db517d3ccb7f53640add067b20" category="paragraph"><block ref="ecfd90db517d3ccb7f53640add067b20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9688034f93bd59a451be614f54b3bd31" category="list-text">Ajoutez un disque à la machine virtuelle pour le stockage des journaux Oracle.</block>
  <block id="0216433349985bcb31e3f4f975f30b1b" category="paragraph"><block ref="0216433349985bcb31e3f4f975f30b1b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="20494f43a704174a7c66937c434822c8" category="list-text">De VM<block ref="21b14bb4c76726ee1f508919a7a313cc" prefix=" " category="inline-code"></block> ,<block ref="c9d7eedc8be4380c02106619824b8449" prefix=" " category="inline-code"></block> , ajouter un attribut<block ref="786ce2a862b7971f5d75434b768ebdbe" prefix=" " category="inline-code"></block> avec valeur<block ref="c0d83f0b82a6b30de8811e69e6d95c61" prefix=" " category="inline-code"></block> .  La machine virtuelle doit être arrêtée pour ajouter le paramètre avancé.  La définition de cette option permet à SnapCenter d’identifier précisément le vVol dans votre environnement.</block>
  <block id="5c74da629f32767926f7ad7166336d3d" category="list-text">Partitionnez les disques en une partition principale et unique en acceptant simplement les choix par défaut.</block>
  <block id="81529182dc2ad74d9f7dad30c6854f7a" category="list-text">Montez les lecteurs sur les points de montage /u01, /u02 et /u03.</block>
  <block id="25f25999e7ae6cad40283a3ef624517a" category="section-title">Déploiement de la base de données Oracle dans VCF</block>
  <block id="a2dbdc551f64fb11d4fa44270223db37" category="inline-link-macro">Déploiement Oracle simplifié et automatisé sur NetApp C-Series avec NFS</block>
  <block id="6813d3fc7d4ebe73dd45031ac8800804" category="paragraph">Il est recommandé d'utiliser la boîte à outils d'automatisation NetApp pour déployer Oracle dans VCF avec vVols.  Pour une référence détaillée sur l'exécution du déploiement automatisé Oracle sur les systèmes de fichiers xfs, reportez-vous à TR-4992 :<block ref="69e84a8d3d6c5d27b49fbb81c11a7d37" category="inline-link-macro-rx"></block> .  Bien que le TR-4992 couvre le déploiement Oracle automatisé sur NetApp C-Series avec NFS, il est identique au déploiement Oracle dans VCF avec vVols si l'on contourne le montage des systèmes de fichiers NFS sur la machine virtuelle de base de données.  Nous sauterions simplement cela avec des balises spécifiques.  Voici les procédures étape par étape.</block>
  <block id="18221967648c6cef9becffedbdba6e84" category="list-text">Connectez-vous à la machine virtuelle du contrôleur Ansible en tant qu'utilisateur administrateur via ssh et clonez une copie de la boîte à outils d'automatisation pour Oracle sur NFS.</block>
  <block id="1ac10c3f57c4a31176d5de142e164d21" category="list-text">Placez les fichiers d’installation Oracle suivants dans le dossier /tmp/archive sur la machine virtuelle de base de données.  Le dossier doit autoriser l'accès à tous les utilisateurs disposant de l'autorisation 777.</block>
  <block id="4f8a7e3d09ed245456c0fe6a1f23244b" category="list-text">Configurez le fichier cible de déploiement - hosts, le fichier de variables globales - vars/vars.yml et le fichier de variables de la machine virtuelle de base de données locale - host_vars/host_name.yml conformément aux instructions de cette section du TR-4992 :<block ref="7bf5a4a19d96bb799d8289a13fabc6df" category="inline-link-macro-rx"></block> .  Commentez la variable nfs_lif du fichier de variables de la machine virtuelle de la base de données locale.</block>
  <block id="f04a957e840ec1a63abf180d46387d50" category="list-text">À partir du contrôleur Ansible, du répertoire de base de la boîte à outils d'automatisation clonée /home/admin/na_oracle_deploy_nf, exécutez le playbook des prérequis.</block>
  <block id="3380790c6b6607b8bdbb4dc491a193a6" category="list-text">Connectez-vous à EM Express pour valider Oracle après l'exécution réussie du playbook.</block>
  <block id="842c4b652e88ec571da9b891cb513244" category="paragraph"><block ref="888d57860441dfc9c1fc6082d2364d89" category="inline-image-macro-rx" type="image"></block> <block ref="23eee6fde5b44fcfda003276b407c10b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="17fa3d33636f0f23f65c8d49f2592f2a" category="list-text">En option, exécutez le playbook de destruction pour supprimer la base de données de la machine virtuelle DB.</block>
  <block id="7a1924f25fed25748daead1d2d5b01e9" category="section-title">Sauvegarde, restauration et clonage Oracle dans VCF avec SnapCenter</block>
  <block id="9884c3c5b6856de90af08a8c26b025bd" category="paragraph">La version 6 de SnapCenter présente de nombreuses améliorations de fonctionnalités par rapport à la version 5, notamment la prise en charge du magasin de données VMware vVols .  SnapCenter s'appuie sur un plug-in côté hôte sur une machine virtuelle de base de données pour effectuer des activités de gestion de la protection des données prenant en compte les applications.  Pour des informations détaillées sur le plug-in NetApp SnapCenter pour Oracle, reportez-vous à cette documentation<block ref="7a6b1ddf3a0731d31936d6522df7c6ca" category="inline-link-macro-rx"></block> .  Ce qui suit fournit des étapes de haut niveau pour configurer SnapCenter version 6 pour la sauvegarde, la récupération et le clonage de la base de données Oracle dans VCF.</block>
  <block id="b4368c5bff67fcdd30ed15befeb0bb5d" category="list-text">Ajouter une VM de base de données et une VM de plug-in vSphere<block ref="03bc142e6422dbb9b288ad2cabee08c7" prefix=" " category="inline-code"></block> pour l'accès SnapCenter à la VM DB et à la VM du plug-in vSphere.  Les informations d'identification doivent avoir le privilège sudo sur les machines virtuelles Linux.  Vous pouvez créer des informations d’identification différentes pour différents ID d’utilisateur de gestion pour les machines virtuelles.</block>
  <block id="59d5938e76d240d7dd6bc36a5b63bc74" category="list-text">Ajouter une machine virtuelle de base de données Oracle dans VCF à<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> avec les informations d'identification DB VM créées à l'étape précédente.</block>
  <block id="14e24ed3000f63d13b3c2dbb72725f64" category="paragraph"><block ref="31ccdda516ff15be043ab5bb01cc947b" category="inline-image-macro-rx" type="image"></block> <block ref="bdfb0675b851e14184fa62f280c17011" category="inline-image-macro-rx" type="image"></block> <block ref="816c425a89ae21b88cf83bcffbcca090" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9cee3f5f59ee683c1f09b5ea98a48249" category="paragraph"><block ref="d67c0eec4e399b286c043e8cf3a4bec1" category="inline-image-macro-rx" type="image"></block> <block ref="a5a429cf4b72212fd76c54db96065177" category="inline-image-macro-rx" type="image"></block></block>
  <block id="573d0af89416c61b52d479e98cf7ea8d" category="paragraph"><block ref="573d0af89416c61b52d479e98cf7ea8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="16449fcb2911066c7f22bf61fb1b5bb0" category="paragraph"><block ref="16449fcb2911066c7f22bf61fb1b5bb0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="11b72074cc43b17dab69c669721461b1" category="paragraph"><block ref="11b72074cc43b17dab69c669721461b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0a88fdb2227fc9514ba4a101761f20c3" category="paragraph"><block ref="0a88fdb2227fc9514ba4a101761f20c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fa630faa71e62812c5b73b74a2a0ce4c" category="paragraph"><block ref="fa630faa71e62812c5b73b74a2a0ce4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ee7678087998f16363ef172e3d47ffc" category="paragraph"><block ref="45708633ac635c8f7f9a04ff20faadd5" category="inline-image-macro-rx" type="image"></block> <block ref="9924c9c2cae1dacadbe543dfd833d3b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dd1646b54a28735656217e244fe43d3f" category="paragraph"><block ref="dd1646b54a28735656217e244fe43d3f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="812d6325185d3c54cc9fdb6993aa88d5" category="list-text">Cliquez sur la base de données pour consulter les jeux de sauvegarde effectués pour chaque base de données.</block>
  <block id="2fa8dc10d20419afc3a60bdeb1b193be" category="paragraph">SnapCenter fournit un certain nombre d'options de restauration et de récupération pour les bases de données Oracle à partir d'une sauvegarde instantanée.  Dans cet exemple, nous démontrons comment restaurer à partir d'une ancienne sauvegarde instantanée, puis transférer la base de données vers le dernier journal disponible.</block>
  <block id="4de3a9d50c6a6b2be148858c04496ca7" category="list-text">Depuis SnapCenter<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, ouvrez la page de topologie de sauvegarde de la base de données NTAP1.  Mettez en surbrillance l’ensemble de sauvegarde des données instantanées avant la création de la table de test.  Cliquez sur<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> pour lancer le flux de travail de restauration-récupération.</block>
  <block id="a81c00e3c6d8a561ee64ced3b7ca0a69" category="paragraph"><block ref="a81c00e3c6d8a561ee64ced3b7ca0a69" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9e75d1f767cd936b1747bcf7d879de87" category="paragraph"><block ref="9e75d1f767cd936b1747bcf7d879de87" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b9df42e1c46b607266d10c3d6047754" category="paragraph"><block ref="4b9df42e1c46b607266d10c3d6047754" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c2dcdd9443132bd5bfde3beeb7c8ec0" category="paragraph"><block ref="4c2dcdd9443132bd5bfde3beeb7c8ec0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b34f206cc03c4a2957e0dc1a529dc29" category="paragraph"><block ref="3b34f206cc03c4a2957e0dc1a529dc29" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1876a126bb30d124d4ce83afe66d3e09" category="paragraph"><block ref="1876a126bb30d124d4ce83afe66d3e09" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49fc40acb6f58593bcf91ebe4f767336" category="paragraph"><block ref="49fc40acb6f58593bcf91ebe4f767336" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7405f99edab815706f8763fe14a3587b" category="paragraph"><block ref="7405f99edab815706f8763fe14a3587b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c199d70e7019bbaed298c974d51a440" category="list-text">À partir de la machine virtuelle DB ora_01, vérifiez qu'une restauration/récupération réussie de la base de données a été effectuée vers son état le plus récent et a récupéré la table de test.</block>
  <block id="e902731ca71b8d6f3fd85319cfab2a70" category="paragraph">Dans cet exemple, les jeux de sauvegarde les plus récents sont utilisés pour cloner une base de données sur la machine virtuelle DB ora_02 dans une installation logicielle différente et ORACLE_HOME dans VCF.</block>
  <block id="11ca26aa1b6ef9aa055d3bbfa787304e" category="list-text">Ouvrez à nouveau la liste de sauvegarde de la base de données NTAP1.  Sélectionnez le jeu de sauvegarde de données le plus récent, cliquez sur<block ref="ff24590464659ee8cdec688128c35f89" prefix=" " category="inline-code"></block> bouton pour lancer le workflow de clonage de la base de données.</block>
  <block id="f55da0989cc3bf506fc949e0a930bba8" category="paragraph"><block ref="f55da0989cc3bf506fc949e0a930bba8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4592237458b4b234c6ad49941e35fca7" category="paragraph"><block ref="4592237458b4b234c6ad49941e35fca7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="900b3b01b70ff3dfa061c370394c20d1" category="list-text">Sélectionnez ora_02 dans VCF comme hôte de clonage de base de données cible.  Un logiciel de base de données Oracle identique doit avoir été installé et configuré sur l'hôte.</block>
  <block id="45a4ecbf5e87d541ec78a88557c8ecf0" category="paragraph"><block ref="45a4ecbf5e87d541ec78a88557c8ecf0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f5b13482d2f42f30ce29b2e73167f205" category="paragraph"><block ref="f5b13482d2f42f30ce29b2e73167f205" category="inline-image-macro-rx" type="image"></block></block>
  <block id="facd55edf242677ab9c6bd42674e871d" category="list-text">Vous pouvez modifier les paramètres de la base de données clonée pour répondre aux exigences de configuration ou de ressources de la base de données clonée.</block>
  <block id="42e152d1514166da84bf8a9cb2bbcff6" category="paragraph"><block ref="42e152d1514166da84bf8a9cb2bbcff6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bddca6e47861c5daf7a84db4656b023" category="paragraph"><block ref="8bddca6e47861c5daf7a84db4656b023" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e8288753cde5975be0cea5d26b70faa" category="paragraph"><block ref="2e8288753cde5975be0cea5d26b70faa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e6071bbf07da326e351b605b797203d" category="paragraph"><block ref="8e6071bbf07da326e351b605b797203d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="acbadad61e7ffc80605cdac2c224003e" category="paragraph"><block ref="acbadad61e7ffc80605cdac2c224003e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="74c1617600b118b68903b6dbbc37362b" category="list-text">À partir de la machine virtuelle DB ora_02, validez la base de données clonée et interrogez la table de test.</block>
  <block id="d0caaae21ff57a6da3b954572e19d5fc" category="paragraph">Ceci termine la démonstration de la sauvegarde, de la restauration et du clonage de la base de données Oracle dans VCF par SnapCenter .</block>
  <block id="653a98af1c9a004c51b4e7358f06db9a" category="summary">La solution fournit une vue d'ensemble et des détails sur le déploiement de la base de données PostgreSQL et la configuration HA/DR, le basculement, la resynchronisation basée sur la technologie NetApp SnapMirror intégrée à l'offre de stockage FSx ONTAP et la boîte à outils d'automatisation NetApp Ansible dans AWS.</block>
  <block id="e5f44d648a9d8c4db4e2b580d3370fbf" category="doc">TR-4956 : Déploiement automatisé de haute disponibilité PostgreSQL et reprise après sinistre dans AWS FSx/EC2</block>
  <block id="b997a984dad34493c1769c47b99c113b" category="paragraph">Cette solution fournit un aperçu et des détails sur le déploiement de la base de données PostgreSQL et la configuration HA/DR, le basculement et la resynchronisation basés sur la technologie NetApp SnapMirror intégrée à l'offre de stockage FSx ONTAP et à la boîte à outils d'automatisation NetApp Ansible dans AWS.</block>
  <block id="03784a7c5600d29113972955e602a944" category="inline-link-macro">Moteurs DB</block>
  <block id="1d8f1bdc206db1d9edd9fa46f02aa08c" category="paragraph">PostgreSQL est une base de données open source largement utilisée qui est classée numéro quatre parmi les dix moteurs de base de données les plus populaires par<block ref="6e2d0e5987102894082cbdb135303e4d" category="inline-link-macro-rx"></block> .  D’une part, PostgreSQL tire sa popularité de son modèle open source et sans licence tout en possédant des fonctionnalités sophistiquées.  D'autre part, étant donné son caractère open source, il existe un manque de conseils détaillés sur le déploiement de bases de données de niveau production dans le domaine de la haute disponibilité et de la reprise après sinistre (HA/DR), en particulier dans le cloud public.  En général, il peut être difficile de configurer un système PostgreSQL HA/DR typique avec veille à chaud et à chaud, réplication en continu, etc.  Tester l'environnement HA/DR en promouvant le site de secours, puis en revenant au site principal, peut perturber la production.  Il existe des problèmes de performances bien documentés sur le primaire lorsque les charges de travail de lecture sont déployées sur un serveur de secours à chaud en streaming.</block>
  <block id="3ba3cda3d91af072810327bfd691205c" category="paragraph">Dans cette documentation, nous démontrons comment vous pouvez vous débarrasser d'une solution HA/DR de streaming PostgreSQL au niveau de l'application et créer une solution HA/DR PostgreSQL basée sur le stockage AWS FSx ONTAP et les instances de calcul EC2 à l'aide de la réplication au niveau du stockage.  La solution crée un système plus simple et comparable et fournit des résultats équivalents par rapport à la réplication en continu au niveau de l'application PostgreSQL traditionnelle pour HA/DR.</block>
  <block id="e2543d0568626be8ab6adad9d9a78652" category="paragraph">Cette solution s'appuie sur la technologie de réplication au niveau du stockage NetApp SnapMirror éprouvée et mature, disponible dans le stockage cloud FSX ONTAP natif AWS pour PostgreSQL HA/DR.  Il est simple à mettre en œuvre avec une boîte à outils d’automatisation fournie par l’équipe NetApp Solutions.  Il offre des fonctionnalités similaires tout en éliminant la complexité et la baisse des performances sur le site principal avec la solution HA/DR basée sur le streaming au niveau de l'application.  La solution peut être facilement déployée et testée sans affecter le site principal actif.</block>
  <block id="f67bd3c0833b1d6bf90bb26a55f0a9ce" category="list-text">Déploiement HA/DR de niveau production pour PostgreSQL dans le cloud public AWS</block>
  <block id="420a5f3809172bb0dc9d501758fe94d2" category="list-text">Tester et valider une charge de travail PostgreSQL dans le cloud public AWS</block>
  <block id="c9d6a5076f52c5abce5f2003446ab211" category="list-text">Test et validation d'une stratégie PostgreSQL HA/DR basée sur la technologie de réplication NetApp SnapMirror</block>
  <block id="4a7bde15fa2753ce507cef621fd789b2" category="list-text">L'administrateur de base de données intéressé par le déploiement de PostgreSQL avec HA/DR dans le cloud public AWS.</block>
  <block id="c5e04df584e0992a5dbdae10d89ded97" category="list-text">L'architecte de solutions de base de données qui souhaite tester les charges de travail PostgreSQL dans le cloud public AWS.</block>
  <block id="ba083ee91407315383bac538162833ff" category="list-text">L'administrateur de stockage intéressé par le déploiement et la gestion des instances PostgreSQL déployées sur le stockage AWS FSx.</block>
  <block id="73ad058c671f3e1e105d92585f5ece7a" category="list-text">Le propriétaire de l'application qui souhaite mettre en place un environnement PostgreSQL dans AWS FSx/EC2.</block>
  <block id="bfa420253f0a67626a51ce1fa045944c" category="inline-image-macro">Cette image fournit une image détaillée de l’organisation de la solution cloud hybride PostgreSQL, y compris le côté sur site et le site AWS.</block>
  <block id="66b44e40d76d390f30ee34c066fa49a2" category="paragraph"><block ref="66b44e40d76d390f30ee34c066fa49a2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="011fedf4050817b8826f95a53d9555b2" category="cell">Version actuelle</block>
  <block id="0b70cdec9293f5625e5aaae9cdd38526" category="cell">Deux paires FSx HA dans le même VPC et la même zone de disponibilité que les clusters HA principaux et de secours</block>
  <block id="e3d6d4b94f9415561957f8c22f5fea2e" category="cell">Deux EC2 T2 xlarge comme instances de calcul principales et de secours</block>
  <block id="3008feb4272787858d4d27f7e8acb08b" category="cell">Contrôleur Ansible</block>
  <block id="26b9568eac10de69d574b84626735921" category="cell">VM Centos sur site/4vCPU/8G</block>
  <block id="7f151fffe66dad0021b1918085977654" category="cell">Une machine virtuelle pour héberger le contrôleur d'automatisation Ansible sur site ou dans le cloud</block>
  <block id="04cd32c57cf3229ae9374fc80cd50d96" category="cell">CentOS Linux version 8.2.2004 (Core)</block>
  <block id="63b6df5ba9d257bb0f6fbda5541d9171" category="cell">Hébergement du contrôleur Ansible déployé dans un laboratoire sur site</block>
  <block id="399bd1ee587245ecac6f39beaa99886f" category="cell">PostgreSQL</block>
  <block id="a3c20b719830dc5fda947c7b6f3e42be" category="cell">Version 14.5</block>
  <block id="f8c3d3a84c62eb07a1009aacdc46a50f" category="cell">L'automatisation extrait la dernière version disponible de PostgreSQL du dépôt yum postgresql.ora</block>
  <block id="202351f581b52c61061d29151c81d061" category="cell">Version 2.10.3</block>
  <block id="d222003898249e4a560d569acb0b5563" category="cell">Prérequis pour les collections et bibliothèques requises installées avec le manuel des exigences</block>
  <block id="b062352f67359ac6729601c60a9a57a2" category="list-text">*Sauvegarde, restauration et récupération de base de données PostgreSQL.*  Une base de données PostgreSQL prend en charge un certain nombre de méthodes de sauvegarde, telles qu'une sauvegarde logique à l'aide de pg_dump, une sauvegarde physique en ligne avec pg_basebackup ou une commande de sauvegarde du système d'exploitation de niveau inférieur, ainsi que des instantanés cohérents au niveau du stockage.  Cette solution utilise des instantanés de groupe de cohérence NetApp pour la sauvegarde, la restauration et la récupération des données de base de données PostgreSQL et des volumes WAL sur le site de secours.  Les instantanés de volume du groupe de cohérence NetApp séquencent les E/S au fur et à mesure de leur écriture dans le stockage et protègent l'intégrité des fichiers de données de la base de données.</block>
  <block id="a28c157802547f294e145f164007d752" category="list-text">*Instances de calcul EC2.*  Dans ces tests et validations, nous avons utilisé le type d’instance AWS EC2 t2.xlarge pour l’instance de calcul de la base de données PostgreSQL.  NetApp recommande d’utiliser une instance EC2 de type M5 comme instance de calcul pour PostgreSQL dans le déploiement, car elle est optimisée pour les charges de travail de base de données.  L'instance de calcul de secours doit toujours être déployée dans la même zone que le système de fichiers passif (de secours) déployé pour le cluster FSx HA.</block>
  <block id="d7aed04148f8b6ba1b91a7ed84d3fd10" category="list-text">*Déploiement de clusters de stockage HA FSx sur une ou plusieurs zones.*  Dans ces tests et validations, nous avons déployé un cluster FSx HA dans une seule zone de disponibilité AWS.  Pour le déploiement en production, NetApp recommande de déployer une paire FSx HA dans deux zones de disponibilité différentes.  Une paire HA de secours de reprise après sinistre pour la continuité des activités peut être configurée dans une région différente si une distance spécifique est requise entre le serveur principal et le serveur de secours.  Un cluster FSx HA est toujours provisionné dans une paire HA synchronisée dans une paire de systèmes de fichiers actifs-passifs pour fournir une redondance au niveau du stockage.</block>
  <block id="c6f1f46bc7e80b73e6d77a7f862e0625" category="list-text">*Placement des données et des journaux PostgreSQL.*  Les déploiements PostgreSQL typiques partagent le même répertoire racine ou les mêmes volumes pour les fichiers de données et les fichiers journaux.  Dans nos tests et validations, nous avons séparé les données et les journaux PostgreSQL en deux volumes distincts pour des raisons de performances.  Un lien logiciel est utilisé dans le répertoire de données pour pointer vers le répertoire ou le volume de journaux qui héberge les journaux WAL PostgreSQL et les journaux WAL archivés.</block>
  <block id="6e6dddb70c24cf218d0163faa3fb6a8f" category="list-text">*Minuteur de délai de démarrage du service PostgreSQL.*  Cette solution utilise des volumes montés NFS pour stocker le fichier de base de données PostgreSQL et les fichiers journaux WAL.  Lors du redémarrage d'un hôte de base de données, le service PostgreSQL peut essayer de démarrer alors que le volume n'est pas monté.  Cela entraîne l’échec du démarrage du service de base de données.  Un délai de 10 à 15 secondes est nécessaire pour que la base de données PostgreSQL démarre correctement.</block>
  <block id="ee79ca09fee704e63d972baa3c1319a2" category="list-text">*RPO/RTO pour la continuité des activités.*  La réplication des données FSx du serveur principal vers le serveur de secours pour la reprise après sinistre est basée sur ASYNC, ce qui signifie que le RPO dépend de la fréquence des sauvegardes Snapshot et de la réplication SnapMirror .  Une fréquence plus élevée de copie Snapshot et de réplication SnapMirror réduit le RPO.  Il existe donc un équilibre entre la perte potentielle de données en cas de catastrophe et le coût de stockage supplémentaire.  Nous avons déterminé que la copie Snapshot et la réplication SnapMirror peuvent être implémentées dans des intervalles de seulement 5 minutes pour le RPO, et PostgreSQL peut généralement être récupéré sur le site de secours DR en moins d'une minute pour le RTO.</block>
  <block id="cbeb123cc0c2c950a65a0c39f8412dc4" category="list-text">*Sauvegarde de la base de données.*  Une fois qu'une base de données PostgreSQL est implémentée ou migrée vers le stockage AWS FSx à partir d'un centre de données sur site, les données sont automatiquement synchronisées et mises en miroir dans la paire FSx HA pour plus de protection.  Les données sont en outre protégées par un site de secours répliqué en cas de sinistre.  Pour une conservation de sauvegarde ou une protection des données à plus long terme, NetApp recommande d'utiliser l'utilitaire PostgreSQL pg_basebackup intégré pour exécuter une sauvegarde complète de la base de données qui peut être portée vers le stockage blob S3.</block>
  <block id="d2598d7d09e212cad1231cd233c5f7dc" category="paragraph">Le déploiement de cette solution peut être effectué automatiquement à l’aide de la boîte à outils d’automatisation basée sur NetApp Ansible en suivant les instructions détaillées décrites ci-dessous.</block>
  <block id="7cfbd2a753781ece3080a48b0a56dad2" category="inline-link-macro">na_postgresql_aws_deploy_hadr</block>
  <block id="fce91619a13ef0fd71e3ffe1da6b5724" category="list-text">Lisez les instructions dans la boîte à outils d'automatisation READme.md<block ref="139722adb31b9bbcb8f923b221d78595" category="inline-link-macro-rx"></block> .</block>
  <block id="9a1c6815d4b1e7dc53acf5a926ab662e" category="list-text">Regardez la vidéo suivante.</block>
  <block id="5cf04a9bbc1dcc2fadd56ff48a750287" category="video-title">Déploiement et protection automatisés de PostgreSQL</block>
  <block id="c73ece4b7be6bb88143afe096ded59aa" category="list-text">Configurer les fichiers de paramètres requis<block ref="85cf4e6d42a71e693fd780c8b29accdd" prefix="(" category="inline-code"></block> ,<block ref="0c83664bfb17d8d2c0bbc3551297e488" prefix=" " category="inline-code"></block> ,<block ref="cb8e25d5e6251a20afadf4c5f4b626bb" prefix=" " category="inline-code"></block> ) en saisissant des paramètres spécifiques à l'utilisateur dans le modèle dans les sections correspondantes.  Utilisez ensuite le bouton Copier pour copier les fichiers sur l’hôte du contrôleur Ansible.</block>
  <block id="00aaa5ff8fbd0841ab311f7d9b1e4e78" category="section-title">Conditions préalables au déploiement automatisé</block>
  <block id="eb03aa8f939650517c1c56a6d0b9ad2f" category="list-text">À partir de la console AWS EC2, vous devez déployer deux instances Linux EC2, une comme serveur de base de données PostgreSQL principal sur le site principal et une sur le site DR de secours.  Pour la redondance de calcul sur les sites DR principal et de secours, déployez deux instances Linux EC2 supplémentaires en tant que serveurs de base de données PostgreSQL de secours.  Consultez le diagramme d’architecture dans la section précédente pour plus de détails sur la configuration de l’environnement.  Consultez également le<block ref="32934851360be4fd00506586c2cbc221" category="inline-link-macro-rx"></block> pour plus d'informations.</block>
  <block id="db01fe05d3d3aed74c46d6d290dd1cab" category="list-text">À partir de la console AWS EC2, déployez deux clusters de stockage HA FSx ONTAP pour héberger les volumes de base de données PostgreSQL.  Si vous n'êtes pas familier avec le déploiement du stockage FSx, consultez la documentation<block ref="3aa2f9e2ff4e46f232bd5ec63657d0d7" category="inline-link-macro-rx"></block> pour des instructions étape par étape.</block>
  <block id="7053a216e34d0f83be18a65f22ce62ce" category="list-text">Créez une machine virtuelle Centos Linux pour héberger le contrôleur Ansible.  Le contrôleur Ansible peut être situé sur site ou dans le cloud AWS.  S'il est situé sur site, vous devez disposer d'une connectivité SSH au VPC, aux instances EC2 Linux et aux clusters de stockage FSx.</block>
  <block id="aaac1ea7463ef799eaafc693b16b1f81" category="inline-link-macro">Premiers pas avec l'automatisation des solutions NetApp</block>
  <block id="5f064367e08e42aa3f3156a0eeaa0ca8" category="list-text">Configurez le contrôleur Ansible comme décrit dans la section « Configurer le nœud de contrôle Ansible pour les déploiements CLI sur RHEL/CentOS » de la ressource<block ref="bbf9e73d195c905907d3c05f6204320d" category="inline-link-macro-rx"></block> .</block>
  <block id="007fa0067fff9abdcd3e5b9ce9f20c06" category="list-text">Clonez une copie de la boîte à outils d’automatisation à partir du site public NetApp GitHub.</block>
  <block id="0ca21e6da2c89e765706d9a77f412898" category="list-text">À partir du répertoire racine de la boîte à outils, exécutez les playbooks prérequis pour installer les collections et bibliothèques requises pour le contrôleur Ansible.</block>
  <block id="df40cb16c4a24c991c143fbddeedd0bc" category="list-text">Récupérer les paramètres d'instance EC2 FSx requis pour le fichier de variables d'hôte de la base de données<block ref="ea858a411f1af6150f14b84176148712" prefix=" " category="inline-code"></block> et le fichier de variables globales<block ref="cb8e25d5e6251a20afadf4c5f4b626bb" prefix=" " category="inline-code"></block> configuration.</block>
  <block id="57c7844b0a299340cf9b625ce4a0745a" category="section-title">Configurer le fichier hosts</block>
  <block id="ed578fbfbec5634c4fa508cde5bc4e85" category="paragraph">Saisissez l'adresse IP de gestion du cluster FSx ONTAP principal et les noms d'hôtes des instances EC2 dans le fichier hosts.</block>
  <block id="6ef214427ca7b42201d0b0508f56df98" category="section-title">Configurez le fichier host_name.yml dans le dossier host_vars</block>
  <block id="77ac1da2cd356e327eb4bfc4c5a21bcc" category="section-title">Configurer le fichier global fsx_vars.yml dans le dossier vars</block>
  <block id="d56625a35762821798a2f3dd55ead05d" category="section-title">Déploiement de PostgreSQL et configuration HA/DR</block>
  <block id="943a124028d8f011631df765453640dc" category="paragraph">Les tâches suivantes déploient le service de serveur de base de données PostgreSQL et initialisent la base de données sur le site principal sur l'hôte du serveur de base de données EC2 principal.  Un hôte de serveur de base de données EC2 principal de secours est ensuite configuré sur le site de secours.  Enfin, la réplication du volume de base de données est configurée à partir du cluster FSx du site principal vers le cluster FSx du site de secours pour la reprise après sinistre.</block>
  <block id="08f6dd070ef1adfcbe3d7f3c70b08905" category="list-text">Créez des volumes de base de données sur le cluster FSx principal et configurez postgresql sur l'hôte d'instance EC2 principal.</block>
  <block id="bf22091495c9a041dcbdba3a97795095" category="list-text">Configurez l’hôte d’instance DR EC2 de secours.</block>
  <block id="f2dd18dfc82378171d01bdd3f956bc6f" category="list-text">Configurez le peering de cluster FSx ONTAP et la réplication du volume de base de données.</block>
  <block id="d681aef28cf1f863d0683a6896f12995" category="list-text">Consolidez les étapes précédentes dans un déploiement PostgreSQL et une configuration HA/DR en une seule étape.</block>
  <block id="fe217a2e30a79cebc71db6d5cb676a71" category="list-text">Pour configurer un hôte de base de données PostgreSQL de secours sur le site principal ou de secours, commentez tous les autres serveurs dans la section du fichier hosts [dr_postgresql], puis exécutez le playbook postgresql_standby_setup.yml avec l'hôte cible respectif (tel que psql_01ps ou l'instance de calcul EC2 de secours sur le site principal).  Assurez-vous qu'un fichier de paramètres d'hôte tel que<block ref="7c0f59fa275836ef9c4f28bec839acca" prefix=" " category="inline-code"></block> est configuré sous le<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> annuaire.</block>
  <block id="d3ecdce9695eacdb90ec80fa276865d4" category="section-title">Sauvegarde et réplication des snapshots de la base de données PostgreSQL vers le site de secours</block>
  <block id="3b320790a7f864b473e3baa86de785fe" category="paragraph">La sauvegarde et la réplication des instantanés de la base de données PostgreSQL vers le site de secours peuvent être contrôlées et exécutées sur le contrôleur Ansible avec un intervalle défini par l'utilisateur.  Nous avons validé que l’intervalle peut être aussi bas que 5 minutes.  Par conséquent, en cas de panne sur le site principal, il existe 5 minutes de perte de données potentielle si la panne se produit juste avant la prochaine sauvegarde instantanée planifiée.</block>
  <block id="421057a9fa982de2a1c1f79f5f03d750" category="section-title">Basculement vers le site de secours pour la reprise après sinistre</block>
  <block id="6ddcc779c247e4adb5b5a56a34edd75d" category="paragraph">Pour tester le système PostgreSQL HA/DR en tant qu'exercice DR, exécutez le basculement et la récupération de la base de données PostgreSQL sur l'instance de base de données EC2 de secours principale sur le site de secours en exécutant le playbook suivant.  Dans un scénario de reprise après sinistre réel, exécutez la même chose pour un basculement réel vers un site de reprise après sinistre.</block>
  <block id="724a617bc1dcc9b26fedb732f63a569d" category="section-title">Resynchroniser les volumes de base de données répliqués après le test de basculement</block>
  <block id="6a08e960bd12a4fcddfd08082fbece4b" category="paragraph">Exécutez la resynchronisation après le test de basculement pour rétablir la réplication SnapMirror du volume de base de données.</block>
  <block id="145966bc8e38b26c384abaf4e450f6a7" category="section-title">Basculement du serveur de base de données EC2 principal vers le serveur de base de données EC2 de secours en raison d'une défaillance de l'instance de calcul EC2</block>
  <block id="32d16eeba786f125b3c1e4750ad34e08" category="paragraph">NetApp recommande d'exécuter un basculement manuel ou d'utiliser un cluster de système d'exploitation bien établi qui peut nécessiter une licence.</block>
  <block id="a123daaac5749e4d0965aca160f0adfd" category="list-text">Automatisation des solutions NetApp</block>
  <block id="efd1209a6356c489b62e6d27e7914fb3" category="paragraph"><block ref="efd1209a6356c489b62e6d27e7914fb3" category="inline-link-macro-rx"></block></block>
  <block id="0208d173d842cfec8be8dad63b708882" category="summary">La solution fournit une vue d'ensemble et des détails sur la sauvegarde, la récupération et le clonage de la base de données PostgreSQL sur le stockage ONTAP dans le cloud public ou sur site via l'outil d'interface utilisateur de gestion de base de données NetApp SnapCenter .</block>
  <block id="86afe5e672706ebf07a25cefdaf65a83" category="doc">TR-5000 : Sauvegarde, récupération et clonage de bases de données PostgreSQL sur ONTAP avec SnapCenter</block>
  <block id="b0a4a4b16084579b9fb08abd84fc9200" category="paragraph">Dans cette documentation, nous présentons la protection et la gestion de la base de données PostgreSQL sur le stockage NetApp ONTAP dans le cloud public ou sur site avec un outil d'interface utilisateur SnapCenter très convivial.</block>
  <block id="ff6a47e55ebc21d8a14740c025974a4c" category="list-text">Sauvegarde et récupération de la base de données PostgreSQL déployée sur le stockage NetApp ONTAP dans le cloud public ou sur site.</block>
  <block id="0082c0db1963117376abf882b6d7b931" category="list-text">Gérez les instantanés de base de données PostgreSQL et les copies clonées pour accélérer le développement d'applications et améliorer la gestion du cycle de vie des données.</block>
  <block id="bfd25b929e933678d469923b32058ad4" category="list-text">Un administrateur de base de données qui souhaite déployer des bases de données PostgreSQL sur un stockage NetApp ONTAP .</block>
  <block id="0bd9df05e1b49801909e3e3c2420bc5e" category="list-text">Un architecte de solutions de base de données qui souhaite tester les charges de travail PostgreSQL sur le stockage NetApp ONTAP .</block>
  <block id="cc6d7c78a5d2bbe29ba930d9350cc604" category="list-text">Un administrateur de stockage souhaitant déployer et gérer des bases de données PostgreSQL sur le stockage NetApp ONTAP .</block>
  <block id="d86607cdb1a8c3ac3bbfd6e85898c33f" category="list-text">Un propriétaire d’application qui souhaite mettre en place une base de données PostgreSQL sur un stockage NetApp ONTAP .</block>
  <block id="6f510a5066e949832609cf0e09e0d8f6" category="inline-image-macro">Cette image fournit une image détaillée de la sauvegarde, de la récupération et du clonage de PostgreSQL avec SnapCenter.</block>
  <block id="c14c539bd15c52bf4cbdae2bfb825a79" category="paragraph"><block ref="c14c539bd15c52bf4cbdae2bfb825a79" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1672d070f346948fb25e819b40bb3ade" category="cell">NetApp AFF A220</block>
  <block id="624ebd65ecbd0b6f332df1b7eba2c765" category="cell">Version 9.12.1P2</block>
  <block id="8ca87a47b2fcf81dd40142a6a32994e5" category="cell">Étagère à disques DS224-12, module IOM12E, capacité 24 disques / 12 Tio</block>
  <block id="465ebb14ba960c957b9556c49d0b833c" category="cell">Cluster VMware vSphere</block>
  <block id="ca307f4e3ed38941bf4f8edd45ba05b8" category="cell">Version 6.7</block>
  <block id="a6ab034252d4b84947848f05595a81c2" category="cell">4 nœuds de calcul ESXi NetApp HCI H410C</block>
  <block id="f9fa8e4ec8d4dfd8388984164c7cfd07" category="cell">Base de données PostgreSQL</block>
  <block id="134c70e6eb14194780a6359f17cc4310" category="cell">Version 14.13</block>
  <block id="7dc0bda5f0004471cce88c42838480bc" category="cell">Cluster de bases de données PostgreSQL rempli avec le schéma HammerDB tpcc</block>
  <block id="5e62c3b48256169734f39b488e4f9d7a" category="cell">Séparez les données et enregistrez-les sur différents points de montage</block>
  <block id="37d7df2dbb98a2882a22b3ecade3b0e3" category="section-title">Configuration de la base de données PostgreSQL dans l'environnement de laboratoire</block>
  <block id="880863f85b2815165e7ac105506b208c" category="cell">psql01</block>
  <block id="1358bd019e82f5018e9e8cfc36ef6a41" category="cell">Serveur de base de données principal</block>
  <block id="e76e361abe7f4e8b566774c9bcca08f8" category="cell">/pgdata, /pglogs Montages de volumes NFS sur le stockage ONTAP</block>
  <block id="db3efa9cd192776a04c743c134f1916b" category="cell">psql02</block>
  <block id="3ecf136d176922e6f3931b519567c35f" category="cell">Cloner le serveur de base de données</block>
  <block id="3dc32132e76aaa74475ec3ea0d44d554" category="cell">/pgdata_clone, /pglogs_clone Le volume de clonage fin NFS est monté sur le stockage ONTAP</block>
  <block id="c09c0b95c6847bc3d6ff6de15094ac78" category="paragraph">Les sections suivantes fournissent des procédures étape par étape pour le déploiement, la configuration et la sauvegarde, la récupération et le clonage de la base de données PostgreSQL de SnapCenter sur le stockage NetApp ONTAP dans le cloud public ou sur site.</block>
  <block id="7e7efb7e7b278c5ce5253a775d1c8313" category="inline-link-macro">Déploiement automatisé de haute disponibilité PostgreSQL et reprise après sinistre dans AWS FSx/EC2</block>
  <block id="b3bff6e76bf725332f7c508ee39d953e" category="list-text">Le déploiement nécessite deux bases de données PostgreSQL existantes exécutées sur le stockage ONTAP , l'une comme serveur de base de données principal et l'autre comme serveur de base de données clone.  Pour référence sur le déploiement de la base de données PostgreSQL sur ONTAP, reportez-vous à TR-4956 :<block ref="8126b81fc116f151aaaff9f3a552fb15" category="inline-link-macro-rx"></block> , à la recherche du playbook de déploiement automatisé PostgreSQL sur l'instance principale.</block>
  <block id="e7e7b30ec48b23043db7c916c4df64a8" category="list-text">Provisionnez un serveur Windows pour exécuter l’outil d’interface utilisateur NetApp SnapCenter avec la dernière version.  Consultez le lien suivant pour plus de détails :<block ref="131e9eb1b10c693e5b08c2ea655bbc23" category="inline-link-macro-rx"></block> .</block>
  <block id="db810f259bfbdfcbd49b2e60f2b18bcd" category="paragraph">Nous vous recommandons de passer par en ligne<block ref="709a64672cb1b481d7e1d00abe15371a" category="inline-link-macro-rx"></block> avant de procéder à l'installation et à la configuration de SnapCenter : .  Ce qui suit fournit un résumé de haut niveau des étapes d'installation et de configuration du SnapCenter software pour PostgreSQL sur ONTAP.</block>
  <block id="7b8b31d8c8cb538a930b9ccb8f9f08a4" category="list-text">Depuis le serveur Windows SnapCenter , téléchargez et installez le dernier JDK Java à partir de<block ref="1a0bb7a886be273015991771cf1b1190" category="inline-link-macro-rx"></block> .  Désactiver le pare-feu Windows.</block>
  <block id="d12211135ff96a41848a6b55b09edc14" category="list-text">À partir du serveur Windows SnapCenter , téléchargez et installez ou mettez à jour les prérequis Windows SnapCenter 6.0 : PowerShell - PowerShell-7.4.3-win-x64.msi et package d'hébergement .Net - dotnet-hosting-8.0.6-win.</block>
  <block id="a76f9b9e5a7dcbabe5996af8a905ab9a" category="list-text">À partir du serveur Windows SnapCenter , téléchargez et installez la dernière version (actuellement 6.0) de l'exécutable d'installation de SnapCenter à partir du site de support NetApp :<block ref="f0da1a8fe9efadb5bab3d3f47fea4f67" category="inline-link-macro-rx"></block> .</block>
  <block id="1376d3475bdd5060c0e89308f0afdee0" category="list-text">À partir des machines virtuelles de base de données, activez l'authentification sans mot de passe SSH pour l'utilisateur administrateur<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> et ses privilèges sudo sans mot de passe.</block>
  <block id="0f0497916335b81b650f8e666e4f87fb" category="list-text">À partir des machines virtuelles de la base de données DB, arrêtez et désactivez le démon du pare-feu Linux.  Installez java-11-openjdk.</block>
  <block id="98485ba3e816ef2c376e735eaaca1996" category="list-text">À partir du serveur Windows SnapCenter , lancez le navigateur pour vous connecter à SnapCenter avec les informations d'identification de l'administrateur local Windows ou de l'utilisateur de domaine via le port 8146.</block>
  <block id="abd24445739e5a7754ac103143f18d3a" category="list-text">Depuis<block ref="c4646a4d73e5bf2cf1843bda6cd9f769" prefix=" " category="inline-code"></block> , créez des informations d'identification pour les cibles de gestion SnapCenter .  Dans ce cas d'utilisation de démonstration, il s'agit d'un administrateur utilisateur Linux pour la connexion à la machine virtuelle du serveur de base de données et d'informations d'identification Postgres pour l'accès à PostgreSQL.</block>
  <block id="8889f151bdda6708396be51876a8ff8d" category="paragraph"><block ref="8889f151bdda6708396be51876a8ff8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="677b94a89e12424ac5cbd93888053f2a" category="admonition">Réinitialisez le mot de passe de l'utilisateur PostgreSQL avant de créer les informations d'identification.</block>
  <block id="fd264fac64919245c8d695dbfd26a480" category="list-text">Depuis<block ref="5c6ab1284b6b7a5a7102854a969c99be" prefix=" " category="inline-code"></block> onglet, ajouter<block ref="dbc7df65565b4f36db0a469d1e54a440" prefix=" " category="inline-code"></block> avec les informations d'identification d'administrateur de cluster ONTAP .  Pour Azure NetApp Files, vous devrez créer des informations d’identification spécifiques pour l’accès au pool de capacité.</block>
  <block id="a7837619aa2e63c32a8ae9ba2572273c" category="paragraph"><block ref="3f452db27d93b3b21830089bd789d431" category="inline-image-macro-rx" type="image"></block> <block ref="36761126796ab413463a554efb0001ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="502b2a8980e06e76734f80a068d0b06c" category="list-text">Depuis<block ref="8124579383e90243e4b06323d2b37f8d" prefix=" " category="inline-code"></block> onglet, ajoutez les machines virtuelles PostgreSQL DB, qui installent le plugin SnapCenter pour PostgreSQL sur Linux.</block>
  <block id="07880f6edf31c3c2ac8b2a6b4b2081dd" category="paragraph"><block ref="ef48b75130c272576b13e5d1b6c5308c" category="inline-image-macro-rx" type="image"></block> <block ref="95682b2bc05155e7e29326f779550a7f" category="inline-image-macro-rx" type="image"></block> <block ref="8b708809baf85183238eec9c3f938af2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="529c952afb482fc77011cc6bd24f129d" category="list-text">Une fois le plugin hôte installé sur la machine virtuelle du serveur de base de données, les bases de données sur l'hôte sont automatiquement découvertes et visibles dans<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> languette.</block>
  <block id="83120b6ff085b221f66d9c0f071d5bdf" category="paragraph"><block ref="83120b6ff085b221f66d9c0f071d5bdf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ad7cd840125fb6f07e266c4bc3c1eb5" category="paragraph">Le cluster PostgreSQL initial découvert automatiquement affiche un cadenas rouge à côté de son nom de cluster.  Il doit être déverrouillé à l'aide des informations d'identification de la base de données PostgreSQL créées lors de la configuration de SnapCenter dans la section précédente.  Ensuite, vous devez créer et appliquer une politique de sauvegarde pour protéger la base de données.  Enfin, exécutez la sauvegarde manuellement ou à l’aide d’un planificateur pour créer une sauvegarde SnapShot.  La section suivante présente les procédures étape par étape.</block>
  <block id="96faaeef1e288b118e8b631cb8ab3aa2" category="list-text">Déverrouiller le cluster PostgreSQL.</block>
  <block id="2571003ef690a80c9c0bf4e39d778f57" category="list-text">Navigation vers<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, qui répertorie le cluster PostgreSQL découvert après l'installation du plugin SnapCenter sur la machine virtuelle de base de données.  Au départ, il est verrouillé et le<block ref="58d4fcf0afd65a0eb3857a2d3e254c8c" prefix=" " category="inline-code"></block> du cluster de bases de données s'affiche comme<block ref="4aa6066b3ed6d1b995450c6c7ad4a3d8" prefix=" " category="inline-code"></block> .</block>
  <block id="e414a538146036b1e6ca9525797b59e0" category="paragraph"><block ref="e414a538146036b1e6ca9525797b59e0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="77b1c18fa518724e1236456c858ba584" category="list-text">Cliquez sur le nom du cluster, puis,<block ref="b79be9bf75eddcfcf0eaf3eaae45af53" prefix=" " category="inline-code"></block> pour ouvrir la page de configuration des informations d'identification.</block>
  <block id="db726e19c56a88309707d21cd42936d6" category="paragraph"><block ref="db726e19c56a88309707d21cd42936d6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eb5db70e92095f4efa76e82f7939bbeb" category="list-text">Choisir<block ref="e8a48653851e28c69d0506508fb27fc5" prefix=" " category="inline-code"></block> informations d'identification créées lors de la configuration précédente de SnapCenter .</block>
  <block id="adcd09c398b23e75b6b2c5076322d334" category="paragraph"><block ref="adcd09c398b23e75b6b2c5076322d334" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76b9f4973756486f704884356cfe956d" category="list-text">Une fois les informations d'identification appliquées, le cluster sera déverrouillé.</block>
  <block id="13804670af016195555b93b9b804463c" category="paragraph"><block ref="13804670af016195555b93b9b804463c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c05439d1de79d9c345b3085afda8e4e6" category="list-text">Créez une politique de sauvegarde PostgreSQL.</block>
  <block id="c602ab5dbbe71f61cf71910ed3d1c0ea" category="list-text">Accéder à<block ref="51ac4bf63a0c6a9cefa7ba69b4154ef1" prefix=" " category="inline-code"></block> -<block ref="0b9e4bd17df66a1924ad40a4509486a6" prefix=" " category="inline-code"></block> et cliquez sur<block ref="03c2e7e41ffc181a4e84080b4710e81e" prefix=" " category="inline-code"></block> pour créer une politique de sauvegarde.</block>
  <block id="b9dfbe8d7e0d9c8d48609a4276e63f04" category="paragraph"><block ref="b9dfbe8d7e0d9c8d48609a4276e63f04" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e8b3ca749686249fcd8ef481245e875" category="list-text">Nommez la politique de sauvegarde.</block>
  <block id="13f2a9283fd70543178a65bf3549fb32" category="paragraph"><block ref="13f2a9283fd70543178a65bf3549fb32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="578d9a13279df5d9ea7b35c9fc8e7b98" category="list-text">Choisissez le type de stockage.  Le paramètre de sauvegarde par défaut devrait convenir à la plupart des scénarios.</block>
  <block id="61fa41332f45b70301d4b2d002c1438c" category="paragraph"><block ref="61fa41332f45b70301d4b2d002c1438c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca19e822e81192c8cf149ac143b265ae" category="list-text">Définissez la fréquence de sauvegarde et la conservation des SnapShot.</block>
  <block id="03f265d1356b7666cc080eb131e88f9e" category="paragraph"><block ref="03f265d1356b7666cc080eb131e88f9e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15f8e466c9cd82504fc845cd9332b11b" category="list-text">Option permettant de sélectionner la réplication secondaire si les volumes de base de données sont répliqués vers un emplacement secondaire.</block>
  <block id="f7e5cabbc57d98886ee55e1fca1b2c0f" category="paragraph"><block ref="f7e5cabbc57d98886ee55e1fca1b2c0f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04aae0c8fa5dccdca948a5fbe2dc70b8" category="list-text">Consultez le résumé et<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> pour créer la politique de sauvegarde.</block>
  <block id="0662f913c0e57dce93102b020558785e" category="paragraph"><block ref="4f2248ac7b84dbe69e1721ddfaf3f337" category="inline-image-macro-rx" type="image"></block> <block ref="c3a39cff8cb25160f7ed4a399072cdaa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c7a20b4d56ae0aaf45c44165115aeff" category="list-text">Appliquez une politique de sauvegarde pour protéger la base de données PostgreSQL.</block>
  <block id="d443cf7412994ece6c3ca26fd8e41564" category="list-text">Revenir à<block ref="be8545ae7ab0276e15898aae7acfbd7a" prefix=" " category="inline-code"></block> onglet, cliquez sur le nom du cluster pour lancer le workflow de protection du cluster PostgreSQL.</block>
  <block id="c8a83073208f72761bad05d7d00e4992" category="paragraph"><block ref="c8a83073208f72761bad05d7d00e4992" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9233033e8cb4e25b59690b7ce57b92b0" category="list-text">Accepter la valeur par défaut<block ref="d5b084b03b5aab3967861dd719a68968" prefix=" " category="inline-code"></block> .  De nombreuses options de cette page ne s'appliquent pas à la cible découverte automatiquement.</block>
  <block id="e505e2a9a93ad9795a3a2bc7da12bacb" category="paragraph"><block ref="e505e2a9a93ad9795a3a2bc7da12bacb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39c2db3deae4cef924f42236c1adbf9c" category="list-text">Appliquez la politique de sauvegarde qui vient d’être créée.  Ajoutez un calendrier de sauvegarde si nécessaire.</block>
  <block id="4ad9f9dbfbff9cfdceaa05a96c88267e" category="paragraph"><block ref="4ad9f9dbfbff9cfdceaa05a96c88267e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe3641a010d1ff6f82662dafebee518a" category="list-text">Fournissez un paramètre de courrier électronique si une notification de sauvegarde est requise.</block>
  <block id="8e651d737b144135225cf947df0c9dc8" category="paragraph"><block ref="8e651d737b144135225cf947df0c9dc8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b327947defdbe57ec5d913a55ca76ac4" category="list-text">Résumé de l'examen et<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> pour mettre en œuvre la politique de sauvegarde.  Le cluster PostgreSQL est désormais protégé.</block>
  <block id="739b5dc8cca62aa2e4a75d12a56f08e9" category="paragraph"><block ref="739b5dc8cca62aa2e4a75d12a56f08e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="77f6fec794580b2b4858c5f4e7509626" category="list-text">La sauvegarde est exécutée selon le calendrier de sauvegarde ou à partir de la topologie de sauvegarde du cluster, cliquez sur<block ref="9a9852432e1a7055c64fef6ff8f6dd65" prefix=" " category="inline-code"></block> pour déclencher une sauvegarde manuelle à la demande.</block>
  <block id="50edd2fb9b477367c86f22e57105f807" category="paragraph"><block ref="f37272777cd8868058d66bffd162513d" category="inline-image-macro-rx" type="image"></block> <block ref="b41e1a7e9ebfb657f9e30e2914353178" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d9ade48a065ecfbd218afb0eadbaf239" category="list-text">Surveiller le travail de sauvegarde à partir de<block ref="d2986ac8cb6bd55892099c1ffd6b1f6f" prefix=" " category="inline-code"></block> languette.  Il faut généralement quelques minutes pour sauvegarder une grande base de données et dans notre cas de test, il a fallu environ 4 minutes pour sauvegarder des volumes de base de données proches de 1 To.</block>
  <block id="e2757abc2f7f647849775a6428defa79" category="paragraph"><block ref="e2757abc2f7f647849775a6428defa79" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c6323ab216acd62daadbfba4b3ec72ce" category="paragraph">Dans cette démonstration de récupération de base de données, nous présentons une récupération ponctuelle du cluster de base de données PostgreSQL.  Tout d’abord, créez une sauvegarde SnapShot du volume de base de données sur le stockage ONTAP à l’aide de SnapCenter.  Ensuite, connectez-vous à la base de données, créez une table de test, notez l’horodatage et supprimez la table de test.  Lancez maintenant une récupération à partir de la sauvegarde jusqu'à l'horodatage lorsque la table de test est créée pour récupérer la table supprimée.  Ce qui suit capture les détails du flux de travail et de la validation de la récupération ponctuelle de la base de données PostgreSQL avec l'interface utilisateur SnapCenter .</block>
  <block id="30603c41394f7491df013d9baa50dbf6" category="list-text">Connectez-vous à PostgreSQL en tant que<block ref="e8a48653851e28c69d0506508fb27fc5" prefix=" " category="inline-code"></block> utilisateur.  Créez, puis supprimez une table de test.</block>
  <block id="eb62842761a932b02da6c4cf55d64467" category="list-text">Depuis<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, ouvrez la page de sauvegarde de la base de données.  Sélectionnez la sauvegarde SnapShot à restaurer.  Ensuite, cliquez sur<block ref="2bd339d85ee3b33e513359ce781b60cc" prefix=" " category="inline-code"></block> bouton pour lancer le flux de travail de récupération de la base de données.  Notez l’horodatage de la sauvegarde lorsque vous effectuez une récupération à un instant donné.</block>
  <block id="84942db335626931f46c547d8bea0443" category="paragraph"><block ref="84942db335626931f46c547d8bea0443" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dbe57512be8bd275e479f50fe17aa78f" category="list-text">Sélectionner<block ref="d4df13b7b67d28291a4967c9f76598a9" prefix=" " category="inline-code"></block> .  À l’heure actuelle, une ressource complète est la seule option.</block>
  <block id="dbdf41c5c64fe9bb8ad4a841622b0f8c" category="paragraph"><block ref="dbdf41c5c64fe9bb8ad4a841622b0f8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7de1ed3464b5a06c38a965757c7a04fe" category="list-text">Pour<block ref="ec47ba775b6cce559706e86f20fde009" prefix=" " category="inline-code"></block> , choisir<block ref="129686c9823d4288bb3b45b13af000ec" prefix=" " category="inline-code"></block> et saisissez l'horodatage jusqu'auquel la récupération est reportée.</block>
  <block id="28836d0a660cf881fa94228cd1026586" category="paragraph"><block ref="28836d0a660cf881fa94228cd1026586" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2eda5ae4387f3a70e2347a034cc9dbed" category="list-text">Le<block ref="ced009502445c11dc6162d3d7758d07b" prefix=" " category="inline-code"></block> permet l'exécution de scripts sur la base de données avant l'opération de restauration/récupération ou simplement la laisser noire.</block>
  <block id="25fe7f0bae341be80e154bb1b060bd74" category="paragraph"><block ref="25fe7f0bae341be80e154bb1b060bd74" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a4593198c96ed2233f198af8ced4bd7f" category="list-text">Le<block ref="5fa20aa4f779d0f14b1c9545ded7baa6" prefix=" " category="inline-code"></block> permet l'exécution de scripts sur la base de données après une opération de restauration/récupération ou simplement la laisser noire.</block>
  <block id="402b95e44ccba2b8b4b39ac5d260da72" category="paragraph"><block ref="402b95e44ccba2b8b4b39ac5d260da72" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ab8f9d86658caf8a09dc0ae54e251d7" category="paragraph"><block ref="3ab8f9d86658caf8a09dc0ae54e251d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="75088a6e38910cb6847b87bd57ba937a" category="list-text">Consultez le résumé du poste et<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> pour démarrer le travail de restauration.</block>
  <block id="65e7cbbf460e630c000608524748457d" category="paragraph"><block ref="65e7cbbf460e630c000608524748457d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="841c1b65187e697011e91b1db980de9c" category="paragraph"><block ref="841c1b65187e697011e91b1db980de9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="11ac2011dd9dc2421978bc449b6395c9" category="list-text">Connectez-vous à PostgreSQL en tant que<block ref="e8a48653851e28c69d0506508fb27fc5" prefix=" " category="inline-code"></block> utilisateur et valider que la table de test a été récupérée.</block>
  <block id="582af225dd8e934ba8d6926f2df8462c" category="paragraph">Le clonage d'un cluster de bases de données PostgreSQL via SnapCenter crée un nouveau volume cloné léger à partir d'une sauvegarde instantanée d'un volume de données de base de données source.  Plus important encore, c'est rapide (quelques minutes) et efficace par rapport à d'autres méthodes pour créer une copie clonée de la base de données de production pour prendre en charge le développement ou les tests.  Ainsi, il réduit considérablement les coûts de stockage et améliore la gestion du cycle de vie de votre application de base de données.  La section suivante illustre le flux de travail du clone de base de données PostgreSQL avec l'interface utilisateur SnapCenter .</block>
  <block id="583bd7e8d60315274fdc25c8e5c3f74b" category="list-text">Pour valider le processus de clonage.  Insérez à nouveau une ligne dans la table de test.  Exécutez ensuite une sauvegarde pour capturer les données de test.</block>
  <block id="2de672ab8b866fedc2bf90f571060980" category="list-text">Depuis<block ref="ddcf50c29294d4414f3f7c1bbc892cb5" prefix=" " category="inline-code"></block> onglet, ouvrez la page de sauvegarde du cluster de base de données.  Choisissez l’instantané de la sauvegarde de la base de données qui contient les données de test.  Ensuite, cliquez sur<block ref="d329fd777726c300d7a044e482b967e7" prefix=" " category="inline-code"></block> bouton pour lancer le workflow de clonage de base de données.</block>
  <block id="c0faaffb0e7463a446213cce24d0ecc0" category="paragraph"><block ref="c0faaffb0e7463a446213cce24d0ecc0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5baf4bc9cb40283c777aa0b045944fc" category="list-text">Sélectionnez un hôte de serveur de base de données différent du serveur de base de données source.  Choisissez un port TCP 543x inutilisé sur l’hôte cible.</block>
  <block id="3d0e90f74aab0b8c85bea9f019e5b5df" category="paragraph"><block ref="3d0e90f74aab0b8c85bea9f019e5b5df" category="inline-image-macro-rx" type="image"></block></block>
  <block id="836b4d8e8ec3303ebe8363f432c65bd4" category="list-text">Saisissez tous les scripts à exécuter avant ou après l'opération de clonage.</block>
  <block id="cbdb8d7fbf1e56310d090c03326e19d9" category="paragraph"><block ref="cbdb8d7fbf1e56310d090c03326e19d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9fbd7c2563256da70e05b443d82747d2" category="paragraph"><block ref="9fbd7c2563256da70e05b443d82747d2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c8a16d3a6bf836b8134ee4e876c688a6" category="list-text">Résumé de l'examen et<block ref="a20ddccbb6f808ec42cd66323e6c6061" prefix=" " category="inline-code"></block> pour lancer le processus de clonage.</block>
  <block id="e0146ad317cf32ca7f43031ac4936470" category="paragraph"><block ref="e0146ad317cf32ca7f43031ac4936470" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bf5ea7f8f55895d7d88247b7bce20c8" category="paragraph"><block ref="6bf5ea7f8f55895d7d88247b7bce20c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e11fa846760366244d9202b92d30955" category="paragraph"><block ref="8e11fa846760366244d9202b92d30955" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d0aaa839d8d5f53a06bb0f0c101731b6" category="list-text">Valider le cluster de base de données cloné sur l'hôte du serveur de base de données cible.</block>
  <block id="20084f3b89c7a2f2188c293bbfb15918" category="paragraph"><block ref="20084f3b89c7a2f2188c293bbfb15918" category="inline-link-macro-rx"></block></block>
  <block id="10b2aec15aae4d935355e27497e66c5f" category="summary">Série de vidéos et de démonstrations présentant les fonctionnalités de nombreuses solutions NetApp</block>
  <block id="0a280221d417c887229dcf2fb82d03da" category="doc">Regardez des vidéos et des démonstrations sur les solutions de bases de données pour les bases de données open source avec NetApp</block>
  <block id="c24eb24cff42f2f4cb18033c948982f1" category="paragraph">Explorez les solutions de base de données pour les bases de données open source avec NetApp.</block>
  <block id="5b70a7f45ddd32cacfe28af238662d3d" category="video-title">Déploiement automatisé de PostgreSQL, configuration de la réplication HA/DR, basculement, resynchronisation</block>
  <block id="6540af8f67ebb2e360ec621818ae2244" category="doc">Regardez des vidéos et des démonstrations sur les solutions de base de données pour Oracle avec NetApp</block>
  <block id="de87544950491bfc780917668ccef43c" category="paragraph">Explorez la bibliothèque vidéo complète de NetApp présentant des solutions de base de données pour Oracle avec NetApp.  Chaque collection met en évidence des solutions pratiques, des meilleures pratiques d’intégration et une gestion de base de données moderne pour les charges de travail d’entreprise.</block>
  <block id="bcd88b2fc5783b2d005dae0d02ee27b0" category="section-title">Déploiement et automatisation</block>
  <block id="3c1997d1c3baaf5cbfe55f26b8001c10" category="video-title">Clonage automatisé de la base de données Oracle à partir du serveur de secours DataGuard sur GCNV avec ASM</block>
  <block id="9efcc0ad3c93b238cc0495e3c87b715f" category="video-title">Déploiement automatisé d'Oracle 19c RAC sur FlexPod avec Ansible</block>
  <block id="bfc99c60db13c79f3bec1440ef75ea3a" category="section-title">Sauvegarde, récupération et clonage</block>
  <block id="938d46c61cee67ddb1711167aba9f463" category="video-title">Partie 4a - Clonage de base de données pour Dev/Test avec l'interface utilisateur SnapCenter à partir d'une copie de secours répliquée</block>
  <block id="09b285fbf39efff75f085bbadedde45e" category="video-title">Partie 4b - Sauvegarde, restauration et clonage de la base de données avec l'interface utilisateur de SnapCenter</block>
  <block id="45885d9d91879afc9c37a8b3e046aac4" category="video-title">Partie 4c - Sauvegarde et restauration de la base de données avec la sauvegarde et la récupération des applications SaaS BlueXP</block>
  <block id="befb671d4726ae8f3ef8dab781033dcc" category="video-title">Clonage de base de données Oracle multi-locataire enfichable à l'aide d'instantanés de stockage</block>
  <block id="5255e744c8d781088cf41d09d7e36c01" category="section-title">Modernisation et migration</block>
  <block id="17380577cd51f141b6dff37ee29d0805" category="video-title">Partie 1 - Modernisation d'Oracle avec le cloud hybride dans AWS et FSx ONTAP</block>
  <block id="369b9aec1beb25441dc7c7fb46bc0fc6" category="video-title">Partie 2a - Migration de base de données depuis un site local vers AWS à l'aide de la relocalisation automatisée de PDB avec une disponibilité maximale</block>
  <block id="2edb94ef9695015c5cd01fec59bcc782" category="video-title">Partie 2b - Migration de base de données depuis un environnement local vers AWS à l'aide de la console BlueXP via SnapMirror</block>
  <block id="f18e8bcc857ce0b078e974c3f0ccf5cb" category="section-title">Haute disponibilité, reprise après sinistre et réplication</block>
  <block id="59fa2b2110d3350efd262bd841c10975" category="video-title">Partie 3 - Configuration, basculement et resynchronisation automatisés de la réplication HA/DR de la base de données</block>
  <block id="e257c31f05ab40b766b6abee28bfd5fd" category="doc">Regardez des vidéos et des démonstrations sur les solutions de base de données pour SQL Server avec NetApp</block>
  <block id="ba4a53a72528eb0c7be5c86b38558399" category="paragraph">Explorez des vidéos sur les solutions de base de données pour la base de données SQL Server avec NetApp.</block>
  <block id="a5d647feb3f163e0333891f5484df24d" category="video-title">Déployer SQL Server sur AWS EC2 à l'aide d' Amazon FSx ONTAP</block>
  <block id="6efb1daf837012f866ff5d278e9fa94f" category="summary">Journal des modifications récentes apportées aux solutions de base de données NetApp .</block>
  <block id="4a0cf7e1e14c17dc208e75d79ec06134" category="doc">Nouveautés dans les solutions de base de données NetApp</block>
  <block id="83451d3d21ca1fb627e22751c0bc12c4" category="paragraph">Découvrez les nouveautés en matière de solutions de bases de données.</block>
  <block id="bab52961b58c502c7991d35556c25367" category="section-title">18 août 2025</block>
  <block id="47e26e0d5bbeef43c544dd9ae72e66b0" category="inline-link-macro">Famille de solutions NetApp</block>
  <block id="840125a006aee7dc0e8efd313e7b614e" category="paragraph">Le site NetApp Solutions est désormais le<block ref="f083b096ae581e72c5ab727ef8bd5732" category="inline-link-macro-rx"></block> , qui comprend les sites suivants :</block>
  <block id="e87298059f60b0844dc971f315184cf5" category="inline-link-macro">Solutions d'intelligence artificielle NetApp</block>
  <block id="ac42ca0e1f789a8367b40d9824726778" category="list-text"><block ref="ac42ca0e1f789a8367b40d9824726778" category="inline-link-macro-rx"></block></block>
  <block id="9cae574c1dc1ca50a949c1e889637ba7" category="inline-link-macro">Solutions de conteneurs NetApp</block>
  <block id="31d1ae0120af1d791e4320e17eb10687" category="list-text"><block ref="31d1ae0120af1d791e4320e17eb10687" category="inline-link-macro-rx"></block></block>
  <block id="3947417923606d3599bcba7a82f71f1b" category="inline-link-macro">Solutions de gestion de données NetApp</block>
  <block id="56c054d4bb919790ebe189f7a7d11c3c" category="list-text"><block ref="56c054d4bb919790ebe189f7a7d11c3c" category="inline-link-macro-rx"></block></block>
  <block id="9bb3e58246c5654a6d8e08a7bddd60ec" category="list-text">Solutions de base de données NetApp</block>
  <block id="a37049a2a78422ac5627c7987db5c337" category="inline-link-macro">Solutions de cloud public et hybride NetApp</block>
  <block id="144417321224efbf0afc2ae665a84a46" category="list-text"><block ref="144417321224efbf0afc2ae665a84a46" category="inline-link-macro-rx"></block></block>
  <block id="2729aba3baa90aaaed37b282e515f6e4" category="inline-link-macro">Solutions NetApp pour SAP</block>
  <block id="5e056430559fb77ac659dbb71ecce256" category="list-text"><block ref="5e056430559fb77ac659dbb71ecce256" category="inline-link-macro-rx"></block></block>
  <block id="4ead908c2ca3b4c7156e0e703642415d" category="inline-link-macro">Solutions de virtualisation NetApp</block>
  <block id="3100186c9f62cec85ac05309c5d10217" category="list-text"><block ref="3100186c9f62cec85ac05309c5d10217" category="inline-link-macro-rx"></block></block>
  <block id="279cfd690e69d2bed1bbe733dc99b31e" category="sidebar">Les solutions de base de données NetApp sont un ensemble de fonctionnalités stratégiques et technologiques qui démontrent les capacités du stockage NetApp dans les principales bases de données d'entreprise.</block>
  <block id="4156bf7ad90273c885ab4d182a53809a" category="sidebar">Les solutions de base de données d'entreprise NetApp sont un ensemble de fonctionnalités stratégiques et technologiques qui démontrent les capacités du stockage NetApp dans les principales bases de données d'entreprise.</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">Commencer</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">Quoi de neuf</block>
  <block id="d6b9ea32b921a9f56de32062ba4b94f3" category="sidebar">Blogs</block>
  <block id="de42653a3a04e4aefa258105632011d4" category="sidebar">Vidéos et démos</block>
  <block id="ae5730a15c3528c9703ea67ae24a7833" category="sidebar">Oracle pour Amazon FSx pour ONTAP</block>
  <block id="9727d6d2e0af471edc45d5f975582f75" category="sidebar">Déployer Oracle HA dans AWS EC2</block>
  <block id="9a512e395c60d9ecfa257afc805c4ec6" category="sidebar">Déployer Oracle sur FSx ONTAP</block>
  <block id="8c2c4d00957841c79c4d6ac4b4d0b132" category="sidebar">Exécutez Oracle sur VMware Cloud avec FSx ONTAP</block>
  <block id="b97556532b01ad38b054552c28318ba8" category="sidebar">Réduisez les coûts de Data Guard avec FSx ONTAP</block>
  <block id="e715a8cac89c930fe15882a3b18971bf" category="sidebar">Récupérer et cloner Oracle VLDB sur FSx ONTAP</block>
  <block id="571c97c7b1dee69efb848be73bb1c028" category="sidebar">Protéger et déployer Oracle sur FSx/EC2</block>
  <block id="090508cde04f264f9c230748f68cd0ff" category="sidebar">Oracle pour Azure NetApp Files</block>
  <block id="150bc25b813aa8a3e09febd108a03d47" category="sidebar">Déployer Oracle VLDB sur ANF</block>
  <block id="974f0493d067b45b7e91b94229fc1176" category="sidebar">Réduisez les coûts de Data Guard avec ANF</block>
  <block id="c06329dff30487420677a3c25b155195" category="sidebar">Récupérer et cloner Oracle VLDB sur ANF</block>
  <block id="c106be60d8793552a7922fe7d84ef632" category="sidebar">Déployer Oracle sur Azure NetApp Files avec NFS</block>
  <block id="6234d7c091322d248f7d708876dce5a6" category="sidebar">Déployer et migrer Oracle sur ANF</block>
  <block id="99ef5097c44400a46470fd5f23637be4" category="sidebar">Oracle pour Google Cloud</block>
  <block id="67a1a09611116d04603468dc094fb6d0" category="sidebar">Optimiser la sauvegarde et la récupération Oracle VLDB sur Google Cloud</block>
  <block id="8174debba33e64bd04a88069853151ad" category="sidebar">Déployer Oracle VLDB avec Data Guard sur Google Cloud</block>
  <block id="e6f0c3be7bd07e8ec3d6f27fd281636f" category="sidebar">Évaluer les solutions de stockage Oracle sur Google Cloud</block>
  <block id="1bb0fdcb752942858433bb15a81fd3e1" category="sidebar">Solutions de serveur SQL pour le cloud et sur site</block>
  <block id="2d3ee711b69d74e8c520788ec742835f" category="sidebar">Sauvegarder et récupérer SQL Server sur AWS FSx ONTAP</block>
  <block id="a85dc1fbad340687161342496dc0d487" category="sidebar">Exécutez SQL Server sur AWS EC2 avec FSx ONTAP</block>
  <block id="9240b0a4d8bbf9eb8d2ddb8dd3296260" category="sidebar">Exécuter SQL Server sur Azure NetApp Files</block>
  <block id="236922ec8febdbdaff2ea5410b84b2c2" category="sidebar">Migrer la charge de travail SQL sur site vers FSx ONTAP</block>
  <block id="39067cf084f47533139355bf90aa7629" category="sidebar">SAP avec Microsoft SQL Server sur Windows à l'aide de données en cluster ONTAP</block>
  <block id="13d3aa69bc69a44fa5de6d2bb88a7fb7" category="sidebar">Moderniser Microsoft SQL Server</block>
  <block id="3ca11780da61eb707393ab7209c1c402" category="sidebar">Meilleures pratiques pour Microsoft SQL Server avec ONTAP</block>
  <block id="d725f17f7af1db4c6409301f03741431" category="sidebar">Meilleures pratiques pour Microsoft SQL Server avec la série EF</block>
  <block id="015e528254d9c6d2f8768070035f3bb6" category="sidebar">Solutions de bases de données cloud hybrides</block>
  <block id="a1963b628ec07c1a4ff0d4f55af534cf" category="sidebar">Déployer et protéger Oracle RAC avec vVols dans VCF</block>
  <block id="d40fb31cd591f68543a4b63d4de565f7" category="sidebar">Déployer et protéger Oracle SI avec vVols dans VCF</block>
  <block id="64862bc8f3a9cee846ff01326a559437" category="sidebar">Déployer Oracle sur NetApp C-Series avec NFS</block>
  <block id="ffc819195b5fafcc848fb445d9a256b9" category="sidebar">Déployer Oracle sur NetApp ASA avec iSCSI</block>
  <block id="28e1849f5511a949a329191836e34c92" category="sidebar">Déployer Oracle19c sur ONTAP avec automatisation</block>
  <block id="8a45683486bc8b478a3d7b91a71d448c" category="sidebar">Exécutez des bases de données Oracle sur NetApp EF-Series</block>
  <block id="8a05b26b3229c5c737c8a6dc618e4f1f" category="sidebar">Bases de données open source</block>
  <block id="525ee0a5080d64b5df771a5ff66fdf4e" category="sidebar">Déployer la base de données PostgreSQL et configurer la reprise après sinistre dans AWS FSx/EC2</block>
  <block id="290294dfbb12a5801fa4969156ac736c" category="sidebar">Base de données MySQL sur ONTAP</block>
  <block id="6fabfc29f0b3a196c8407c190bb67293" category="sidebar">SnapCenter pour les bases de données</block>
  <block id="4c6c494e6accfb5f79a5a55a9f502111" category="sidebar">Sauvegarder et cloner PostgreSQL sur ONTAP avec SnapCenter</block>
  <block id="1c4ec2d5f9bd3129e17f35c67d064ead" category="sidebar">Configurer, cloner et actualiser les bases de données Oracle avec l'automatisation</block>
  <block id="e10888e7f9e324aa90d57c8362b94b43" category="sidebar">Déploiement automatisé d'Oracle dans Microsoft Azure NetApp File</block>
  <block id="4e6197d31c21c5dc2048c6f623a132e5" category="sidebar">Déployer des solutions de bases de données cloud hybrides avec SnapCenter</block>
  <block id="ff60f9e1276c69fda13b3a4f3c170eea" category="sidebar">Boîtes à outils d'automatisation de bases de données</block>
  <block id="b4878d2bd5728448bc4d4d566ced64bb" category="sidebar">Automatisez le cycle de vie des clones Oracle sur GCNV avec ASM</block>
  <block id="c0eba4be997131d4466a5f0ca8da4463" category="sidebar">Automatisez le cycle de vie des clones Oracle sur ANF avec ASM</block>
  <block id="935567dbc5e5dface4969d172a289ca5" category="sidebar">Migrer Oracle avec relocalisation PDB</block>
  <block id="2a3ce7c986d03a29d8e02470ec34e396" category="sidebar">Déployer Oracle HA/DR avec Amazon FSx for NetApp ONTAP</block>
  <block id="01d3110a47518d755aa71530c30135c9" category="sidebar">Provisionner Amazon FSx for NetApp ONTAP et EC2</block>
  <block id="7350e91854bfa849be06d5cd48d8321d" category="sidebar">Déployer PostgreSQL dans AWS</block>
  <block id="e95b75f557af9310f3d9c6299286a533" category="sidebar">Demandes de solutions et commentaires</block>
  <block id="776ab15fef436c9315c14738509d299e" category="sidebar">Proposer une nouvelle solution</block>
  <block id="cfdaac8ef24ac5b2612570c34da00954" category="sidebar">Fournir un retour sur la solution</block>
  <block id="74f147b5050a83e2f17403b8cf652de0" category="sidebar">Découvrez la bibliothèque vidéo complète de NetApp présentant les solutions de base de données Oracle, SQL Server et les bases de données open source. Chaque collection se concentre sur des cas d’utilisation et des scénarios d’intégration spécifiques.</block>
  <block id="1a10d5f94107a8b01986811847c40bb3" category="sidebar">Vidéos sur les solutions de base de données NetApp</block>
  <block id="c0a394fcf82b9c71d6d09426d3c2ff7a" category="sidebar">Explorez des vidéos sur les solutions de bases de données Oracle, SQL Server, open source et hybrides avec NetApp.</block>
  <block id="80d12e518e5e57b41940fc60b9767799" category="sidebar">Vidéos sur les bases de données Oracle</block>
  <block id="e005cc668ae927bb11468eaea8939fd3" category="sidebar">Haute disponibilité, reprise après sinistre et réplication</block>
  <block id="84522df2c422f53bb8c28b69e33d81f5" category="sidebar">Vidéos sur SQL Server et les bases de données open source</block>
  <block id="9ecb8eb6518d5fb0d48187a3a8fe6f01" category="sidebar">Vidéos sur SQL Server</block>
  <block id="e538067572baf04e5a80c1a3dfdee826" category="sidebar">Vidéos sur les bases de données open source</block>
  <block id="114dd74d303c1a7a0ca71b00760474ba" category="sidebar">Solutions de bases de données</block>
  <block id="7971b65756ed6daabdb37d67874e0dbb" category="sidebar">Cloud AWS</block>
  <block id="f79dc2068fcf2265241e4f9f6d3892b8" category="sidebar">Oracle HA dans AWS EC2 avec Pacemaker Clustering et FSx ONTAP</block>
  <block id="42f50c71268208e2ec344d3cd2a9a691" category="sidebar">Déploiement Oracle simplifié et automatisé sur Amazon FSx ONTAP avec iSCSI</block>
  <block id="64de5a7dfd6282ca282a38cee5f5a0b6" category="sidebar">Déploiement Oracle simplifié et automatisé sur Amazon FSx ONTAP avec iSCSI</block>
  <block id="8d4ab3d80a936103be6c5ad407f12335" category="sidebar">Oracle dans VMware Cloud sur AWS avec FSx ONTAP monté en invité</block>
  <block id="571c3c1a53637956756540259d1b4c11" category="sidebar">Réduction des coûts d'Oracle Active Data Guard avec Amazon FSx ONTAP</block>
  <block id="998e18ee910f7610303d504847d5f06d" category="sidebar">Réduction des coûts d'Oracle Active Data Guard avec Amazon FSx ONTAP</block>
  <block id="1f5891fe66fe85319fc1d076ceb8c604" category="sidebar">Récupération rapide et clonage d'Oracle VLDB avec Amazon FSx ONTAP</block>
  <block id="6e6fa0d6a0c9cc4ff7b09a8dfc32bd84" category="sidebar">Récupération rapide et clonage d'Oracle VLDB avec Amazon FSx ONTAP</block>
  <block id="9755d896e4f9ca9108f85fb00c9429d2" category="sidebar">Oracle 19c en redémarrage autonome sur AWS FSx/EC2 avec NFS/ASM</block>
  <block id="309f62df43e29b5bb0a1ec7e6c3e1c43" category="sidebar">Déploiement et protection de la base de données Oracle sur AWS FSx/EC2 avec iSCSI/ASM</block>
  <block id="5081e4816da4cb3b09aa6fc9e618b15f" category="sidebar">Déploiement et protection de bases de données Oracle sur AWS FSx/EC2 avec iSCSI/ASM</block>
  <block id="8dccbd41bb4436a6cf63741ef9f9f9d5" category="sidebar">Bonnes pratiques de déploiement de bases de données Oracle sur AWS EC2 et FSx</block>
  <block id="d842058c0e8814799a596324a98e5323" category="sidebar">Déploiement de bases de données Oracle sur AWS EC2 et FSx : bonnes pratiques</block>
  <block id="5ac7b083aa99c6ec0d7a272c37dc611d" category="sidebar">Procédures de déploiement</block>
  <block id="71ab9d8f34c9ab92ef83627b823e9825" category="sidebar">Gestion de base de données</block>
  <block id="c3b88d5ff29715f5f8dd3c907b3f1bc3" category="sidebar">Migration de base de données</block>
  <block id="83399f78bd83aa045ee6f6e7d51bc5fa" category="sidebar">Cloud Azure</block>
  <block id="be9d5210892e9637d00ac53e1404724d" category="sidebar">Implémentation Oracle VLDB à haut débit sur ANF</block>
  <block id="443d052ccf1b623e95a76c453c9b19f4" category="sidebar">Implémentation Oracle VLDB à haut débit sur ANF</block>
  <block id="2fadf2cda0f69a4641f81c17acb81602" category="sidebar">Réduction des coûts d'Oracle Active Data Guard avec Azure NetApp Files</block>
  <block id="967c88214a8b348dcebff5cfc0b978fb" category="sidebar">Récupération rapide d'Oracle VLDB avec fusion incrémentielle sur ANF</block>
  <block id="c90c43251c42b6636335f78ddce9094b" category="sidebar">Récupération rapide d'Oracle VLDB avec fusion incrémentielle sur ANF</block>
  <block id="40aa34ba60592cc4b4c8b00b9ccf6240" category="sidebar">Déploiement Oracle simplifié et automatisé sur Azure NetApp Files avec NFS</block>
  <block id="574c3ced17d944413584e89df38ac5c5" category="sidebar">Meilleures pratiques de déploiement et de migration de bases de données Oracle pour ANF</block>
  <block id="0e6883e4af152807aa920a0eeadf0482" category="sidebar">Meilleures pratiques de déploiement et de migration de bases de données Oracle pour ANF</block>
  <block id="56ef2682280ac110060b881925a87b80" category="sidebar">Google Cloud</block>
  <block id="bf134cab228a61f0b253ca70ec608fd6" category="sidebar">Optimisez la sauvegarde et la récupération Oracle VLDB avec la fusion incrémentielle sur serveur sur Google Cloud NetApp Volumes</block>
  <block id="6484ffcad1504019ca921cf712d4cdde" category="sidebar">Optimisez la sauvegarde et la récupération Oracle VLDB avec la fusion incrémentielle sur serveur sur les Google Cloud NetApp Volumes</block>
  <block id="8924310da0def7ad0ddcbe7d9739a158" category="sidebar">Implémentation Oracle VLDB à haut débit sur Google Cloud NetApp Volumes avec Data Guard</block>
  <block id="30a12495834244cfa9f600ebbccc6196" category="sidebar">Implémentation Oracle VLDB à haut débit sur GCNV avec Data Guard</block>
  <block id="ca93abca0899efda7bb04e7579656e75" category="sidebar">Présentation : base de données Oracle avec Google Cloud NetApp Volumes</block>
  <block id="ea9d5b870a4d8ca5671f6250b7d07541" category="sidebar">Sur site et cloud hybride</block>
  <block id="2b484f28f18f20d85d20028c6ee55ab4" category="sidebar">Déploiement et protection d'Oracle RAC dans VCF avec vVols</block>
  <block id="9f61fd2b757f5758c07d0a9a117098f0" category="sidebar">Déploiement et protection d'Oracle RAC dans VCF avec vVols</block>
  <block id="0826b4c0567cf966831f76745a9081b2" category="sidebar">Déploiement et protection d'Oracle SI dans VCF avec vVols</block>
  <block id="836cb906f52ed0e393be18cb078522a3" category="sidebar">Déploiement et protection d'Oracle SI dans VCF avec vVols</block>
  <block id="d4d9306febc80e3bab7d6accb928772c" category="sidebar">Déploiement Oracle simplifié et automatisé sur NetApp C-Series avec NFS</block>
  <block id="1299a93be9dfa863b3a25fbfb997e6f6" category="sidebar">Déploiement Oracle simplifié et automatisé sur NetApp ASA avec iSCSI</block>
  <block id="366a32367c76504b66f48c17b771a662" category="sidebar">Déploiement Oracle simplifié et automatisé sur NetApp ASA avec iSCSI</block>
  <block id="5a4f68b5b79ab9178902e8b5d02bad52" category="sidebar">Bases de données Oracle 19c RAC sur FlexPod DataCenter avec Cisco UCS et NetApp AFF A800 sur FC</block>
  <block id="14c4dbb7c61081eee1c499c4cf138c96" category="sidebar">Bases de données Oracle 19c RAC sur FlexPod DataCenter avec Cisco UCS et NetApp AFF A800 sur FC</block>
  <block id="0a2866cc3e2ba203c7e2e3ebeca395be" category="sidebar">SAP avec Oracle sur UNIX et NFS avec NetApp Clustered Data ONTAP</block>
  <block id="c6264b98810c0566ac11ca7130b5e0dc" category="sidebar">Déploiement automatisé d'Oracle 19c pour ONTAP sur NFS</block>
  <block id="e9dcec3e531a3cec5ee733f23baab91d" category="sidebar">Déploiement automatisé d'Oracle 19c pour ONTAP sur NFS</block>
  <block id="094d840522ee81c5fc0f61fd15568853" category="sidebar">Mise en route et exigences</block>
  <block id="a02e4cb19544ad716abaf594270969ad" category="sidebar">Déploiement automatisé d'Oracle 19c AWX/Tower</block>
  <block id="ef1f1c0442b12bd50bf4f9444a78c10f" category="sidebar">Déploiement automatisé de l'interface de ligne de commande Oracle 19c</block>
  <block id="0ac88e3b9d83acd02b3e66ecdd21d42c" category="sidebar">Protection automatisée des données Oracle</block>
  <block id="3e9d3644ee18a66c51ddd16b668eaa5a" category="sidebar">Protection automatisée des données Oracle</block>
  <block id="76476f02ec31c850419864c41ee54a23" category="sidebar">Protection automatisée des données Oracle pour AWX/Tower</block>
  <block id="e994e7cce04879f77e879252b05c2146" category="sidebar">Bases de données Oracle sur NetApp EF-Series</block>
  <block id="78898e52fcbdc5337204a384f2456d4f" category="sidebar">Microsoft SQL Server</block>
  <block id="3d9841f85bcf366fc5a9893eb039254a" category="sidebar">Sauvegarde et récupération pour Microsoft SQL Server sur AWS FSx ONTAP</block>
  <block id="62fdfaf6f9dd1d46f2f23b4b2e1bb196" category="sidebar">Sauvegarde et récupération pour Microsoft SQL Server sur AWS FSx ONTAP</block>
  <block id="148d2aaa0a7c8052b05acda85cf8f070" category="sidebar">SQL Server sur AWS EC2 avec Amazon FSx ONTAP</block>
  <block id="760b7d532df381143dc946fd59bf0b62" category="sidebar">SQL Server sur Azure NetApp Files</block>
  <block id="61def2ac347af2f10fd60cd67052a311" category="sidebar">Conception de référence (conception de haut niveau en temps réel)</block>
  <block id="2c09e46a03d2358a54b88941caf365b6" category="sidebar">SAP avec Microsoft SQL Server sur Windows à l'aide de Clustered Data ONTAP</block>
  <block id="89447eb7454239e11376250fa04a88f7" category="sidebar">SAP avec Microsoft SQL Server sous Windows à l'aide de Clustered Data ONTAP</block>
  <block id="7c02456b91ace7501ea6f18d1657dcf7" category="sidebar">Modernisation de Microsoft SQL Server</block>
  <block id="9d816887d40a5251f5427d7cacd2c573" category="sidebar">Guide des meilleures pratiques pour Microsoft SQL Server avec ONTAP</block>
  <block id="61baed6667c7e3ae83d95c8b1c634c2e" category="sidebar">Guide des meilleures pratiques pour Microsoft SQL Server avec NetApp EF-Series</block>
  <block id="5c008a8422e884d74da1d4b50a7ada55" category="sidebar">Guide des meilleures pratiques pour Microsoft SQL Server avec NetApp EF-Series</block>
  <block id="610c3d73e215aa97295b0176a950b976" category="sidebar">Déploiement automatisé de PostgreSQL HA et DR dans AWS FSx/EC2</block>
  <block id="1ae3eccde141a365ede8f18b188ae588" category="sidebar">Déploiement automatisé de PostgreSQL HA et DR dans AWS FSx/EC2</block>
  <block id="880e1cadc75e63cb5d99a01b614c2c5f" category="sidebar">Base de données MySQL sur NetApp ONTAP</block>
  <block id="a778c2474db5f0263c74583332c37399" category="sidebar">Base de données MySQL sur NetApp ONTAP</block>
  <block id="c6846442fcc36b333d5b22aac4e0fef5" category="sidebar">Sauvegarde, récupération et clonage PostgreSQL sur ONTAP</block>
  <block id="2de363e9c11e72fe1c95728c8cf3e449" category="sidebar">Cycle de vie du clone Oracle de SnapCenter</block>
  <block id="d7ea87ae176596e65c20709701590891" category="sidebar">Sauvegarde, récupération et clonage de bases de données Oracle sur ANF</block>
  <block id="8a708dc28e6881f4ca61b1dac86fb745" category="sidebar">BlueXP SaaS pour Oracle - Azure</block>
  <block id="72fabf1add0034062f091db87a4723b3" category="sidebar">BlueXP SaaS pour Oracle - AWS</block>
  <block id="5f95fbda20eeb9ce0859afe2ac6f42fa" category="sidebar">Exigences de la solution</block>
  <block id="59f8ae0d5c4ba13dee4828e2727c8859" category="sidebar">Premiers pas sur site</block>
  <block id="73eef3ab50fbcc7a042deef357b9fa33" category="sidebar">Études de cas clients réels</block>
  <block id="04b7cda1d19d446c6e853fc038db5a5e" category="sidebar">Une entreprise de produits médicaux migre sa charge de travail SQL sur site vers Amazon FSx ONTAP pour réduire ses coûts</block>
  <block id="ffb66354e0d5475c4786ced5e4cb81cb" category="sidebar">Cycle de vie automatisé du clone Oracle VLDB avec sauvegarde d'image sur le serveur</block>
  <block id="2dbf851934e823cf50e5fcbe910b69d5" category="sidebar">Cycle de vie automatisé des clones Oracle sur GCNV avec ASM</block>
  <block id="eca7922520811a928d6d61402cc26bcc" category="sidebar">Cycle de vie automatisé des clones Oracle sur ANF avec ASM</block>
  <block id="5fd324f4fd7639d5700e6b973c7a6840" category="sidebar">Cycle de vie du clone Oracle de SnapCenter</block>
  <block id="f4d8825927d11df25770df5e00d6a52e" category="sidebar">Migration Oracle</block>
  <block id="d8c849deb1477c8cfaee422dd193388f" category="sidebar">Oracle HA/DR avec AWS FSx ONTAP</block>
  <block id="20f7635cace61e3ed7b6537e403c5ceb" category="sidebar">Provisionnement AWS FSx ONTAP et EC2</block>
  <block id="409c22336fbfc84b2d2683964f89c253" category="sidebar">Boîtes à outils de dimensionnement de base de données</block>
  <block id="6f0e1094a5c97fb9eb0f2f06af18b3f7" category="sidebar">Guide de dimensionnement Oracle pour ANF</block>
  <block id="554cfab3938e21d9270bd6b75931f96f" category="sidebar">Vidéos</block>
  <block id="5ffbe0deb5b41148dc58e63a20df8411" category="sidebar">bases de données Oracle</block>
  <block id="39a2008d48dcc4f61288e4668979970c" category="sidebar">bases de données SQL Server</block>
  <block id="22d04ecae9fae88d0b8d4548a46a545b" category="sidebar">Automatisation des demandes</block>
</blocks>