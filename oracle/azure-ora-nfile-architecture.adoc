---
sidebar: sidebar 
permalink: oracle/azure-ora-nfile-architecture.html 
summary: Cette section décrit une architecture de solution de déploiement de base de données Oracle et de protection des données avec une machine virtuelle Azure et un stockage Azure NetApp Files . 
keywords: architecture, database, Oracle, Azure, Azure NetApp Files 
---
= Architecture de la solution
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Le diagramme d’architecture suivant illustre un déploiement de base de données Oracle hautement disponible sur des instances de machine virtuelle Azure et le stockage Azure NetApp Files .

Dans l’environnement, l’instance de calcul Oracle est déployée via une console de machine virtuelle de services Azure.  Plusieurs types d’instances Azure sont disponibles depuis la console.  NetApp recommande de déployer une instance de machine virtuelle Azure orientée base de données qui répond à votre charge de travail attendue.

Le stockage de base de données Oracle, quant à lui, est déployé avec le service Azure NetApp Files disponible depuis la console Azure.  Les volumes binaires, de données ou de journaux Oracle sont ensuite présentés et montés sur un hôte Linux d’instance de machine virtuelle Azure.

image:db-ora-azure-anf-architecture.png["Cette image illustre la relation entre le site principal, le site de secours et le peering vNet de chacun de ces sites.  Cela forme quatre réseaux virtuels distincts."]

À bien des égards, l’implémentation d’ Azure NetApp Files dans le cloud Azure est très similaire à une architecture de stockage de données ONTAP sur site avec de nombreuses redondances intégrées, telles que RAID et deux contrôleurs.  Pour la reprise après sinistre, un site de secours peut être configuré dans différentes régions et la base de données peut être synchronisée avec le site principal à l'aide de la réplication au niveau de l'application (par exemple, Oracle Data Guard).

Dans notre validation de test pour le déploiement de la base de données Oracle et la protection des données, la base de données Oracle est déployée sur une seule machine virtuelle Azure, comme illustré dans le diagramme suivant :

image:db-ora-azure-anf-architecture2.png["Cette image illustre l’organisation d’une seule machine virtuelle Azure avec un peering vNet pour créer deux réseaux virtuels distincts."]

L'environnement Azure Oracle peut être géré avec un nœud de contrôleur Ansible pour l'automatisation à l'aide de kits d'outils fournis par NetApp pour le déploiement, la sauvegarde, la récupération et la migration de bases de données.  Toutes les mises à jour du noyau du système d’exploitation de l’instance Oracle Azure VM ou les correctifs Oracle peuvent être effectués en parallèle pour maintenir la synchronisation entre le serveur principal et le serveur de secours.  En fait, les boîtes à outils initiales peuvent être facilement étendues pour effectuer des tâches Oracle quotidiennes si nécessaire.  Si vous avez besoin d'aide pour configurer un contrôleur Ansible CLI, consultezlink:https://docs.netapp.com/us-en/netapp-solutions-dataops/automation/automation-introduction.html["Automatisation des solutions NetApp ^"^] pour commencer.
